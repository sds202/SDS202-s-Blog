// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var y,aa,ba,ca,da,ga,ha,ia,ja,ka,la,ma,pa,qa,ra,sa,ua,va,xa,ya,Aa,Ba,Ea,Fa,Ga,Ia,Ja,Ka,La,Oa,Ta,Va,Wa,cb,db,eb,fb,ib,jb,kb,lb,qb,rb,sb,tb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,gc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc={},Ic={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,f){this.set(a,b,c,f)}function c(){this.wc=this.vc=this.yc=this.xc=this.Ic=this.Hc=this.Yb=this.Xb=0}function b(a,b,c,f){a<b?c<f?(u=a<c?a:c,t=b>f?b:f):(u=a<f?a:f,t=b>c?b:c):c<f?(u=b<c?b:c,t=a>f?a:f):(u=b<f?b:f,t=a>c?a:c)}function d(){this.items=this.He=null;this.ei=0;D&&(this.He=new Set);this.xi=[];this.hg=!0}function e(a){B[C++]=a}function h(){this.Ab=this.Gl=this.y=this.B=0}function f(a){this.Wa=[];this.gk=this.ik=this.jk=this.hk=0;this.rk=null;this.Kj(a)}function g(a,
b){this.lc=a;this.kc=b;this.cells={}}function l(a,b){this.lc=a;this.kc=b;this.cells={}}function n(a,b,c){var f;return E.length?(f=E.pop(),f.Sm=a,f.x=b,f.y=c,f):new aa(a,b,c)}function k(a,b,c){this.Sm=a;this.x=b;this.y=c;this.hc=new ba}function m(a,b,c){var f;return z.length?(f=z.pop(),f.Sm=a,f.x=b,f.y=c,f):new ca(a,b,c)}function p(a,b,c){this.Sm=a;this.x=b;this.y=c;this.hc=[];this.ci=!0;this.ef=new ba;this.Ji=!1}function r(a,b){return a.Le-b.Le}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};ha=function(a){return"undefined"===typeof a};ia=function(a){return"number"===typeof a};ja=function(a){return"string"===typeof a};ka=function(a){return 0<a&&0===(a-1&a)};la=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};ma=function(a){return 0>a?-a:a};pa=function(a,b){return a>b?a:b};qa=function(a,b){return a<b?a:b};ra=Math.PI;sa=function(a){return 0<=a?a|0:(a|0)-1};ua=function(a){var b=a|0;return b===a?b:b+
1};va=function(a,b,c,f,x,g,h,d){var k,l,e,q;a<c?(l=a,k=c):(l=c,k=a);x<h?(q=x,e=h):(q=h,e=x);if(k<q||l>e)return!1;b<f?(l=b,k=f):(l=f,k=b);g<d?(q=g,e=d):(q=d,e=g);if(k<q||l>e)return!1;k=x-a+h-c;l=g-b+d-f;a=c-a;b=f-b;x=h-x;g=d-g;d=ma(b*x-g*a);return ma(x*l-g*k)>d?!1:ma(a*l-b*k)<=d};a.prototype.set=function(a,b,c,f){this.left=a;this.top=b;this.right=c;this.bottom=f};a.prototype.sk=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.qv=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.rv=function(a,b,c){return!(a.right+
b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.Wc=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Ak=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};xa=a;c.prototype.Jj=function(a){this.Xb=a.left;this.Yb=a.top;this.Hc=a.right;this.Ic=a.top;this.xc=a.right;this.yc=a.bottom;this.vc=a.left;this.wc=a.bottom};c.prototype.cr=function(a,b){if(0===b)this.Jj(a);else{var c=
Math.sin(b),f=Math.cos(b),x=a.left*c,g=a.top*c,h=a.right*c,c=a.bottom*c,d=a.left*f,k=a.top*f,l=a.right*f,f=a.bottom*f;this.Xb=d-g;this.Yb=k+x;this.Hc=l-g;this.Ic=k+h;this.xc=l-c;this.yc=f+h;this.vc=d-c;this.wc=f+x}};c.prototype.offset=function(a,b){this.Xb+=a;this.Yb+=b;this.Hc+=a;this.Ic+=b;this.xc+=a;this.yc+=b;this.vc+=a;this.wc+=b;return this};var u=0,t=0;c.prototype.Wo=function(a){b(this.Xb,this.Hc,this.xc,this.vc);a.left=u;a.right=t;b(this.Yb,this.Ic,this.yc,this.wc);a.top=u;a.bottom=t};c.prototype.Wc=
function(a,b){var c=this.Xb,f=this.Yb,x=this.Hc-c,g=this.Ic-f,h=this.xc-c,d=this.yc-f,k=a-c,l=b-f,e=x*x+g*g,q=x*h+g*d,g=x*k+g*l,D=h*h+d*d,m=h*k+d*l,B=1/(e*D-q*q),x=(D*g-q*m)*B,e=(e*m-q*g)*B;if(0<=x&&0<e&&1>x+e)return!0;x=this.vc-c;g=this.wc-f;e=x*x+g*g;q=x*h+g*d;g=x*k+g*l;B=1/(e*D-q*q);x=(D*g-q*m)*B;e=(e*m-q*g)*B;return 0<=x&&0<e&&1>x+e};c.prototype.dg=function(a,b){if(b)switch(a){case 0:return this.Xb;case 1:return this.Hc;case 2:return this.xc;case 3:return this.vc;case 4:return this.Xb;default:return this.Xb}else switch(a){case 0:return this.Yb;
case 1:return this.Ic;case 2:return this.yc;case 3:return this.wc;case 4:return this.Yb;default:return this.Yb}};c.prototype.Bg=function(){return(this.Xb+this.Hc+this.xc+this.vc)/4};c.prototype.Cg=function(){return(this.Yb+this.Ic+this.yc+this.wc)/4};c.prototype.Lp=function(a){var b=a.Bg(),c=a.Cg();if(this.Wc(b,c))return!0;b=this.Bg();c=this.Cg();if(a.Wc(b,c))return!0;var f,x,g,h,d,k,l,e;for(l=0;4>l;l++)for(e=0;4>e;e++)if(b=this.dg(l,!0),c=this.dg(l,!1),f=this.dg(l+1,!0),x=this.dg(l+1,!1),g=a.dg(e,
!0),h=a.dg(e,!1),d=a.dg(e+1,!0),k=a.dg(e+1,!1),va(b,c,f,x,g,h,d,k))return!0;return!1};ya=c;Aa=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ba=function(a,b){var c,f;b=sa(b);if(!(0>b||b>=a.length)){c=b;for(f=a.length-1;c<f;c++)a[c]=a[c+1];a.length=f}};Ea=function(a,b){a.length=b.length;var c,f;c=0;for(f=b.length;c<f;c++)a[c]=b[c]};Fa=function(a,b){a.push.apply(a,b)};Ga=function(a,b){var c,f;c=0;for(f=a.length;c<f;++c)if(a[c]===b)return c;return-1};Ia=function(a,b){var c=Ga(a,
b);-1!==c&&Ba(a,c)};Ja=function(a){return a/(180/ra)};Ka=function(a){return 180/ra*a};La=function(a){a%=360;0>a&&(a+=360);return a};Oa=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ta=function(a){return La(Ka(a))};Va=function(a){return Oa(Ja(a))};Wa=function(a,b,c,f){return Math.atan2(f-b,c-a)};cb=function(a,b){if(a===b)return 0;var c=Math.sin(a),f=Math.cos(a),x=Math.sin(b),g=Math.cos(b),c=c*x+f*g;return 1<=c?0:-1>=c?ra:Math.acos(c)};db=function(a,b,c){var f=Math.sin(a),x=Math.cos(a),g=Math.sin(b),
h=Math.cos(b);return Math.acos(f*g+x*h)>c?0<x*g-f*h?Oa(a+c):Oa(a-c):Oa(b)};eb=function(a,b){var c=Math.sin(a),f=Math.cos(a),x=Math.sin(b),g=Math.cos(b);return 0>=f*x-c*g};fb=function(a,b,c,f){a=c-a;b=f-b;return Math.sqrt(a*a+b*b)};ib=function(a,b){return!a!==!b};jb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};kb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var w=+new Date;lb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==
typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-w};var q=!1,v=q=!1,x=!1;"undefined"!==typeof window&&(q=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),q=!q&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),x=window.c2ejecta);var D=!q&&!x&&!v&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.zf()?!1:D?this.He.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(D)this.He.has(a)||(this.He.add(a),this.hg=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.ei++,this.hg=!1):(this.items={},this.items[b]=a,this.ei=1,this.hg=!1)}};d.prototype.remove=function(a){if(!this.zf())if(D)this.He.has(a)&&(this.He["delete"](a),this.hg=!1);else if(this.items){a=a.toString();var b=
this.items;b.hasOwnProperty(a)&&(delete b[a],this.ei--,this.hg=!1)}};d.prototype.clear=function(){this.zf()||(D?this.He.clear():(this.items=null,this.ei=0),this.xi.length=0,this.hg=!0)};d.prototype.zf=function(){return 0===this.count()};d.prototype.count=function(){return D?this.He.size:this.ei};var B=null,C=0;d.prototype.Ew=function(){if(!this.hg){if(D)this.xi.length=this.He.size,B=this.xi,C=0,this.He.forEach(e),B=null,C=0;else{var a=this.xi;a.length=this.ei;var b,c=0,f=this.items;if(f)for(b in f)f.hasOwnProperty(b)&&
(a[c++]=f[b])}this.hg=!0}};d.prototype.Xd=function(){this.Ew();return this.xi};ba=d;new ba;qb=function(a,b){D?rb(a,b.He):sb(a,b.Xd())};rb=function(a,b){var c,f,x,g;f=c=0;for(x=a.length;c<x;++c)g=a[c],b.has(g)||(a[f++]=g);a.length=f};sb=function(a,b){var c,f,x,g;f=c=0;for(x=a.length;c<x;++c)g=a[c],-1===Ga(b,g)&&(a[f++]=g);a.length=f};h.prototype.add=function(a){this.y=a-this.B;this.Gl=this.Ab+this.y;this.B=this.Gl-this.Ab-this.y;this.Ab=this.Gl};h.prototype.reset=function(){this.Ab=this.Gl=this.y=
this.B=0};tb=h;Ab=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.Kj=function(a){this.Oq=a;this.Qc=a.length/2;this.Wa.length=a.length;this.nk=this.ok=-1;this.Zo=0};f.prototype.mh=function(){return!this.Oq.length};f.prototype.Qa=function(){for(var a=this.Wa,b=a[0],c=b,f=a[1],x=f,g,h,d=1,k=this.Qc;d<k;++d)h=2*d,g=a[h],h=a[h+1],g<b&&(b=g),g>c&&(c=g),h<f&&(f=h),h>x&&(x=h);this.hk=b;this.ik=c;this.jk=f;this.gk=x};f.prototype.Jj=function(a,b,c){this.Wa.length=8;this.Qc=4;var f=
this.Wa;f[0]=a.left-b;f[1]=a.top-c;f[2]=a.right-b;f[3]=a.top-c;f[4]=a.right-b;f[5]=a.bottom-c;f[6]=a.left-b;f[7]=a.bottom-c;this.ok=a.right-a.left;this.nk=a.bottom-a.top;this.Qa()};f.prototype.si=function(a,b,c,f,x){this.Wa.length=8;this.Qc=4;var g=this.Wa;g[0]=a.Xb-b;g[1]=a.Yb-c;g[2]=a.Hc-b;g[3]=a.Ic-c;g[4]=a.xc-b;g[5]=a.yc-c;g[6]=a.vc-b;g[7]=a.wc-c;this.ok=f;this.nk=x;this.Qa()};f.prototype.br=function(a){this.Qc=a.Qc;Ea(this.Wa,a.Wa);this.hk=a.hk;this.jk-a.jk;this.ik=a.ik;this.gk=a.gk};f.prototype.gg=
function(a,b,c){if(this.ok!==a||this.nk!==b||this.Zo!==c){this.ok=a;this.nk=b;this.Zo=c;var f,x,g,h,d,k=0,l=1,e=this.Oq,q=this.Wa;0!==c&&(k=Math.sin(c),l=Math.cos(c));c=0;for(g=this.Qc;c<g;c++)f=2*c,x=f+1,h=e[f]*a,d=e[x]*b,q[f]=h*l-d*k,q[x]=d*l+h*k;this.Qa()}};f.prototype.Wc=function(a,b){var c=this.Wa;if(a===c[0]&&b===c[1])return!0;var f,x,g,h=this.Qc,d=this.hk-110,k=this.jk-101,l=this.ik+131,e=this.gk+120,q,D,m=0,B=0;for(f=0;f<h;f++)x=2*f,g=(f+1)%h*2,q=c[x],x=c[x+1],D=c[g],g=c[g+1],va(d,k,a,b,q,
x,D,g)&&m++,va(l,e,a,b,q,x,D,g)&&B++;return 1===m%2||1===B%2};f.prototype.ij=function(a,b,c){var f=a.Wa,x=this.Wa;if(this.Wc(f[0]+b,f[1]+c)||a.Wc(x[0]-b,x[1]-c))return!0;var g,h,d,k,l,e,q,D,m,B,r,n;g=0;for(k=this.Qc;g<k;g++)for(h=2*g,d=(g+1)%k*2,D=x[h],h=x[h+1],m=x[d],B=x[d+1],d=0,q=a.Qc;d<q;d++)if(l=2*d,e=(d+1)%q*2,r=f[l]+b,l=f[l+1]+c,n=f[e]+b,e=f[e+1]+c,va(D,h,m,B,r,l,n,e))return!0;return!1};f.prototype.Fv=function(a){var b,c,f;b=0;for(c=this.Qc;b<c;++b)f=2*b,this.Wa[f]=2*a-this.Wa[f]};f.prototype.yu=
function(a){var b,c,f;b=0;for(c=this.Qc;b<c;++b)f=2*b+1,this.Wa[f]=2*a-this.Wa[f]};f.prototype.pt=function(){var a,b,c,f,x;a=0;for(b=this.Qc;a<b;++a)c=2*a,f=c+1,x=this.Wa[c],this.Wa[c]=this.Wa[f],this.Wa[f]=x};Bb=f;g.prototype.og=function(a,b,c){var f;f=this.cells[a];return f?(f=f[b])?f:c?(f=n(this,a,b),this.cells[a][b]=f):null:c?(f=n(this,a,b),this.cells[a]={},this.cells[a][b]=f):null};g.prototype.Bd=function(a){return sa(a/this.lc)};g.prototype.Cd=function(a){return sa(a/this.kc)};g.prototype.update=
function(a,b,c){var f,x,g,h,d;if(b)for(f=b.left,x=b.right;f<=x;++f)for(g=b.top,h=b.bottom;g<=h;++g)if(!c||!c.Wc(f,g))if(d=this.og(f,g,!1))d.remove(a),d.zf()&&(d.hc.clear(),1E3>E.length&&E.push(d),this.cells[f][g]=null);if(c)for(f=c.left,x=c.right;f<=x;++f)for(g=c.top,h=c.bottom;g<=h;++g)b&&b.Wc(f,g)||this.og(f,g,!0).Ym(a)};g.prototype.yl=function(a,b){var c,f,x,g,h,d;c=this.Bd(a.left);x=this.Cd(a.top);f=this.Bd(a.right);for(h=this.Cd(a.bottom);c<=f;++c)for(g=x;g<=h;++g)(d=this.og(c,g,!1))&&d.dump(b)};
Cb=g;l.prototype.og=function(a,b,c){var f;f=this.cells[a];return f?(f=f[b])?f:c?(f=m(this,a,b),this.cells[a][b]=f):null:c?(f=m(this,a,b),this.cells[a]={},this.cells[a][b]=f):null};l.prototype.Bd=function(a){return sa(a/this.lc)};l.prototype.Cd=function(a){return sa(a/this.kc)};l.prototype.update=function(a,b,c){var f,x,g,h,d;if(b)for(f=b.left,x=b.right;f<=x;++f)for(g=b.top,h=b.bottom;g<=h;++g)if(!c||!c.Wc(f,g))if(d=this.og(f,g,!1))d.remove(a),d.zf()&&(d.reset(),1E3>z.length&&z.push(d),this.cells[f][g]=
null);if(c)for(f=c.left,x=c.right;f<=x;++f)for(g=c.top,h=c.bottom;g<=h;++g)b&&b.Wc(f,g)||this.og(f,g,!0).Ym(a)};l.prototype.yl=function(a,b,c,f,g){var x,h;a=this.Bd(a);b=this.Cd(b);c=this.Bd(c);for(x=this.Cd(f);a<=c;++a)for(f=b;f<=x;++f)(h=this.og(a,f,!1))&&h.dump(g)};l.prototype.Cv=function(a){var b,c,f,g,x;b=a.left;f=a.top;c=a.right;for(g=a.bottom;b<=c;++b)for(a=f;a<=g;++a)if(x=this.og(b,a,!1))x.ci=!1};Db=l;var E=[];k.prototype.zf=function(){return this.hc.zf()};k.prototype.Ym=function(a){this.hc.add(a)};
k.prototype.remove=function(a){this.hc.remove(a)};k.prototype.dump=function(a){Fa(a,this.hc.Xd())};aa=k;var z=[];p.prototype.zf=function(){if(!this.hc.length)return!0;if(this.hc.length>this.ef.count())return!1;this.Hm();return!0};p.prototype.Ym=function(a){this.ef.contains(a)?(this.ef.remove(a),this.ef.zf()&&(this.Ji=!1)):this.hc.length?(this.hc[this.hc.length-1].ie()>a.ie()&&(this.ci=!1),this.hc.push(a)):(this.hc.push(a),this.ci=!0)};p.prototype.remove=function(a){this.ef.add(a);this.Ji=!0;30<=this.ef.count()&&
this.Hm()};p.prototype.Hm=function(){this.Ji&&(this.ef.count()===this.hc.length?this.reset():(qb(this.hc,this.ef),this.ef.clear(),this.Ji=!1))};p.prototype.St=function(){this.ci||(this.hc.sort(r),this.ci=!0)};p.prototype.reset=function(){this.hc.length=0;this.ci=!0;this.ef.clear();this.Ji=!1};p.prototype.dump=function(a){this.Hm();this.St();this.hc.length&&a.push(this.hc)};ca=p;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Eb=function(a){return 0>=a||11<=a?"source-over":A[a-1]};Fb=function(a,b,c){if(c)switch(a.Fc=c.ONE,a.zc=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.Fc=c.ONE;a.zc=c.ONE;break;case 3:a.Fc=c.ONE;a.zc=c.ZERO;break;case 4:a.Fc=c.ONE_MINUS_DST_ALPHA;a.zc=c.ONE;break;case 5:a.Fc=c.DST_ALPHA;a.zc=c.ZERO;break;case 6:a.Fc=c.ZERO;a.zc=c.SRC_ALPHA;break;case 7:a.Fc=c.ONE_MINUS_DST_ALPHA;a.zc=c.ZERO;break;case 8:a.Fc=c.ZERO;a.zc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Fc=c.DST_ALPHA;a.zc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Fc=
c.ONE_MINUS_DST_ALPHA,a.zc=c.SRC_ALPHA}};Gb=function(a){return Math.round(1E6*a)/1E6};Hb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Ib=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Hb(a.tagName,"canvas")?!0:!1}})();var Jc="undefined"!==typeof Float32Array?Float32Array:Array;function Uc(a){var c=new Jc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function Vc(a){var c=new Jc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function Wc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function Xc(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function Yc(a,c,b,d){d||(d=Vc());var e,h,f,g,l,n,k,m,p=a[0],r=a[1];a=a[2];h=b[0];f=b[1];e=b[2];b=c[1];n=c[2];p===c[0]&&r===b&&a===n?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],n=r-c[1],k=a-c[2],m=1/Math.sqrt(b*b+n*n+k*k),b*=m,n*=m,k*=m,c=f*k-e*n,e=e*b-h*k,h=h*n-f*b,(m=Math.sqrt(c*c+e*e+h*h))?(m=1/m,c*=m,e*=m,h*=m):h=e=c=0,f=n*h-k*e,g=k*c-b*h,l=b*e-n*c,(m=Math.sqrt(f*f+g*g+l*l))?(m=1/m,f*=m,g*=m,l*=m):l=g=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=e,d[5]=g,d[6]=n,d[7]=0,d[8]=h,d[9]=l,d[10]=k,d[11]=0,d[12]=-(c*p+e*r+h*a),d[13]=-(f*p+g*r+l*a),d[14]=-(b*p+n*r+k*a),d[15]=1)}
(function(){function a(a){this.sg=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.$o=Uc([0,0,100]);this.bq=Uc([0,0,0]);this.Kr=Uc([0,1,0]);this.Do=Uc([1,1,1]);this.jp=!0;this.Dn=Vc();this.me=Vc();this.Tp=Vc();this.xm=Vc();this.Y=a;this.Hp()}function c(a,b,c){this.Y=a;this.Lj=b;this.name=c;this.ke=a.getAttribLocation(b,"aPos");this.xg=a.getAttribLocation(b,"aTex");this.$p=a.getUniformLocation(b,"matP");this.il=a.getUniformLocation(b,"matMV");this.hi=
a.getUniformLocation(b,"opacity");this.aq=a.getUniformLocation(b,"samplerFront");this.tj=a.getUniformLocation(b,"samplerBack");this.uh=a.getUniformLocation(b,"destStart");this.sh=a.getUniformLocation(b,"destEnd");this.An=a.getUniformLocation(b,"seconds");this.zn=a.getUniformLocation(b,"pixelWidth");this.yn=a.getUniformLocation(b,"pixelHeight");this.sj=a.getUniformLocation(b,"layerScale");this.rj=a.getUniformLocation(b,"layerAngle");this.vj=a.getUniformLocation(b,"viewOrigin");this.uj=a.getUniformLocation(b,
"scrollPos");this.mv=!!(this.zn||this.yn||this.An||this.tj||this.uh||this.sh||this.sj||this.rj||this.vj||this.uj);this.kq=this.lq=-999;this.kl=1;this.gq=this.fq=0;this.iq=this.dq=this.cq=1;this.nq=this.mq=this.pq=this.oq=this.hq=0;this.qn=[];this.jq=Vc();this.hi&&a.uniform1f(this.hi,1);this.aq&&a.uniform1i(this.aq,0);this.tj&&a.uniform1i(this.tj,1);this.uh&&a.uniform2f(this.uh,0,0);this.sh&&a.uniform2f(this.sh,1,1);this.sj&&a.uniform1f(this.sj,1);this.rj&&a.uniform1f(this.rj,0);this.vj&&a.uniform2f(this.vj,
0,0);this.uj&&a.uniform2f(this.uj,0,0);this.gh=!1}function b(a,b){this.type=a;this.Z=b;this.Y=b.Y;this.Kd=this.Ud=this.Eq=0;this.Va=this.ue=null;this.dr=[]}a.prototype.Hp=function(){var a=this.Y,b;this.Up=1;this.oh=this.vg=null;this.wk=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Wp=a.ONE;this.Sp=a.ONE_MINUS_SRC_ALPHA;this.Xj=new Float32Array(16E3);this.Pj=new Float32Array(16E3);this.Jq=
new Float32Array(32E3);this.On=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.On);a.bufferData(a.ARRAY_BUFFER,this.Jq.byteLength,a.DYNAMIC_DRAW);this.Wj=Array(4);this.Oj=Array(4);for(b=0;4>b;b++)this.Wj[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Wj[b]),a.bufferData(a.ARRAY_BUFFER,this.Xj.byteLength,a.DYNAMIC_DRAW),this.Oj[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Oj[b]),a.bufferData(a.ARRAY_BUFFER,this.Pj.byteLength,a.DYNAMIC_DRAW);this.sf=0;this.ov=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
this.ov);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Pn=this.Yd=0;this.Wb=[];b=this.wm({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",
"<default>");this.Wb.push(b);b=this.wm({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Wb.push(b);for(var e in Zc)Zc.hasOwnProperty(e)&&
this.Wb.push(this.wm(Zc[e],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Ue=[];this.ye=0;this.Lc=!1;this.gp=this.mj=-1;this.Si=null;this.wu=a.createFramebuffer();this.Tq=null;this.Ng=Uc([0,0,0]);this.rq=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];
2048<this.rq&&(this.rq=2048);this.hf(0)};c.prototype.yo=function(a){var b=this.jq;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])Wc(a,this.jq),this.Y.uniformMatrix4fv(this.il,!1,a)};a.prototype.wm=function(a,b,g){var d=this.Y,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,
d.COMPILE_STATUS))return d.deleteShader(e),null;var k=d.createShader(d.VERTEX_SHADER);d.shaderSource(k,b);d.compileShader(k);if(!d.getShaderParameter(k,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(k),null;b=d.createProgram();d.attachShader(b,e);d.attachShader(b,k);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(k),d.deleteProgram(b),null;d.useProgram(b);d.deleteShader(e);d.deleteShader(k);g=new c(d,b,g);g.Fm=a.Fm||0;g.Gm=a.Gm||0;g.ep=
!!a.ep;g.Ro=!!a.Ro;g.xa=a.xa||[];a=0;for(e=g.xa.length;a<e;a++)g.xa[a][1]=d.getUniformLocation(b,g.xa[a][0]),g.qn.push(0),d.uniform1f(g.xa[a][1],0);return g};a.prototype.Rm=function(a){var b,c;b=0;for(c=this.Wb.length;b<c;b++)if(this.Wb[b].name===a)return b;return-1};a.prototype.Nq=function(a,b,c){var d=this.me,e=this.Dn,k=[0,0,0,0,0,0,0,0];k[0]=d[0]*a+d[4]*b+d[12];k[1]=d[1]*a+d[5]*b+d[13];k[2]=d[2]*a+d[6]*b+d[14];k[3]=d[3]*a+d[7]*b+d[15];k[4]=e[0]*k[0]+e[4]*k[1]+e[8]*k[2]+e[12]*k[3];k[5]=e[1]*k[0]+
e[5]*k[1]+e[9]*k[2]+e[13]*k[3];k[6]=e[2]*k[0]+e[6]*k[1]+e[10]*k[2]+e[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],c[0]=(.5*k[4]+.5)*this.width,c[1]=(.5*k[5]+.5)*this.height)};a.prototype.ri=function(a,b,c){if(this.width!==a||this.height!==b||c){this.uf();this.width=a;this.height=b;this.Y.viewport(0,0,a,b);b=a/b;var d=this.Dn,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=Vc());var k=b-a,m=e-c;d[0]=2/k;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/m;d[6]=0;d[7]=0;d[8]=(b+a)/
k;d[9]=(e+c)/m;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;Yc(this.$o,this.bq,this.Kr,this.me);a=[0,0];b=[0,0];this.Nq(0,0,a);this.Nq(1,1,b);this.Do[0]=1/(b[0]-a[0]);this.Do[1]=-1/(b[1]-a[1]);a=0;for(b=this.Wb.length;a<b;a++)c=this.Wb[a],c.gh=!1,c.$p&&(this.Y.useProgram(c.Lj),this.Y.uniformMatrix4fv(c.$p,!1,this.Dn));this.Y.useProgram(this.Wb[this.mj].Lj);this.Y.bindTexture(this.Y.TEXTURE_2D,null);this.Y.activeTexture(this.Y.TEXTURE1);this.Y.bindTexture(this.Y.TEXTURE_2D,null);
this.Y.activeTexture(this.Y.TEXTURE0);this.oh=this.vg=null}};a.prototype.ff=function(){Yc(this.$o,this.bq,this.Kr,this.me);Xc(this.me,this.Do)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ng[0]=a;this.Ng[1]=b;this.Ng[2]=0;var c=this.me,d=this.Ng,e=d[0],k=d[1],d=d[2];c[12]=c[0]*e+c[4]*k+c[8]*d+c[12];c[13]=c[1]*e+c[5]*k+c[9]*d+c[13];c[14]=c[2]*e+c[6]*k+c[10]*d+c[14];c[15]=c[3]*e+c[7]*k+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ng[0]=a,this.Ng[1]=b,this.Ng[2]=
1,Xc(this.me,this.Ng)};a.prototype.Zn=function(a){if(0!==a){var b=this.me,c,d=Math.sin(a);a=Math.cos(a);var e=b[0],k=b[1],m=b[2],p=b[3],r=b[4],u=b[5],t=b[6],w=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+r*d;c[1]=k*a+u*d;c[2]=m*a+t*d;c[3]=p*a+w*d;c[4]=e*-d+r*a;c[5]=k*-d+u*a;c[6]=m*-d+t*a;c[7]=p*-d+w*a}};a.prototype.mf=function(){for(var a=!1,b=0;16>b;b++)if(this.Tp[b]!==this.me[b]){a=!0;break}a&&(a=this.qe(),a.type=5,a.Va?
Wc(this.me,a.Va):a.Va=Vc(this.me),Wc(this.me,this.Tp),this.Lc=!1)};b.prototype.It=function(){this.Y.bindTexture(this.Y.TEXTURE_2D,this.ue)};b.prototype.Jt=function(){var a=this.Y;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ue);a.activeTexture(a.TEXTURE0)};b.prototype.Ft=function(){var a=this.Eq,b=this.Z;b.wk=a;b=b.Si;b.hi&&b.kl!==a&&(b.kl=a,this.Y.uniform1f(b.hi,a))};b.prototype.Ct=function(){this.Y.drawElements(this.Y.TRIANGLES,this.Kd,this.Y.UNSIGNED_SHORT,2*this.Ud)};b.prototype.Et=
function(){this.Y.blendFunc(this.Ud,this.Kd)};b.prototype.Kt=function(){var a,b,c,d=this.Z.Wb,e=this.Z.gp;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.il?(c.yo(this.Va),c.gh=!0):c.gh=!1;Wc(this.Va,this.Z.xm)};b.prototype.Dt=function(){var a=this.Y,b=this.Z;this.ue?(b.oh===this.ue&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.oh=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.wu),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ue,0)):
(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.xt=function(){var a=this.Y;0===this.Ud?(a.clearColor(this.Va[0],this.Va[1],this.Va[2],this.Va[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.Va[0],this.Va[1],this.Va[2],this.Va[3]),a.clearColor(0,0,0,0),a.clear(this.Y.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.Bt=function(){var a=this.Y,b=this.Z,c=b.Wb[1];a.useProgram(c.Lj);!c.gh&&
c.il&&(c.yo(b.xm),c.gh=!0);a.enableVertexAttribArray(c.ke);a.bindBuffer(a.ARRAY_BUFFER,b.On);a.vertexAttribPointer(c.ke,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Ud/4,this.Kd);c=b.Si;a.useProgram(c.Lj);0<=c.ke&&(a.enableVertexAttribArray(c.ke),a.bindBuffer(a.ARRAY_BUFFER,b.Wj[b.sf]),a.vertexAttribPointer(c.ke,2,a.FLOAT,!1,0,0));0<=c.xg&&(a.enableVertexAttribArray(c.xg),a.bindBuffer(a.ARRAY_BUFFER,b.Oj[b.sf]),a.vertexAttribPointer(c.xg,2,a.FLOAT,!1,0,0))};b.prototype.Gt=function(){var a=this.Y,
b=this.Z,c=b.Wb[this.Ud];b.gp=this.Ud;b.Si=c;a.useProgram(c.Lj);!c.gh&&c.il&&(c.yo(b.xm),c.gh=!0);c.hi&&c.kl!==b.wk&&(c.kl=b.wk,a.uniform1f(c.hi,b.wk));0<=c.ke&&(a.enableVertexAttribArray(c.ke),a.bindBuffer(a.ARRAY_BUFFER,b.Wj[b.sf]),a.vertexAttribPointer(c.ke,2,a.FLOAT,!1,0,0));0<=c.xg&&(a.enableVertexAttribArray(c.xg),a.bindBuffer(a.ARRAY_BUFFER,b.Oj[b.sf]),a.vertexAttribPointer(c.xg,2,a.FLOAT,!1,0,0))};b.prototype.Ht=function(){var a,b,c=this.Z.Si,d=this.Y;a=this.Va;c.tj&&this.Z.oh!==this.ue&&
(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.ue),this.Z.oh=this.ue,d.activeTexture(d.TEXTURE0));var e=a[0];c.zn&&e!==c.lq&&(c.lq=e,d.uniform1f(c.zn,e));e=a[1];c.yn&&e!==c.kq&&(c.kq=e,d.uniform1f(c.yn,e));e=a[2];b=a[3];!c.uh||e===c.fq&&b===c.gq||(c.fq=e,c.gq=b,d.uniform2f(c.uh,e,b));e=a[4];b=a[5];!c.sh||e===c.cq&&b===c.dq||(c.cq=e,c.dq=e,d.uniform2f(c.sh,e,b));e=a[6];c.sj&&e!==c.iq&&(c.iq=e,d.uniform1f(c.sj,e));e=a[7];c.rj&&e!==c.hq&&(c.hq=e,d.uniform1f(c.rj,e));e=a[8];b=a[9];!c.vj||
e===c.oq&&b===c.pq||(c.oq=e,c.pq=b,d.uniform2f(c.vj,e,b));e=a[10];b=a[11];!c.uj||e===c.mq&&b===c.nq||(c.mq=e,c.nq=b,d.uniform2f(c.uj,e,b));c.An&&d.uniform1f(c.An,lb()/1E3);if(c.xa.length)for(a=0,b=c.xa.length;a<b;a++)e=this.dr[a],e!==c.qn[a]&&(c.qn[a]=e,d.uniform1f(c.xa[a][1],e))};a.prototype.qe=function(){this.ye===this.Ue.length&&this.Ue.push(new b(0,this));return this.Ue[this.ye++]};a.prototype.uf=function(){if(0!==this.ye&&!this.Y.isContextLost()){var a=this.Y;0<this.Pn&&(a.bindBuffer(a.ARRAY_BUFFER,
this.On),a.bufferSubData(a.ARRAY_BUFFER,0,this.Jq.subarray(0,this.Pn)),b&&0<=b.ke&&"<point>"===b.name&&a.vertexAttribPointer(b.ke,4,a.FLOAT,!1,0,0));if(0<this.Yd){var b=this.Si;a.bindBuffer(a.ARRAY_BUFFER,this.Wj[this.sf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Xj.subarray(0,this.Yd));b&&0<=b.ke&&"<point>"!==b.name&&a.vertexAttribPointer(b.ke,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Oj[this.sf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Pj.subarray(0,this.Yd));b&&0<=b.xg&&"<point>"!==b.name&&
a.vertexAttribPointer(b.xg,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.ye;a<b;a++)switch(c=this.Ue[a],c.type){case 1:c.Ct();break;case 2:c.It();break;case 3:c.Ft();break;case 4:c.Et();break;case 5:c.Kt();break;case 6:c.Dt();break;case 7:c.xt();break;case 8:c.Bt();break;case 9:c.Gt();break;case 10:c.Ht();break;case 11:c.Jt()}this.Pn=this.Yd=this.ye=0;this.Lc=!1;this.sf++;4<=this.sf&&(this.sf=0)}};a.prototype.Kg=function(a){if(a!==this.Up){var b=this.qe();b.type=3;this.Up=b.Eq=a;this.Lc=!1}};a.prototype.dd=
function(a){if(a!==this.vg){var b=this.qe();b.type=2;this.vg=b.ue=a;this.Lc=!1}};a.prototype.Jg=function(a,b){if(a!==this.Wp||b!==this.Sp){var c=this.qe();c.type=4;c.Ud=a;c.Kd=b;this.Wp=a;this.Sp=b;this.Lc=!1}};a.prototype.Yq=function(){this.Jg(this.Y.ONE,this.Y.ONE_MINUS_SRC_ALPHA)};a.prototype.xl=function(a,b,c,d,e,k,m,p){15992<=this.Yd&&this.uf();var r=this.Yd,u=this.Xj,t=this.Pj;if(this.Lc)this.Ue[this.ye-1].Kd+=6;else{var w=this.qe();w.type=1;w.Ud=r/4*3;w.Kd=6;this.Lc=!0}u[r]=a;t[r++]=0;u[r]=
b;t[r++]=0;u[r]=c;t[r++]=1;u[r]=d;t[r++]=0;u[r]=e;t[r++]=1;u[r]=k;t[r++]=1;u[r]=m;t[r++]=0;u[r]=p;t[r++]=1;this.Yd=r};a.prototype.Ge=function(a,b,c,d,e,k,m,p,r){15992<=this.Yd&&this.uf();var u=this.Yd,t=this.Xj,w=this.Pj;if(this.Lc)this.Ue[this.ye-1].Kd+=6;else{var q=this.qe();q.type=1;q.Ud=u/4*3;q.Kd=6;this.Lc=!0}var q=r.left,v=r.top,x=r.right;r=r.bottom;t[u]=a;w[u++]=q;t[u]=b;w[u++]=v;t[u]=c;w[u++]=x;t[u]=d;w[u++]=v;t[u]=e;w[u++]=x;t[u]=k;w[u++]=r;t[u]=m;w[u++]=q;t[u]=p;w[u++]=r;this.Yd=u};a.prototype.hw=
function(a,b,c,d,e,k,m,p,r,u,t,w,q,v,x,D){15992<=this.Yd&&this.uf();var B=this.Yd,C=this.Xj,E=this.Pj;if(this.Lc)this.Ue[this.ye-1].Kd+=6;else{var z=this.qe();z.type=1;z.Ud=B/4*3;z.Kd=6;this.Lc=!0}C[B]=a;E[B++]=r;C[B]=b;E[B++]=u;C[B]=c;E[B++]=t;C[B]=d;E[B++]=w;C[B]=e;E[B++]=q;C[B]=k;E[B++]=v;C[B]=m;E[B++]=x;C[B]=p;E[B++]=D;this.Yd=B};a.prototype.hf=function(a){if(this.mj!==a){if(!this.Wb[a]){if(0===this.mj)return;a=0}var b=this.qe();b.type=9;this.mj=b.Ud=a;this.Lc=!1}};a.prototype.Dj=function(a){a=
this.Wb[a];return!(!a.uh&&!a.sh)};a.prototype.Rn=function(a){a=this.Wb[a];return!!(a.uh||a.sh||a.ep)};a.prototype.cw=function(a){a=this.Wb[a];return 0!==a.Fm||0!==a.Gm};a.prototype.Ou=function(a){return this.Wb[a].Fm};a.prototype.Pu=function(a){return this.Wb[a].Gm};a.prototype.Qu=function(a,b){return this.Wb[a].xa[b][2]};a.prototype.tl=function(a){return this.Wb[a].Ro};a.prototype.qi=function(a,b,c,d,e,k,m,p,r,u,t,w,q,v){var x=this.Wb[this.mj],D,B;if(x.mv||v.length){D=this.qe();D.type=10;D.Va?Wc(this.me,
D.Va):D.Va=Vc();B=D.Va;B[0]=b;B[1]=c;B[2]=d;B[3]=e;B[4]=k;B[5]=m;B[6]=p;B[7]=r;B[8]=u;B[9]=t;B[10]=w;B[11]=q;x.tj?D.ue=a:D.ue=null;if(v.length)for(c=D.dr,c.length=v.length,a=0,b=v.length;a<b;a++)c[a]=v[a];this.Lc=!1}};a.prototype.clear=function(a,b,c,d){var e=this.qe();e.type=7;e.Ud=0;e.Va||(e.Va=Vc());e.Va[0]=a;e.Va[1]=b;e.Va[2]=c;e.Va[3]=d;this.Lc=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.qe();e.type=7;e.Ud=1;e.Va||(e.Va=Vc());e.Va[0]=a;e.Va[1]=b;e.Va[2]=c;e.Va[3]=d;
this.Lc=!1}};a.prototype.aw=function(){this.uf();this.Y.flush()};var d=[],e={};a.prototype.ht=function(){d.length=0;e={}};a.prototype.fl=function(a,b,c,l){b=!!b;c=!!c;var n=a.src+","+b+","+c+(b?",undefined":""),k=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(n))return k=e[n],k.mk++,k;this.uf();var m=this.Y,p=ka(a.width)&&ka(a.height),k=m.createTexture();m.bindTexture(m.TEXTURE_2D,k);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=m.RGBA,u=m.RGBA,t=m.UNSIGNED_BYTE;if(l&&!this.sg)switch(l){case 1:u=
r=m.RGB;break;case 2:t=m.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=m.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=r=m.RGB,t=m.UNSIGNED_SHORT_5_6_5}if(!p&&b){l=document.createElement("canvas");l.width=la(a.width);l.height=la(a.height);var w=l.getContext("2d");w.webkitImageSmoothingEnabled=c;w.mozImageSmoothingEnabled=c;w.msImageSmoothingEnabled=c;w.imageSmoothingEnabled=c;w.drawImage(a,0,0,a.width,a.height,0,0,l.width,l.height);m.texImage2D(m.TEXTURE_2D,0,r,u,t,l)}else m.texImage2D(m.TEXTURE_2D,0,r,u,t,a);b?
(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));c?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),p&&this.jp?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST));m.bindTexture(m.TEXTURE_2D,null);this.vg=null;k.Oi=a.width;k.Ni=a.height;k.mk=1;k.Yo=n;d.push(k);return e[n]=k};a.prototype.Ye=function(a,b,c,e,n){this.uf();var k=this.Y;this.sg&&(e=!1);var m=k.createTexture();k.bindTexture(k.TEXTURE_2D,m);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,a,b,0,k.RGBA,e?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);n?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,c?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,c?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.vg=null;m.Oi=a;m.Ni=b;d.push(m);return m};a.prototype.Rr=function(a,b,c){this.uf();var d=this.Y;this.sg&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.vg=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.mk&&1<a.mk?a.mk--:(this.uf(),a===this.vg&&(this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.vg=null),a===this.oh&&(this.Y.activeTexture(this.Y.TEXTURE1),this.Y.bindTexture(this.Y.TEXTURE_2D,null),this.Y.activeTexture(this.Y.TEXTURE0),
this.oh=null),Ia(d,a),"undefined"!==typeof a.Yo&&delete e[a.Yo],this.Y.deleteTexture(a)))};a.prototype.gf=function(a){if(a!==this.Tq){var b=this.qe();b.type=6;this.Tq=b.ue=a;this.Lc=!1}};Jb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.qg=(this.Qk=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.rg=!!a.dc;this.sv="undefined"!==typeof window.AppMobi||this.rg;this.Md=!!window.c2cocoonjs;this.je=!!window.c2ejecta;this.Md&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.je&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.nc=this.rg||this.Md||this.je;this.sg=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.gn=/tizen/i.test(navigator.userAgent);this.bn=/android/i.test(navigator.userAgent)&&!this.gn&&!this.sg;this.mn=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.sg;this.Rp=/ipad/i.test(navigator.userAgent);this.ln=this.mn||this.Rp||this.je;this.wv=this.mn&&/os\s6/i.test(navigator.userAgent);this.Pk=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.sg;this.an=/amazonwebappplatform/i.test(navigator.userAgent);this.tv=/firefox/i.test(navigator.userAgent);this.vv=/safari/i.test(navigator.userAgent)&&!this.Pk&&!this.sg;this.tg="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||
/nwjs/i.test(navigator.userAgent);this.Op=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Pp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ai=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.jn=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.hn=this.Op||this.Pp||this.jn;this.Np=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Mp=this.bn&&!this.Pk&&
!this.Qk&&!this.tv&&!this.an&&!this.nc;this.devicePixelRatio=1;this.kh=this.qg||this.Qk||this.sv||this.Md||this.bn||this.ln||this.ai||this.jn||this.Np||this.gn||this.je;this.kh||(this.kh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.tg||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.tg=!0);this.canvas=a;this.bp=document.getElementById("c2canvasdiv");
this.Sa=this.Z=this.Y=null;this.Lm="";this.Ek=!1;this.zq=this.Aq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.rg&&(window.c2runtime=this);this.tg&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.Mp&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.Ca=this.width;this.Ba=this.height;this.uk=this.width;this.tk=this.height;this.oj=window.innerWidth;this.nj=window.innerHeight;this.zu=!1;this.Ia=!0;this.kj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.ba=[];this.Ib=[];this.wn={};this.De=[];this.Em={};this.vf=[];this.Ai=[];this.Ol=[];this.Vs=[];this.Ws=[];this.kr=null;this.Yg={};this.cn=this.pg=!1;this.Nd=0;this.en=!1;this.Ae=[];this.Cf=this.Bc=this.cl=
this.co="";this.Nj=this.hr=!1;this.rm=this.wj=this.lg=this.ra=0;this.Ih=1;this.nh=new tb;this.Sl=new tb;this.ml=this.Hk=this.dh=this.Vd=this.qh=this.Jm=this.Yk=0;this.pm=null;this.zk=[];this.Dm=[];this.Bk=-1;this.Bn=[[]];this.vo=this.jl=0;this.wl(null);this.Wi=this.vq=this.zj=0;this.Fl=[];this.so=this.Tn=-1;this.Uk=!0;this.hl=0;this.jj=!1;this.yw=0;this.Mi=null;this.Rk=!1;this.xq=new ba;this.Hn=new ba;this.yq=new ba;this.Hj=[];this.Ie=new Bb([]);this.ko=new Bb([]);this.Rh=[];this.dj={};this.Uh={};
this.Qh={};this.yi={};this.Vo={};this.Zp=this.bl=this.nd=this.Od=this.Yp=this.al=this.eb=null;this.wi=this.kn=!1;this.Mm=[null,null];this.eh=0;this.Hf={};this.Mj=this.rh=null;this.ir="";this.ll=[];this.jw()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,f){var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=d;g.onerror=f;g.onsuccess=function(d){d=d.target.result;d.onerror=f;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=
c}}function h(a,b,c){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=d;f.onerror=c;f.onsuccess=function(d){d=d.target.result;d.onerror=c;var f=d.transaction(["saves"]).objectStore("saves").get(a);f.onsuccess=function(){f.result?b(f.result.data):b(null)}}}function f(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function g(a){var b,c={};
for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].Ve||(c[b]=a[b]);return c}b.prototype.jw=function(){var a=this,b;this.ai?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.Op||this.ai||this.jn)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.nc&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(f){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(g){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.ai?b.onreadystatechange=function(){4===b.readyState&&a.el(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.el(b.response);else if(a.je){var c=b.responseText,c=c.substr(c.indexOf("{"));a.el(JSON.parse(c))}else a.el(JSON.parse(b.responseText))},b.onerror=function(a){ga("Error requesting "+c+":");ga(a)});b.send()};b.prototype.pv=function(){var b=this,d,f,g,k,e,q,h,m,l;this.devicePixelRatio=(this.lh=(!this.nc||this.je)&&
this.Gw&&!this.Mp)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.uc();f=!(!this.zu&&(!this.cm||this.tg||this.hn||this.ai||this.Qk||this.qg||this.an));0<this.kd&&this.setSize(a(),c(),!0);try{this.Qt&&(this.Md||this.je||!this.nc)&&(d={alpha:f,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.Y=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(r){}if(this.Y){this.nc||(this.oc=document.createElement("canvas"),
jQuery(this.oc).appendTo(this.canvas.parentNode),this.oc.oncontextmenu=function(){return!1},this.oc.onselectstart=function(){return!1},this.oc.width=this.uk,this.oc.height=this.tk,jQuery(this.oc).css({width:this.uk+"px",height:this.tk+"px"}),this.Kq(),this.Nn=this.oc.getContext("2d"));this.Z=new Jb(this.Y,this.kh);this.Z.ri(this.canvas.width,this.canvas.height);this.Z.jp=0!==this.Lt;this.Sa=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.Jv();da("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.Z.Hp();b.Z.ri(b.Z.width,b.Z.height,!0);b.Od=null;b.nd=null;b.Mm[0]=null;b.Mm[1]=null;b.Kv();b.Ia=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(f=this.ba.length;d<f;d++)for(e=this.ba[d],g=0,k=e.oa.length;g<k;g++)h=e.oa[g],h.sc=this.Z.Rm(h.id),this.wi=this.wi||this.Z.Dj(h.sc);d=0;for(f=this.De.length;d<f;d++){m=this.De[d];g=0;for(k=m.oa.length;g<k;g++)h=m.oa[g],h.sc=
this.Z.Rm(h.id);g=0;for(k=m.wa.length;g<k;g++)for(l=m.wa[g],e=0,q=l.oa.length;e<q;e++)h=l.oa[e],h.sc=this.Z.Rm(h.id),this.wi=this.wi||this.Z.Dj(h.sc)}}else{if(0<this.kd&&this.rg){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Sa=AppMobi.canvas.getContext("2d");try{this.Sa.samplingMode=this.Oa?"smooth":"sharp",this.Sa.globalScale=1,this.Sa.HTML5CompatibilityMode=!0,this.Sa.imageSmoothingEnabled=this.Oa}catch(v){}0!==this.width&&0!==this.height&&
(this.Sa.width=this.width,this.Sa.height=this.height)}this.Sa||(this.Md?(d={antialias:!!this.Oa,alpha:f},this.Sa=this.canvas.getContext("2d",d)):(d={alpha:f},this.Sa=this.canvas.getContext("2d",d)),this.Sa.webkitImageSmoothingEnabled=this.Oa,this.Sa.mozImageSmoothingEnabled=this.Oa,this.Sa.msImageSmoothingEnabled=this.Oa,this.Sa.imageSmoothingEnabled=this.Oa);this.Nn=this.oc=null}this.ur=function(a){b.wd(!1,a)};window==window.top||this.nc||this.hn||this.ai||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Md&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.cl="__c2_continuouspreview",this.Nj=!0),this.Wv&&!this.kh&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.nc||(d=function(a){if(Ib(a)&&
document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.kd&&this.lh&&1<this.devicePixelRatio&&this.setSize(this.Ob,this.Nb,!0);this.Gr();this.iv();
this.go();this.ca={}};b.prototype.setSize=function(a,b,c){var d=0,f=0,g=0,k=0,k=0,e=this.wv&&this.vv&&!navigator.standalone&&!this.nc&&!this.qg;e&&(b+=60);if(this.oj!==a||this.nj!==b||c){this.oj=a;this.nj=b;var q=this.kd,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.jj)&&!this.qg;if(h||0!==this.kd||c)h&&0<this.eh&&(q=this.eh),c=this.devicePixelRatio,4<=q?(g=this.Ob/this.Nb,a/b>g?(g*=b,5===q?(k=g*c/this.Ob,1<k?k=Math.floor(k):1>k&&
(k=1/Math.ceil(1/k)),g=this.Ob*k/c,k=this.Nb*k/c,d=(a-g)/2,f=(b-k)/2,a=g,b=k):(d=(a-g)/2,a=g)):(k=a/g,5===q?(k=k*c/this.Nb,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),g=this.Ob*k/c,k=this.Nb*k/c,d=(a-g)/2,f=(b-k)/2,a=g):f=(b-k)/2,b=k),h&&!this.tg&&(f=d=0)):this.tg&&this.jj&&0===this.rp&&(d=Math.floor((a-this.Ob)/2),f=Math.floor((b-this.Nb)/2),a=this.Ob,b=this.Nb),2>q&&(this.Li=c),this.lh&&this.Rp&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.uk=Math.round(a),this.tk=Math.round(b),this.width=
Math.round(a*c),this.height=Math.round(b*c),this.Ia=!0,this.Sr?(this.Ca=this.width,this.Ba=this.height,this.ge=!0):this.width<this.Ob&&this.height<this.Nb||1===q?(this.Ca=this.width,this.Ba=this.height,this.ge=!0):(this.Ca=this.Ob,this.Ba=this.Nb,this.ge=!1,2===q?(g=this.Ob/this.Nb,q=this.oj/this.nj,q<g?this.Ca=this.Ba*q:q>g&&(this.Ba=this.Ca/q)):3===q&&(g=this.Ob/this.Nb,q=this.oj/this.nj,q>g?this.Ca=this.Ba*q:q<g&&(this.Ba=this.Ca/q))),this.bp&&!this.nc&&(jQuery(this.bp).css({width:Math.round(a)+
"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.je?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(f)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.lh&&!this.nc&&jQuery(this.canvas).css({width:Math.round(a)+
"px",height:Math.round(b)+"px"})),this.oc&&(this.oc.width=Math.round(a),this.oc.height=Math.round(b),jQuery(this.oc).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Z&&this.Z.ri(Math.round(a*c),Math.round(b*c)),this.rg&&this.Sa&&(this.Sa.width=Math.round(a),this.Sa.height=Math.round(b)),this.Sa&&(this.Sa.webkitImageSmoothingEnabled=this.Oa,this.Sa.mozImageSmoothingEnabled=this.Oa,this.Sa.msImageSmoothingEnabled=this.Oa,this.Sa.imageSmoothingEnabled=this.Oa),this.Gr(),this.nc||!e&&
!this.mn||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.Gr=function(){if(this.Ys&&0!==this.Mn){var a="portrait";2===this.Mn&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.Jv=function(){this.Z.ht();this.kn=
!0;var a,b,c;a=0;for(b=this.ba.length;a<b;a++)c=this.ba[a],c.Aj&&c.Aj()};b.prototype.Kv=function(){this.kn=!1;var a,b,c;a=0;for(b=this.ba.length;a<b;a++)c=this.ba[a],c.ol&&c.ol()};b.prototype.Kq=function(){if(!this.nc){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.jj)&&!this.qg?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.oc).css(a)}};var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.kj)for(da("[Construct 2] Suspending"),this.kj=!0,-1!==this.Tn&&l&&l(this.Tn),-1!==this.so&&clearTimeout(this.so),a=0,b=this.Fl.length;a<b;a++)this.Fl[a](!0);else if(!a&&this.kj){da("[Construct 2] Resuming");this.kj=!1;this.Yk=lb();this.qh=lb();a=this.wj=this.Hk=0;for(b=this.Fl.length;a<b;a++)this.Fl[a](!1);this.wd(!1)}};b.prototype.$f=function(a){return this.ll[a]};
b.prototype.el=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.qp=a[1];this.kd=a[12];this.rp=a[12];this.Ob=a[10];this.Nb=a[11];this.Fq=this.Ob/2;this.Gq=this.Nb/2;this.nc&&!this.je&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.rp=this.kd=3);this.Bo=a[18];this.qj=a[19];0===this.qj&&(this.rh=new Image,this.rh.crossOrigin="anonymous",this.rh.src="loading-logo.png");
this.zj=a[21];this.ll=$c();this.jf=new G(this);var b,c,d,f,g,k,e,q,h;b=0;for(c=a[2].length;b<c;b++)e=a[2][b],d=this.$f(e[0]),Kb(e,d.prototype),h=new d(this),h.Dl=e[1],h.ug=e[2],h.sq=e[9],h.Ea&&h.Ea(),this.plugins.push(h);this.ll=$c();b=0;for(c=a[3].length;b<c;b++){e=a[3][b];g=this.$f(e[1]);h=null;d=0;for(f=this.plugins.length;d<f;d++)if(this.plugins[d]instanceof g){h=this.plugins[d];break}var m=new h.ib(h);m.name=e[0];m.ja=e[2];m.Zm=e[3].slice(0);m.Hw=e[3].length;m.Zs=e[4];m.Au=e[5];m.Fa=e[11];m.ja?
(m.ki=[],m.wf=this.Wi++,m.qb=null):(m.ki=null,m.wf=-1,m.qb=[]);m.Dk=null;m.Xh=null;m.mp=null;m.Zc=!1;m.jd=null;e[6]?(m.Hl=e[6][0],m.Il=e[6][1],m.lo=e[6][2]):(m.Hl=null,m.Il=0,m.lo=0);e[7]?m.Sc=e[7]:m.Sc=null;m.index=b;m.D=[];m.xk=[];m.Mg=[new Lb(m)];m.tf=0;m.ee=null;m.mt=0;m.vi=!0;m.Ql=Mb;m.Gu=Nb;m.Nu=Ob;m.Na=Pb;m.Fj=Qb;m.ul=Rb;m.Ch=Sb;m.Jk=Tb;m.Nm=Ub;m.Qm=Vb;m.Te=Wb;m.wp=Xb;m.pk=new Cb(this.Ob,this.Nb);m.dk=!0;m.ek=!1;m.ca={};m.toString=Yb;m.Ib=[];d=0;for(f=e[8].length;d<f;d++){q=e[8][d];var l=this.$f(q[1]),
r=null;g=0;for(k=this.Ib.length;g<k;g++)if(this.Ib[g]instanceof l){r=this.Ib[g];break}r||(r=new l(this),r.Gn=[],r.li=new ba,r.Ea&&r.Ea(),this.Ib.push(r),Ic.xw&&r instanceof Ic.xw&&(this.kr=r));-1===r.Gn.indexOf(m)&&r.Gn.push(m);g=new r.ib(r,m);g.name=q[0];g.Fa=q[2];g.Ea();m.Ib.push(g)}m.global=e[9];m.dn=e[10];m.oa=[];d=0;for(f=e[12].length;d<f;d++)m.oa.push({id:e[12][d][0],name:e[12][d][1],sc:-1,Rc:!0,index:d});m.Kl=e[13];this.Bo&&!m.ja&&!m.dn&&h.ug||m.Ea();m.name&&(this.types[m.name]=m);this.ba.push(m);
h.Dl&&(d=new h.Ya(m),d.uid=this.zj++,d.Pq=this.vq++,d.hh=0,d.bj=Zb,d.toString=$b,d.da=e[14],d.Ea(),m.D.push(d),this.Hf[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(g=a[4][b],k=this.ba[g[0]],d=1,f=g.length;d<f;d++)e=this.ba[g[d]],e.qb.push(k),k.ki.push(e);b=0;for(c=a[27].length;b<c;b++){g=a[27][b];k=[];d=0;for(f=g.length;d<f;d++)k.push(this.ba[g[d]]);d=0;for(f=k.length;d<f;d++)k[d].Zc=!0,k[d].jd=k}if(0<this.Wi)for(b=0,c=this.ba.length;b<c;b++)if(e=this.ba[b],!e.ja&&e.qb.length){e.Dk=Array(this.Wi);
e.Xh=Array(this.Wi);e.mp=Array(this.Wi);m=[];d=r=l=q=0;for(f=e.qb.length;d<f;d++)for(h=e.qb[d],e.Dk[h.wf]=q,q+=h.Hw,e.Xh[h.wf]=l,l+=h.Zs,e.mp[h.wf]=r,r+=h.Au,g=0,k=h.oa.length;g<k;g++)m.push(Aa({},h.oa[g]));e.oa=m.concat(e.oa);d=0;for(f=e.oa.length;d<f;d++)e.oa[d].index=d}b=0;for(c=a[5].length;b<c;b++)e=a[5][b],d=new ac(this,e),this.wn[d.name]=d,this.De.push(d);b=0;for(c=a[6].length;b<c;b++)e=a[6][b],d=new bc(this,e),this.Em[d.name]=d,this.vf.push(d);b=0;for(c=this.vf.length;b<c;b++)this.vf[b].Hb();
b=0;for(c=this.vf.length;b<c;b++)this.vf[b].xo();b=0;for(c=this.Ol.length;b<c;b++)this.Ol[b].Hb();this.Ol.length=0;this.Xs=a[7];this.pe=a[9];this.Li=1;this.Qt=a[13];this.Oa=a[14];this.cm=a[15];this.Gw=a[17];this.Mn=a[20];this.Ys=0<this.Mn;this.Wv=a[22];this.ge=this.Sr=a[23];this.Lt=a[24];this.Zv=a[25];this.El=Date.now();this.ll.length=0;this.pv()};var n=!1;b.prototype.Co=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){n=a.Xo=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.je?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){n=a.Xo=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",a.src=b));this.Ai.push(a)};b.prototype.xu=function(a){var b,c;b=0;for(c=this.Ai.length;b<c;b++)if(this.Ai[b].jt===a)return this.Ai[b];return null};var k=0,m=!1;b.prototype.iv=function(){this.Mi&&(k=this.Mi.Ux(this.Xs))};b.prototype.To=function(){var a=
k,b=0,c=0,d=!0,f,g,c=0;for(f=this.Ai.length;c<f;c++){g=this.Ai[c];var e=g.tm;if(!e||0>=e)e=5E4;a+=e;g.src&&(g.complete||g.loaded)&&!g.Xo?b+=e:d=!1}d&&this.Zv&&this.Mi&&(m||(this.Mi.Vx(),m=!0),c=this.Mi.Qx(),b+=c,c<k&&(d=!1));this.Dh=0==a?0:b/a;return d};b.prototype.go=function(){if(this.Sa||this.Z){var a=this.Sa||this.Nn;this.oc&&this.Kq();this.Dh=0;this.Xp=-1;if(this.To())this.jv();else{var b=Date.now()-this.El;if(a){var c=this.width,d=this.height,f=this.devicePixelRatio;this.oc&&(c=this.uk,d=this.tk,
f=1);if(3!==this.qj&&(this.Md||500<=b&&this.Xp!=this.Dh)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.qj&&this.rh.complete,g=40*f,e=0,k=80*f,q;c&&(k=this.rh.width*f,q=this.rh.height*f,g=k/2,e=q/2,a.drawImage(this.rh,sa(b-g),sa(d-e),k,q));1>=this.qj?(b=sa(b-g)+.5,d=sa(d+(e+(c?12*f:0)))+.5,a.fillStyle=n?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(k*this.Dh),6*f),a.strokeStyle="black",a.strokeRect(b,d,k,6*f),a.strokeStyle="white",a.strokeRect(b-1*f,d-1*f,k+2*f,8*f)):2===this.qj&&(a.font=this.je?
"12pt ArialMT":"12pt Arial",a.fillStyle=n?"#f00":"#999",a.Wx="middle",f=Math.round(100*this.Dh)+"%",c=a.measureText?a.measureText(f):null,a.fillText(f,b-(c?c.width:0)/2,d))}this.Xp=this.Dh}setTimeout(function(a){return function(){a.go()}}(this),this.Md?10:100)}}};b.prototype.jv=function(){this.oc&&(this.canvas.parentNode.removeChild(this.oc),this.oc=this.Nn=null);this.El=Date.now();this.qh=lb();var a,b,c;if(this.Bo)for(a=0,b=this.ba.length;a<b;a++)c=this.ba[a],c.ja||c.dn||!c.kb.ug||c.Ea();else this.Uk=
!1;a=0;for(b=this.De.length;a<b;a++)this.De[a].kt();2<=this.kd&&(a=this.Ob/this.Nb,b=this.width/this.height,this.Li=2!==this.kd&&b>a||2===this.kd&&b<a?this.height/this.Nb:this.width/this.Ob);this.qp?this.wn[this.qp].jo():this.De[0].jo();this.Bo||(this.hl=1,this.trigger(G.prototype.aa.Jo,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ba.length;a<b;a++)c=this.ba[a],c.Iv&&c.Iv();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?
window.cr_setSuspended(!0):this.wd(!1);this.rg&&AppMobi.webview.execute("onGameReady();")};var p=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.wd=function(b,d,f){if(this.eb){var g=lb();if(f||!this.kj||b){b||(p?this.Tn=p(this.ur):this.so=setTimeout(this.ur,this.kh?1:16));d=d||g;var e=this.kd;((f=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.qg)||this.jj)&&0<this.eh&&(e=this.eh);0<e&&(!this.ln||window.self!==window.top)&&(e=window.innerHeight,this.oj===window.innerWidth&&this.nj===e||this.setSize(a(),c()));this.nc||(f?(this.Ek||(this.Lm=jQuery(this.canvas).css("margin")||"0",this.Ek=!0),this.Pk||this.tg||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Ek?(this.Pk||this.tg||jQuery(this.canvas).css("margin",
this.Lm),this.Lm="",this.Ek=!1,0===this.kd&&this.setSize(Math.round(this.Aq/this.devicePixelRatio),Math.round(this.zq/this.devicePixelRatio),!0)):(this.Aq=this.width,this.zq=this.height));this.Uk&&(f=this.To(),this.hl=this.Dh,f&&(this.Uk=!1,this.Dh=1,this.trigger(G.prototype.aa.Jo,null)));this.Av(d);!this.Ia&&!this.Md||this.kn||this.Nj||b||(this.Ia=!1,this.Z?this.Gd():this.Be(),this.Mj&&(this.canvas&&this.canvas.toDataURL&&(this.ir=this.canvas.toDataURL(this.Mj[0],this.Mj[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.ir),this.trigger(G.prototype.aa.ts,null)),this.Mj=null));this.Rx||(this.Vd++,this.dh++,this.Hk++);this.wj+=lb()-g}}};b.prototype.Av=function(a){var b,c,d,f,g,e,k,q;1E3<=a-this.qh&&(this.qh+=1E3,1E3<=a-this.qh&&(this.qh=a),this.Jm=this.Hk,this.Hk=0,this.rm=this.wj,this.wj=0);0!==this.Yk&&(b=a-this.Yk,0>b&&(b=0),this.lg=b/1E3,.5<this.lg?this.lg=0:.1<this.lg&&(this.lg=.1));this.Yk=a;this.ra=this.lg*this.Ih;this.nh.add(this.ra);this.Sl.add(this.lg);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.jj)&&!this.qg;2<=this.kd||a&&0<this.eh?(b=this.Ob/this.Nb,c=this.width/this.height,d=this.kd,a&&0<this.eh&&(d=this.eh),this.Li=2!==d&&c>b||2===d&&c<b?this.height/this.Nb:this.width/this.Ob,this.eb&&(this.eb.Wq(this.eb.scrollX),this.eb.Xq(this.eb.scrollY))):this.Li=this.lh?this.devicePixelRatio:1;this.uc();this.Nd++;this.jf.mw();this.Nd--;this.uc();this.Nd++;c=this.xq.Xd();a=0;for(b=c.length;a<b;a++)c[a].Sx();a=
0;for(b=this.ba.length;a<b;a++)if(e=this.ba[a],!e.ja&&(e.Ib.length||e.qb.length))for(c=0,d=e.D.length;c<d;c++)for(k=e.D[c],f=0,g=k.na.length;f<g;f++)k.na[f].wd();a=0;for(b=this.ba.length;a<b;a++)if(e=this.ba[a],!e.ja&&(e.Ib.length||e.qb.length))for(c=0,d=e.D.length;c<d;c++)for(k=e.D[c],f=0,g=k.na.length;f<g;f++)q=k.na[f],q.Yv&&q.Yv();c=this.Hn.Xd();a=0;for(b=c.length;a<b;a++)c[a].wd();this.Nd--;this.lv();for(a=0;this.pm&&10>a++;)this.ip(this.pm);a=0;for(b=this.vf.length;a<b;a++)this.vf[a].Tm=!1;this.eb.ah&&
this.eb.ah.Pb();this.Hj.length=0;this.Nd++;a=0;for(b=this.ba.length;a<b;a++)if(e=this.ba[a],!e.ja&&(e.Ib.length||e.qb.length))for(c=0,d=e.D.length;c<d;c++)for(k=e.D[c],f=0,g=k.na.length;f<g;f++)q=k.na[f],q.no&&q.no();c=this.yq.Xd();a=0;for(b=c.length;a<b;a++)c[a].no();this.Nd--};b.prototype.ip=function(a){var b=this.eb;this.eb.Aw();var c,d,f,g,e,k,q;if(this.Z)for(c=0,d=this.ba.length;c<d;c++)e=this.ba[c],e.ja||!e.Pl||e.global&&0!==e.D.length||-1!==a.hj.indexOf(e)||e.Pl();b==a&&(this.jf.zd.length=
0);this.Hj.length=0;a.jo();c=0;for(d=this.ba.length;c<d;c++)if(e=this.ba[c],e.global||e.kb.Dl)for(a=0,b=e.D.length;a<b;a++)if(k=e.D[a],k.Ln&&k.Ln(),k.na)for(f=0,g=k.na.length;f<g;f++)q=k.na[f],q.Ln&&q.Ln();this.Ia=!0;this.uc()};b.prototype.xr=function(a){this.Hn.add(a)};b.prototype.Zh=function(a){return a&&-1!==a.yj?this.lg*a.yj:this.ra};b.prototype.Be=function(){this.eb.Be(this.Sa);this.rg&&this.Sa.present()};b.prototype.Gd=function(){this.eb.Gd(this.Z);this.Z.aw()};b.prototype.Oo=function(a){a&&
this.zk.push(a)};b.prototype.iw=function(a){Ia(this.zk,a)};b.prototype.$i=function(a){a=a.toString();return this.Hf.hasOwnProperty(a)?this.Hf[a]:null};var r=[];b.prototype.Yf=function(a){var b,c;b=a.type.name;var d=null;if(this.Yg.hasOwnProperty(b)){if(d=this.Yg[b],d.contains(a))return}else d=r.length?r.pop():new ba,this.Yg[b]=d;d.add(a);this.pg=!0;if(a.Zc)for(b=0,c=a.siblings.length;b<c;b++)this.Yf(a.siblings[b]);this.cn&&d.xi.push(a);this.Nd++;this.trigger(Object.getPrototypeOf(a.type.kb).aa.Ho,
a);this.Nd--};b.prototype.uc=function(){if(this.pg){var a,b,c,d,f,g;this.cn=!0;c=0;for(f=this.Ae.length;c<f;++c)for(a=this.Ae[c],b=a.type,b.D.push(a),d=0,g=b.qb.length;d<g;++d)b.qb[d].D.push(a),b.qb[d].vi=!0;this.Ae.length=0;this.ms();kb(this.Yg);this.pg=this.cn=!1}};b.prototype.ms=function(){for(var a in this.Yg)this.Yg.hasOwnProperty(a)&&this.Zr(this.Yg[a])};b.prototype.Zr=function(a){var b=a.Xd(),c=b[0].type,d,f,g,e,k,q;qb(c.D,a);c.vi=!0;0===c.D.length&&(c.ek=!1);d=0;for(f=c.qb.length;d<f;++d)q=
c.qb[d],qb(q.D,a),q.vi=!0;d=0;for(f=this.jf.zd.length;d<f;++d)if(k=this.jf.zd[d],k.ud.hasOwnProperty(c.index)&&qb(k.ud[c.index].jh,a),!c.ja)for(g=0,e=c.qb.length;g<e;++g)q=c.qb[g],k.ud.hasOwnProperty(q.index)&&qb(k.ud[q.index].jh,a);if(k=b[0].Q){if(k.Ke)for(g=k.D,d=0,f=g.length;d<f;++d)e=g[d],a.contains(e)&&(e.Qa(),k.sd.update(e,e.cd,null),e.cd.set(0,0,-1,-1));qb(k.D,a);k.Ij(0)}for(d=0;d<b.length;++d)this.Yr(b[d],c);a.clear();r.push(a);this.Ia=!0};b.prototype.Yr=function(a,b){var c,d,f;c=0;for(d=
this.zk.length;c<d;++c)this.zk[c](a);a.ig&&b.pk.update(a,a.ig,null);(c=a.Q)&&c.oi(a,!0);if(a.na)for(c=0,d=a.na.length;c<d;++c)f=a.na[c],f.Dg&&f.Dg(),f.behavior.li.remove(a);this.xq.remove(a);this.Hn.remove(a);this.yq.remove(a);a.Dg&&a.Dg();this.Hf.hasOwnProperty(a.uid.toString())&&delete this.Hf[a.uid.toString()];this.ml--;100>b.xk.length&&b.xk.push(a)};b.prototype.vm=function(a,b,c,d){if(a.ja){var f=sa(Math.random()*a.ki.length);return this.vm(a.ki[f],b,c,d)}return a.ee?this.jg(a.ee,b,!1,c,d,!1):
null};var u=[];b.prototype.jg=function(a,b,c,d,f,g){var e,k,q,h;if(!a)return null;var m=this.ba[a[1]],l=m.kb.ug;if(this.Uk&&l&&!m.dn||l&&!this.Z&&11===a[0][11])return null;var r=b;l||(b=null);var v;m.xk.length?(v=m.xk.pop(),v.bd=!0,m.kb.Ya.call(v,m)):(v=new m.kb.Ya(m),v.bd=!1);!c||g||this.Hf.hasOwnProperty(a[2].toString())?v.uid=this.zj++:v.uid=a[2];this.Hf[v.uid.toString()]=v;v.Pq=this.vq++;v.hh=m.D.length;e=0;for(k=this.Ae.length;e<k;++e)this.Ae[e].type===m&&v.hh++;v.bj=Zb;v.toString=$b;q=a[3];
if(v.bd)kb(v.ca);else{v.ca={};if("undefined"!==typeof cr_is_preview)for(v.Kp=[],v.Kp.length=q.length,e=0,k=q.length;e<k;e++)v.Kp[e]=q[e][1];v.Vb=[];v.Vb.length=q.length}e=0;for(k=q.length;e<k;e++)v.Vb[e]=q[e][0];if(l){var n=a[0];v.x=ha(d)?n[0]:d;v.y=ha(f)?n[1]:f;v.z=n[2];v.width=n[3];v.height=n[4];v.depth=n[5];v.P=n[6];v.opacity=n[7];v.Xc=n[8];v.Yc=n[9];v.Tc=n[10];e=n[11];!this.Z&&m.oa.length&&(v.Tc=e);v.Pi=Eb(v.Tc);this.Y&&Fb(v,v.Tc,this.Y);if(v.bd){e=0;for(k=n[12].length;e<k;e++)for(q=0,h=n[12][e].length;q<
h;q++)v.tb[e][q]=n[12][e][q];v.pb.set(0,0,0,0);v.ig.set(0,0,-1,-1);v.cd.set(0,0,-1,-1);v.ab.Jj(v.pb);v.hm.length=0}else{v.tb=n[12].slice(0);e=0;for(k=v.tb.length;e<k;e++)v.tb[e]=n[12][e].slice(0);v.Ra=[];v.bg=[];v.bg.length=m.oa.length;v.pb=new xa(0,0,0,0);v.ig=new xa(0,0,-1,-1);v.cd=new xa(0,0,-1,-1);v.ab=new ya;v.hm=[];v.la=cc;v.Ox=dc;v.Wc=gc;v.Qa=oc;v.Fw=pc;v.Or=qc;v.ie=rc}v.Rf=!1;v.Cr=0;v.Br=0;v.Ar=null;14===n.length&&(v.Rf=!0,v.Cr=n[13][0],v.Br=n[13][1],v.Ar=n[13][2]);e=0;for(k=m.oa.length;e<
k;e++)v.bg[e]=!0;v.Uf=sc;v.Uf();v.Pr=!!v.Ra.length;v.gm=!0;v.lm=!0;m.dk=!0;v.visible=!0;v.yj=-1;v.Q=b;v.Le=b.D.length;"undefined"===typeof v.Aa&&(v.Aa=null);this.Ia=v.rf=!0}var w;e=u.length=0;for(k=m.qb.length;e<k;e++)u.push.apply(u,m.qb[e].Ib);u.push.apply(u,m.Ib);if(v.bd)for(e=0,k=u.length;e<k;e++){var p=u[e];w=v.na[e];w.bd=!0;p.behavior.Ya.call(w,p,v);n=a[4][e];q=0;for(h=n.length;q<h;q++)w.da[q]=n[q];w.Ea();p.behavior.li.add(v)}else for(v.na=[],e=0,k=u.length;e<k;e++)p=u[e],w=new p.behavior.Ya(p,
v),w.bd=!1,w.da=a[4][e].slice(0),w.Ea(),v.na.push(w),p.behavior.li.add(v);n=a[5];if(v.bd)for(e=0,k=n.length;e<k;e++)v.da[e]=n[e];else v.da=n.slice(0);this.Ae.push(v);this.pg=!0;b&&(b.Ki(v,!0),1!==b.If||1!==b.Jf)&&(m.ek=!0);this.ml++;if(m.Zc){if(v.Zc=!0,v.bd?v.siblings.length=0:v.siblings=[],!c&&!g){e=0;for(k=m.jd.length;e<k;e++)if(m.jd[e]!==m){if(!m.jd[e].ee)return null;v.siblings.push(this.jg(m.jd[e].ee,r,!1,l?v.x:d,l?v.y:f,!0))}e=0;for(k=v.siblings.length;e<k;e++)for(v.siblings[e].siblings.push(v),
q=0;q<k;q++)e!==q&&v.siblings[e].siblings.push(v.siblings[q])}}else v.Zc=!1,v.siblings=null;v.Ea();e=0;for(k=v.na.length;e<k;e++)v.na[e].Lq&&v.na[e].Lq();return v};b.prototype.Ku=function(a){var b,c;b=0;for(c=this.eb.wa.length;b<c;b++){var d=this.eb.wa[b];if(Hb(d.name,a))return d}return null};b.prototype.Lu=function(a){a=sa(a);0>a&&(a=0);a>=this.eb.wa.length&&(a=this.eb.wa.length-1);return this.eb.wa[a]};b.prototype.qm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Na().bb=!0};b.prototype.Fj=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Fj()};b.prototype.ul=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ul()};b.prototype.Ch=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ch()};b.prototype.Mr=function(a){if(a.dk){var b,c,d=a.D;b=0;for(c=d.length;b<c;++b)d[b].Or();d=this.Ae;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].Or();a.dk=!1}};b.prototype.tp=function(a,b,c,d){var f,e,g=a?1!==a.If||1!==a.Jf:!1;if(b.ja)for(a=0,f=b.ki.length;a<f;++a)e=b.ki[a],g||e.ek?Fa(d,e.D):(this.Mr(e),
e.pk.yl(c,d));else g||b.ek?Fa(d,b.D):(this.Mr(b),b.pk.yl(c,d))};b.prototype.Uu=function(a,b,c,d){var f,e;f=0;for(e=b.length;f<e;++f)this.tp(a,b[f],c,d)};b.prototype.Ru=function(a,b,c){var d=this.kr;d&&this.Uu(a,d.Gn,b,c)};b.prototype.Fh=function(a,b){if(!(a&&b&&a!==b&&a.rf&&b.rf))return!1;a.Qa();b.Qa();var c=a.Q,d=b.Q,f,e,g,k,q,m,h,l;if(c===d||c.If===d.If&&d.Jf===d.Jf&&c.scale===d.scale&&c.P===d.P&&c.Zj===d.Zj){if(!a.pb.qv(b.pb)||!a.ab.Lp(b.ab)||a.Rf&&b.Rf)return!1;if(a.Rf)return this.rr(a,b);if(b.Rf)return this.rr(b,
a);h=a.Aa&&!a.Aa.mh();f=b.Aa&&!b.Aa.mh();if(!h&&!f)return!0;h?(a.Aa.gg(a.width,a.height,a.P),h=a.Aa):(this.Ie.si(a.ab,a.x,a.y,a.width,a.height),h=this.Ie);f?(b.Aa.gg(b.width,b.height,b.P),l=b.Aa):(this.Ie.si(b.ab,b.x,b.y,b.width,b.height),l=this.Ie);return h.ij(l,b.x-a.x,b.y-a.y)}h=a.Aa&&!a.Aa.mh();f=b.Aa&&!b.Aa.mh();h?(a.Aa.gg(a.width,a.height,a.P),this.Ie.br(a.Aa)):this.Ie.si(a.ab,a.x,a.y,a.width,a.height);h=this.Ie;f?(b.Aa.gg(b.width,b.height,b.P),this.ko.br(b.Aa)):this.ko.si(b.ab,b.x,b.y,b.width,
b.height);l=this.ko;f=0;for(e=h.Qc;f<e;f++)g=2*f,k=g+1,q=h.Wa[g],m=h.Wa[k],h.Wa[g]=c.rb(q+a.x,m+a.y,!0),h.Wa[k]=c.rb(q+a.x,m+a.y,!1);h.Qa();f=0;for(e=l.Qc;f<e;f++)g=2*f,k=g+1,q=l.Wa[g],m=l.Wa[k],l.Wa[g]=d.rb(q+b.x,m+b.y,!0),l.Wa[k]=d.rb(q+b.x,m+b.y,!1);l.Qa();return h.ij(l,0,0)};var t=new ya;new xa(0,0,0,0);var w=[];b.prototype.rr=function(a,b){var c,d,f,e,g=b.pb,k=a.x,q=a.y;a.Eu(g,w);var m=b.Aa&&!b.Aa.mh();c=0;for(d=w.length;c<d;++c)if(f=w[c],e=f.Ta,g.rv(e,k,q)&&(t.Jj(e),t.offset(k,q),t.Lp(b.ab)))if(m)if(b.Aa.gg(b.width,
b.height,b.P),f.Pc){if(f.Pc.ij(b.Aa,b.x-(k+e.left),b.y-(q+e.top)))return w.length=0,!0}else{if(this.Ie.si(t,0,0,e.right-e.left,e.bottom-e.top),this.Ie.ij(b.Aa,b.x,b.y))return w.length=0,!0}else if(f.Pc){if(this.Ie.si(b.ab,0,0,b.width,b.height),f.Pc.ij(this.Ie,-(k+e.left),-(q+e.top)))return w.length=0,!0}else return w.length=0,!0;w.length=0;return!1};b.prototype.Hr=function(a,b){if(!b)return!1;var c,d,f,e,g;c=0;for(d=a.Ib.length;c<d;c++)if(a.Ib[c].behavior instanceof b)return!0;if(!a.ja)for(c=0,d=
a.qb.length;c<d;c++)for(g=a.qb[c],f=0,e=g.Ib.length;f<e;f++)if(g.Ib[f].behavior instanceof b)return!0;return!1};b.prototype.Ir=function(a){return this.Hr(a,Ic.kx)};b.prototype.wo=function(a){return this.Hr(a,Ic.mx)};var q=[];b.prototype.Gh=function(a){var b,c,d;a.Qa();this.Ru(a.Q,a.pb,q);b=0;for(c=q.length;b<c;++b)if(d=q[b],d.ca.solidEnabled&&this.Fh(a,d))return q.length=0,d;q.length=0;return null};b.prototype.fw=function(a,b,c,d){d=d||50;var f=a.x,e=a.y,g,k=null,q=null;for(g=0;g<d;g++)if(a.x=f+b*
g,a.y=e+c*g,a.la(),!this.Fh(a,k)&&((k=this.Gh(a))&&(q=k),!k&&!k))return q&&this.dw(a,b,c,q),!0;a.x=f;a.y=e;a.la();return!1};b.prototype.dw=function(a,b,c,d){var f=2,e,g=!1;e=!1;for(var k=a.x,q=a.y;16>=f;)e=1/f,f*=2,a.x+=b*e*(g?1:-1),a.y+=c*e*(g?1:-1),a.la(),this.Fh(a,d)?e=g=!0:(e=g=!1,k=a.x,q=a.y);e&&(a.x=k,a.y=q,a.la())};b.prototype.gw=function(a){var b=0,c=a.x,d=a.y,f=0,e=0,g=0,k=this.Gh(a);if(k){for(;100>=b;){switch(f){case 0:e=0;g=-1;b++;break;case 1:e=1;g=-1;break;case 2:e=1;g=0;break;case 3:g=
e=1;break;case 4:e=0;g=1;break;case 5:e=-1;g=1;break;case 6:e=-1;g=0;break;case 7:g=e=-1}f=(f+1)%8;a.x=sa(c+e*b);a.y=sa(d+g*b);a.la();if(!this.Fh(a,k)&&(k=this.Gh(a),!k))return}a.x=c;a.y=d;a.la()}};b.prototype.Sq=function(a,b){a.rf&&b.rf&&this.Hj.push([a,b])};b.prototype.ft=function(a,b){var c,d,f;c=0;for(d=this.Hj.length;c<d;c++)if(f=this.Hj[c],f[0]==a&&f[1]==b||f[0]==b&&f[1]==a)return!0;return!1};b.prototype.dt=function(a,b,c){var d=a.x,f=a.y,e=pa(10,fb(b,c,d,f)),g=Wa(b,c,d,f),k=this.Gh(a);if(!k)return Oa(g+
ra);var q=k,m,h,l,v,r=Ja(5);for(m=1;36>m;m++)if(h=g-m*r,a.x=b+Math.cos(h)*e,a.y=c+Math.sin(h)*e,a.la(),!this.Fh(a,q)&&(q=this.Gh(a),!q)){l=h;break}36===m&&(l=Oa(g+ra));q=k;for(m=1;36>m;m++)if(h=g+m*r,a.x=b+Math.cos(h)*e,a.y=c+Math.sin(h)*e,a.la(),!this.Fh(a,q)&&(q=this.Gh(a),!q)){v=h;break}36===m&&(v=Oa(g+ra));a.x=d;a.y=f;a.la();if(v===l)return v;a=cb(v,l)/2;a=eb(v,l)?Oa(l+a+ra):Oa(v+a);l=Math.cos(g);g=Math.sin(g);v=Math.cos(a);a=Math.sin(a);b=l*v+g*a;return Wa(0,0,l-2*b*v,g-2*b*a)};var v=-1;b.prototype.trigger=
function(a,b,c){if(!this.eb)return!1;var d=this.eb.ah;if(!d)return!1;var f=!1,e,g,k;v++;var q=d.Am;g=0;for(k=q.length;g<k;++g)e=this.Er(a,b,q[g],c),f=f||e;e=this.Er(a,b,d,c);v--;return f||e};b.prototype.Er=function(a,b,c,d){var f=!1,e,g,k,q;if(b)for(k=this.uo(a,b,b.type.name,c,d),f=f||k,q=b.type.qb,e=0,g=q.length;e<g;++e)k=this.uo(a,b,q[e].name,c,d),f=f||k;else k=this.uo(a,b,"system",c,d),f=f||k;return f};b.prototype.uo=function(a,b,c,d,f){var e,g=!1,k=!1,k="undefined"!==typeof f,q=(k?d.op:d.Fr)[c];
if(!q)return g;var m=null;d=0;for(e=q.length;d<e;++d)if(q[d].method==a){m=q[d].Ui;break}if(!m)return g;var h;k?h=m[f]:h=m;if(!h)return null;d=0;for(e=h.length;d<e;d++)a=h[d][0],f=h[d][1],k=this.vu(b,c,a,f),g=g||k;return g};b.prototype.vu=function(a,b,c,d){var f,e,g=!1;this.vo++;var k=this.Ac().Fd;k&&this.Fj(k.Lg);var q=1<this.vo;this.Fj(c.Lg);q&&this.ew();var m=this.wl(c);m.Fd=c;a&&(f=this.types[b].Na(),f.bb=!1,f.D.length=1,f.D[0]=a,this.types[b].Te());a=!0;if(c.parent){b=m.qr;for(f=c.parent;f;)b.push(f),
f=f.parent;b.reverse();f=0;for(e=b.length;f<e;f++)if(!b[f].ow()){a=!1;break}}a&&(this.dh++,c.Ee?c.nw(d):c.Pb(),g=g||m.ph);this.ql();q&&this.Xv();this.Ch(c.Lg);k&&this.Ch(k.Lg);this.pg&&0===this.Nd&&0===v&&!this.en&&this.uc();this.vo--;return g};b.prototype.Om=function(){var a=this.Ac();return a.Fd.ac[a.Tb]};b.prototype.Fu=function(){var a=this.Ac();return a.Fd.$d[a.Dd]};b.prototype.ew=function(){this.jl++;this.jl>=this.Bn.length&&this.Bn.push([])};b.prototype.Xv=function(){this.jl--};b.prototype.up=
function(){return this.Bn[this.jl]};b.prototype.wl=function(a){this.Bk++;this.Bk>=this.Dm.length&&this.Dm.push(new tc);var b=this.Ac();b.reset(a);return b};b.prototype.ql=function(){this.Bk--};b.prototype.Ac=function(){return this.Dm[this.Bk]};b.prototype.vp=function(a,b){for(var c,d,f,e,g,k;b;){c=0;for(d=b.te.length;c<d;c++)if(k=b.te[c],k instanceof uc&&Hb(a,k.name))return k;b=b.parent}c=0;for(d=this.vf.length;c<d;c++)for(g=this.vf[c],f=0,e=g.mg.length;f<e;f++)if(k=g.mg[f],k instanceof uc&&Hb(a,
k.name))return k;return null};b.prototype.xp=function(a){var b,c;b=0;for(c=this.De.length;b<c;b++)if(this.De[b].Fa===a)return this.De[b];return null};b.prototype.Nk=function(a){var b,c;b=0;for(c=this.ba.length;b<c;b++)if(this.ba[b].Fa===a)return this.ba[b];return null};b.prototype.Hu=function(a){var b,c;b=0;for(c=this.Rh.length;b<c;b++)if(this.Rh[b].Fa===a)return this.Rh[b];return null};b.prototype.qt=function(a,b){this.Mj=[a,b];this.Ia=!0};b.prototype.lv=function(){var a=this,b=this.co,c=this.Cf,
d=this.cl,g=!1;this.hr&&(g=!0,b="__c2_continuouspreview",this.hr=!1);if(b.length){this.uc();c=this.sw();if(window.indexedDB&&!this.Md)e(b,c,function(){da("Saved state to IndexedDB storage ("+c.length+" bytes)");a.Cf=c;a.trigger(G.prototype.aa.Yl,null);a.Cf="";g&&f()},function(d){try{localStorage.setItem("__c2save_"+b,c),da("Saved state to WebStorage ("+c.length+" bytes)"),a.Cf=c,a.trigger(G.prototype.aa.Yl,null),a.Cf="",g&&f()}catch(e){da("Failed to save game state: "+d+"; "+e)}});else try{localStorage.setItem("__c2save_"+
b,c),da("Saved state to WebStorage ("+c.length+" bytes)"),a.Cf=c,this.trigger(G.prototype.aa.Yl,null),a.Cf="",g&&f()}catch(k){da("Error saving to WebStorage: "+k)}this.Bc=this.cl=this.co=""}if(d.length){if(window.indexedDB&&!this.Md)h(d,function(b){b?(a.Bc=b,da("Loaded state from IndexedDB storage ("+a.Bc.length+" bytes)")):(a.Bc=localStorage.getItem("__c2save_"+d)||"",da("Loaded state from WebStorage ("+a.Bc.length+" bytes)"));a.Nj=!1;a.Bc.length||a.trigger(G.prototype.aa.Xl,null)},function(){a.Bc=
localStorage.getItem("__c2save_"+d)||"";da("Loaded state from WebStorage ("+a.Bc.length+" bytes)");a.Nj=!1;a.Bc.length||a.trigger(G.prototype.aa.Xl,null)});else{try{this.Bc=localStorage.getItem("__c2save_"+d)||"",da("Loaded state from WebStorage ("+this.Bc.length+" bytes)")}catch(q){this.Bc=""}this.Nj=!1;a.Bc.length||a.trigger(G.prototype.aa.Xl,null)}this.co=this.cl=""}this.Bc.length&&(this.uc(),this.zv(this.Bc),this.Cf=this.Bc,this.trigger(G.prototype.aa.As,null),this.Bc=this.Cf="")};b.prototype.sw=
function(){var a,b,c,d,f,e,k,q={c2save:!0,version:1,rt:{time:this.nh.Ab,walltime:this.Sl.Ab,timescale:this.Ih,tickcount:this.Vd,execcount:this.dh,next_uid:this.zj,running_layout:this.eb.Fa,start_time_offset:Date.now()-this.El},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ba.length;a<b;a++)if(f=this.ba[a],!f.ja&&!this.Ir(f)){e={instances:[]};jb(f.ca)&&(e.ex=g(f.ca));c=0;for(d=f.D.length;c<d;c++)e.instances.push(this.bo(f.D[c]));q.types[f.Fa.toString()]=e}a=0;for(b=
this.De.length;a<b;a++)c=this.De[a],q.layouts[c.Fa.toString()]=c.rc();d=q.events.groups;a=0;for(b=this.Rh.length;a<b;a++)c=this.Rh[a],d[c.Fa.toString()]=this.dj[c.cj].$h;b=q.events.cnds;for(k in this.Uh)this.Uh.hasOwnProperty(k)&&(a=this.Uh[k],jb(a.ca)&&(b[k]={ex:g(a.ca)}));b=q.events.acts;for(k in this.Qh)this.Qh.hasOwnProperty(k)&&(a=this.Qh[k],jb(a.ca)&&(b[k]={ex:a.ca}));b=q.events.vars;for(k in this.yi)this.yi.hasOwnProperty(k)&&(a=this.yi[k],a.Sk||a.parent&&!a.lj||(b[k]=a.data));q.system=this.jf.rc();
return JSON.stringify(q)};b.prototype.Rq=function(){var a,b,c,d,f,e;this.Hf={};a=0;for(b=this.ba.length;a<b;a++)if(c=this.ba[a],!c.ja)for(d=0,f=c.D.length;d<f;d++)e=c.D[d],this.Hf[e.uid.toString()]=e};b.prototype.zv=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.nh.reset();this.nh.Ab=b.time;this.Sl.reset();this.Sl.Ab=b.walltime||0;this.Ih=b.timescale;this.Vd=b.tickcount;this.dh=b.execcount;this.El=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.eb.Fa)if(c=
this.xp(c))this.ip(c);else return;var d,f,e,g,k,q,m;q=a.types;for(f in q)if(q.hasOwnProperty(f)&&(g=this.Nk(parseInt(f,10)))&&!g.ja&&!this.Ir(g)){q[f].ex?g.ca=q[f].ex:kb(g.ca);k=g.D;e=q[f].instances;c=0;for(d=qa(k.length,e.length);c<d;c++)this.dl(k[c],e[c]);c=e.length;for(d=k.length;c<d;c++)this.Yf(k[c]);c=k.length;for(d=e.length;c<d;c++){k=null;if(g.kb.ug&&(k=this.eb.Mk(e[c].w.l),!k))continue;k=this.jg(g.ee,k,!1,0,0,!0);this.dl(k,e[c])}g.vi=!0}this.uc();this.Rq();d=a.layouts;for(f in d)d.hasOwnProperty(f)&&
(c=this.xp(parseInt(f,10)))&&c.Mc(d[f]);d=a.events.groups;for(f in d)d.hasOwnProperty(f)&&(c=this.Hu(parseInt(f,10)))&&this.dj[c.cj]&&this.dj[c.cj].uw(d[f]);c=a.events.cnds;for(f in c)c.hasOwnProperty(f)&&this.Uh.hasOwnProperty(f)&&(this.Uh[f].ca=c[f].ex);c=a.events.acts;for(f in c)c.hasOwnProperty(f)&&this.Qh.hasOwnProperty(f)&&(this.Qh[f].ca=c[f].ex);c=a.events.vars;for(f in c)c.hasOwnProperty(f)&&this.yi.hasOwnProperty(f)&&(this.yi[f].data=c[f]);this.zj=b.next_uid;this.jf.Mc(a.system);c=0;for(d=
this.ba.length;c<d;c++)if(g=this.ba[c],!g.ja)for(f=0,a=g.D.length;f<a;f++){k=g.D[f];if(g.Zc)for(q=k.bj(),b=k.siblings.length=0,e=g.jd.length;b<e;b++)m=g.jd[b],g!==m&&k.siblings.push(m.D[q]);k.pf&&k.pf();if(k.na)for(b=0,e=k.na.length;b<e;b++)q=k.na[b],q.pf&&q.pf()}this.Ia=!0}};b.prototype.bo=function(a,b){var c,d,f,e,k;e=a.type;f=e.kb;var q={};b?q.c2=!0:q.uid=a.uid;jb(a.ca)&&(q.ex=g(a.ca));if(a.Vb&&a.Vb.length)for(q.ivs={},c=0,d=a.Vb.length;c<d;c++)q.ivs[a.type.Zm[c].toString()]=a.Vb[c];if(f.ug){f=
{x:a.x,y:a.y,w:a.width,h:a.height,l:a.Q.Fa,zi:a.ie()};0!==a.P&&(f.a=a.P);1!==a.opacity&&(f.o=a.opacity);.5!==a.Xc&&(f.hX=a.Xc);.5!==a.Yc&&(f.hY=a.Yc);0!==a.Tc&&(f.bm=a.Tc);a.visible||(f.v=a.visible);a.rf||(f.ce=a.rf);-1!==a.yj&&(f.mts=a.yj);if(e.oa.length)for(f.fx=[],c=0,d=e.oa.length;c<d;c++)k=e.oa[c],f.fx.push({name:k.name,active:a.bg[k.index],params:a.tb[k.index]});q.w=f}if(a.na&&a.na.length)for(q.behs={},c=0,d=a.na.length;c<d;c++)e=a.na[c],e.rc&&(q.behs[e.type.Fa.toString()]=e.rc());a.rc&&(q.data=
a.rc());return q};b.prototype.Ju=function(a,b){var c,d;c=0;for(d=a.Zm.length;c<d;c++)if(a.Zm[c]===b)return c;return-1};b.prototype.Du=function(a,b){var c,d;c=0;for(d=a.na.length;c<d;c++)if(a.na[c].type.Fa===b)return c;return-1};b.prototype.dl=function(a,b,c){var d,f,e,g,k;k=a.type;g=k.kb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ca=b.ex:kb(a.ca);if(f=b.ivs)for(d in f)f.hasOwnProperty(d)&&(e=this.Ju(k,parseInt(d,10)),0>e||e>=a.Vb.length||(a.Vb[e]=f[d]));if(g.ug){e=b.w;a.Q.Fa!==e.l&&(f=a.Q,a.Q=
this.eb.Mk(e.l),a.Q?(f.oi(a,!0),a.Q.Ki(a,!0),a.la(),a.Q.Ij(0)):(a.Q=f,c||this.Yf(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Le=e.zi;a.P=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.Xc=e.hasOwnProperty("hX")?e.hX:.5;a.Yc=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.rf=e.hasOwnProperty("ce")?e.ce:!0;a.yj=e.hasOwnProperty("mts")?e.mts:-1;a.Tc=e.hasOwnProperty("bm")?e.bm:0;a.Pi=Eb(a.Tc);this.Y&&Fb(a,a.Tc,this.Y);a.la();if(e.hasOwnProperty("fx"))for(c=
0,f=e.fx.length;c<f;c++)g=k.Qm(e.fx[c].name),0>g||(a.bg[g]=e.fx[c].active,a.tb[g]=e.fx[c].params);a.Uf()}if(k=b.behs)for(d in k)k.hasOwnProperty(d)&&(c=this.Du(a,parseInt(d,10)),0>c||a.na[c].Mc(k[d]));b.data&&a.Mc(b.data)};vc=function(a){return new b(document.getElementById(a))};wc=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=vc;window.cr_createDCRuntime=wc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");
a.i=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.qt(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.j=a;this.ah=null;this.scrollX=this.j.Ob/2;this.scrollY=this.j.Nb/2;this.scale=1;this.P=0;this.Yh=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Jr=b[3];this.er=b[4];this.Fa=b[5];var c=b[6],d,f;this.wa=[];this.hj=[];d=0;for(f=c.length;d<f;d++){var e=new xc(this,c[d]);e.wq=d;this.wa.push(e)}c=b[7];this.ih=[];d=0;for(f=c.length;d<f;d++){var e=c[d],g=this.j.ba[e[1]];g.ee||(g.ee=e);this.ih.push(e);-1===this.hj.indexOf(g)&&this.hj.push(g)}this.oa=[];this.Ra=[];
this.tb=[];d=0;for(f=b[8].length;d<f;d++)this.oa.push({id:b[8][d][0],name:b[8][d][1],sc:-1,Rc:!0,index:d}),this.tb.push(b[8][d][2].slice(0));this.Uf();this.Fg=new xa(0,0,1,1);this.Un=new xa(0,0,1,1);this.Eg={}}function c(a,b){return a.Le-b.Le}function b(a,b){this.Lb=a;this.j=a.j;this.D=[];this.scale=1;this.P=0;this.Zg=!1;this.Sf=new xa(0,0,0,0);this.Dr=new ya;this.Bb=this.ob=this.Cb=this.nb=0;this.Kh=!1;this.Wf=-1;this.name=b[0];this.index=b[1];this.Fa=b[2];this.visible=b[3];this.eg=b[4];this.Tf=
b[5];this.If=b[6];this.Jf=b[7];this.opacity=b[8];this.Im=b[9];this.Ke=b[10];this.Zj=b[11];this.Tc=b[12];this.Pt=b[13];this.Pi="source-over";this.zc=this.Fc=0;this.sd=null;this.fi=d();this.Of=!0;this.Xk=new xa(0,0,-1,-1);this.de=new xa(0,0,-1,-1);this.Ke&&(this.sd=new Db(this.j.Ob,this.j.Nb));this.Gg=!1;var c=b[14],f,e;this.lr=[];this.Ld=[];this.Qi=[];f=0;for(e=c.length;f<e;f++){var g=c[f],h=this.j.ba[g[1]];h.ee||(h.ee=g,h.mt=this.index);this.Ld.push(g);-1===this.Lb.hj.indexOf(h)&&this.Lb.hj.push(h)}Ea(this.lr,
this.Ld);this.oa=[];this.Ra=[];this.tb=[];f=0;for(e=b[15].length;f<e;f++)this.oa.push({id:b[15][f][0],name:b[15][f][1],sc:-1,Rc:!0,index:f}),this.tb.push(b[15][f][2].slice(0));this.Uf();this.Fg=new xa(0,0,1,1);this.Un=new xa(0,0,1,1)}function d(){return g.length?g.pop():[]}function e(a){a.length=0;g.push(a)}a.prototype.rw=function(a){var b=a.type.Fa.toString();this.Eg.hasOwnProperty(b)||(this.Eg[b]=[]);this.Eg[b].push(this.j.bo(a))};a.prototype.Dp=function(){var a=this.wa[0];return!a.Tf&&1===a.opacity&&
!a.Im&&a.visible};a.prototype.Uf=function(){this.Ra.length=0;var a,b,c;a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],c.Rc&&this.Ra.push(c)};a.prototype.Pm=function(a){var b,c,d;b=0;for(c=this.oa.length;b<c;b++)if(d=this.oa[b],d.name===a)return d;return null};var h=[],f=!0;a.prototype.jo=function(){this.er&&(this.ah=this.j.Em[this.er],this.ah.xo());this.j.eb=this;this.scrollX=this.j.Ob/2;this.scrollY=this.j.Nb/2;var a,b,d,e,g,l,n;a=0;for(d=this.j.ba.length;a<d;a++)if(b=this.j.ba[a],!b.ja)for(g=b.D,
b=0,e=g.length;b<e;b++)if(l=g[b],l.Q){var q=l.Q.wq;q>=this.wa.length&&(q=this.wa.length-1);l.Q=this.wa[q];-1===l.Q.D.indexOf(l)&&l.Q.D.push(l);l.Q.Kh=!0}if(!f)for(a=0,d=this.wa.length;a<d;++a)this.wa[a].D.sort(c);h.length=0;this.bt();a=0;for(d=this.wa.length;a<d;a++)l=this.wa[a],l.lt(),l.zo();g=!1;if(!this.Yh){for(n in this.Eg)if(this.Eg.hasOwnProperty(n)&&(b=this.j.Nk(parseInt(n,10)))&&!b.ja&&this.j.wo(b)){e=this.Eg[n];a=0;for(d=e.length;a<d;a++){l=null;if(b.kb.ug&&(l=this.Mk(e[a].w.l),!l))continue;
l=this.j.jg(b.ee,l,!1,0,0,!0);this.j.dl(l,e[a]);g=!0;h.push(l)}e.length=0}a=0;for(d=this.wa.length;a<d;a++)this.wa[a].D.sort(c),this.wa[a].Kh=!0}g&&(this.j.uc(),this.j.Rq());for(a=0;a<h.length;a++)if(l=h[a],l.type.Zc)for(d=l.bj(),b=0,e=l.type.jd.length;b<e;b++)n=l.type.jd[b],l.type!==n&&(n.D.length>d?l.siblings.push(n.D[d]):n.ee&&(g=this.j.jg(n.ee,l.Q,!0,l.x,l.y,!0),this.j.uc(),n.Ql(),l.siblings.push(g),h.push(g)));a=0;for(d=this.ih.length;a<d;a++)this.j.jg(this.ih[a],null,!0);this.j.pm=null;this.j.uc();
if(this.j.Sa&&!this.j.nc)for(a=0,d=this.j.ba.length;a<d;a++)n=this.j.ba[a],!n.ja&&n.D.length&&n.rl&&n.rl(this.j.Sa);a=0;for(d=h.length;a<d;a++)l=h[a],this.j.trigger(Object.getPrototypeOf(l.type.kb).aa.Gi,l);h.length=0;this.j.trigger(G.prototype.aa.Io,null);this.Yh=!1};a.prototype.kt=function(){var a,b,c,d,f;b=a=0;for(c=this.ih.length;a<c;a++)d=this.ih[a],f=this.j.ba[d[1]],f.global?this.j.jg(d,null,!0):(this.ih[b]=d,b++);this.ih.length=b};a.prototype.Aw=function(){this.j.trigger(G.prototype.aa.zs,
null);this.j.jf.zd.length=0;var a,b,c,d,e,g;if(!this.Yh)for(a=0,b=this.wa.length;a<b;a++)for(this.wa[a].Ao(),e=this.wa[a].D,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.j.wo(g.type)&&this.rw(g);a=0;for(b=this.wa.length;a<b;a++){e=this.wa[a].D;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.j.Yf(g);this.j.uc();e.length=0;this.wa[a].Kh=!0}a=0;for(b=this.j.ba.length;a<b;a++)if(e=this.j.ba[a],!(e.global||e.kb.ug||e.kb.Dl||e.ja)){c=0;for(d=e.D.length;c<d;c++)this.j.Yf(e.D[c]);this.j.uc()}f=
!1};new xa(0,0,0,0);a.prototype.Be=function(a){var b,c=a,d=!1,f=!this.j.ge;f&&(this.j.bl||(this.j.bl=document.createElement("canvas"),b=this.j.bl,b.width=this.j.Ca,b.height=this.j.Ba,this.j.Zp=b.getContext("2d"),d=!0),b=this.j.bl,c=this.j.Zp,b.width!==this.j.Ca&&(b.width=this.j.Ca,d=!0),b.height!==this.j.Ba&&(b.height=this.j.Ba,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.Oa,c.mozImageSmoothingEnabled=this.j.Oa,c.msImageSmoothingEnabled=this.j.Oa,c.imageSmoothingEnabled=this.j.Oa));c.globalAlpha=
1;c.globalCompositeOperation="source-over";this.j.cm&&!this.Dp()&&c.clearRect(0,0,this.j.Ca,this.j.Ba);var e,g,d=0;for(e=this.wa.length;d<e;d++)g=this.wa[d],g.visible&&0<g.opacity&&11!==g.Tc&&(g.D.length||!g.Tf)?g.Be(c):g.zo();f&&a.drawImage(b,0,0,this.j.width,this.j.height)};a.prototype.Gd=function(a){var b=0<this.Ra.length||this.j.wi||!this.j.ge;if(b){this.j.nd||(this.j.nd=a.Ye(this.j.Ca,this.j.Ba,this.j.Oa));if(this.j.nd.Oi!==this.j.Ca||this.j.nd.Ni!==this.j.Ba)a.deleteTexture(this.j.nd),this.j.nd=
a.Ye(this.j.Ca,this.j.Ba,this.j.Oa);a.gf(this.j.nd);this.j.ge||a.ri(this.j.Ca,this.j.Ba)}else this.j.nd&&(a.gf(null),a.deleteTexture(this.j.nd),this.j.nd=null);this.j.cm&&!this.Dp()&&a.clear(0,0,0,0);var c,d,f;c=0;for(d=this.wa.length;c<d;c++)f=this.wa[c],f.visible&&0<f.opacity&&(f.D.length||!f.Tf)?f.Gd(a):f.zo();b&&(0===this.Ra.length||1===this.Ra.length&&this.j.ge?(1===this.Ra.length?(b=this.Ra[0].index,a.hf(this.Ra[0].sc),a.qi(null,1/this.j.Ca,1/this.j.Ba,0,0,1,1,this.scale,this.P,0,0,this.j.Ca/
2,this.j.Ba/2,this.tb[b]),a.tl(this.Ra[0].sc)&&(this.j.Ia=!0)):a.hf(0),this.j.ge||a.ri(this.j.width,this.j.height),a.gf(null),a.Kg(1),a.dd(this.j.nd),a.Yq(),a.ff(),a.mf(),b=this.j.width/2,c=this.j.height/2,a.xl(-b,c,b,c,b,-c,-b,-c),a.dd(null)):this.Wn(a,null,null,null))};a.prototype.aj=function(){return 0<this.Ra.length||this.j.wi||!this.j.ge?this.j.nd:null};a.prototype.yp=function(){var a=this.wa[0].Jd(),b,c,d;b=1;for(c=this.wa.length;b<c;b++)d=this.wa[b],(0!==d.If||0!==d.Jf)&&d.Jd()<a&&(a=d.Jd());
return a};a.prototype.Wq=function(a){if(!this.Jr){var b=1/this.yp()*this.j.Ca/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.j.Ia=!0)};a.prototype.Xq=function(a){if(!this.Jr){var b=1/this.yp()*this.j.Ba/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.j.Ia=!0)};a.prototype.bt=function(){this.Wq(this.scrollX);this.Xq(this.scrollY)};a.prototype.Wn=function(a,b,c,d){var f=c?c.Ra:b?b.Ra:this.Ra,e=1,g=0,q=0,h=0,l=this.j.Ca,n=this.j.Ba;
c?(e=c.Q.Jd(),g=c.Q.Hd(),q=c.Q.nb,h=c.Q.ob,l=c.Q.Cb,n=c.Q.Bb):b&&(e=b.Jd(),g=b.Hd(),q=b.nb,h=b.ob,l=b.Cb,n=b.Bb);var B=this.j.Mm,C,E,z,A,J=0,F=1,V,O=this.j.Ca,Q=this.j.Ba,W=O/2,Y=Q/2,P=b?b.Fg:this.Fg,K=b?b.Un:this.Un,H=0,M=0,I=0,L=0,N=O,na=O,U=Q,X=Q,oa=z=0,Ca=c?c.Q.Hd():0;if(c){C=0;for(E=f.length;C<E;C++)z+=a.Ou(f[C].sc),oa+=a.Pu(f[C].sc);A=c.pb;H=b.rb(A.left,A.top,!0,!0);I=b.rb(A.left,A.top,!1,!0);N=b.rb(A.right,A.bottom,!0,!0);U=b.rb(A.right,A.bottom,!1,!0);0!==Ca&&(C=b.rb(A.right,A.top,!0,!0),
E=b.rb(A.right,A.top,!1,!0),M=b.rb(A.left,A.bottom,!0,!0),L=b.rb(A.left,A.bottom,!1,!0),A=Math.min(H,N,C,M),N=Math.max(H,N,C,M),H=A,A=Math.min(I,U,E,L),U=Math.max(I,U,E,L),I=A);H-=z;I-=oa;N+=z;U+=oa;K.left=H/O;K.top=1-I/Q;K.right=N/O;K.bottom=1-U/Q;M=H=sa(H);L=I=sa(I);na=N=ua(N);X=U=ua(U);M-=z;L-=oa;na+=z;X+=oa;0>H&&(H=0);0>I&&(I=0);N>O&&(N=O);U>Q&&(U=Q);0>M&&(M=0);0>L&&(L=0);na>O&&(na=O);X>Q&&(X=Q);P.left=H/O;P.top=1-I/Q;P.right=N/O;P.bottom=1-U/Q}else P.left=K.left=0,P.top=K.top=0,P.right=K.right=
1,P.bottom=K.bottom=1;oa=c&&((c.P||Ca)&&a.Dj(f[0].sc)||0!==z||0!==oa||1!==c.opacity||c.type.kb.sq)||b&&!c&&1!==b.opacity;a.Yq();if(oa){B[J]||(B[J]=a.Ye(O,Q,this.j.Oa));if(B[J].Oi!==O||B[J].Ni!==Q)a.deleteTexture(B[J]),B[J]=a.Ye(O,Q,this.j.Oa);a.hf(0);a.gf(B[J]);V=X-L;a.clearRect(M,Q-L-V,na-M,V);c?c.Gd(a):(a.dd(this.j.Od),a.Kg(b.opacity),a.ff(),a.translate(-W,-Y),a.mf(),a.Ge(H,U,N,U,N,I,H,I,P));K.left=K.top=0;K.right=K.bottom=1;c&&(A=P.top,P.top=P.bottom,P.bottom=A);J=1;F=0}a.Kg(1);z=f.length-1;var Ca=
a.Rn(f[z].sc)||!b&&!c&&!this.j.ge,Ha=0;C=0;for(E=f.length;C<E;C++){B[J]||(B[J]=a.Ye(O,Q,this.j.Oa));if(B[J].Oi!==O||B[J].Ni!==Q)a.deleteTexture(B[J]),B[J]=a.Ye(O,Q,this.j.Oa);a.hf(f[C].sc);Ha=f[C].index;a.tl(f[C].sc)&&(this.j.Ia=!0);0!=C||oa?(a.qi(d,1/O,1/Q,K.left,K.top,K.right,K.bottom,e,g,q,h,(q+l)/2,(h+n)/2,c?c.tb[Ha]:b?b.tb[Ha]:this.tb[Ha]),a.dd(null),C!==z||Ca?(a.gf(B[J]),V=X-L,A=Q-L-V,a.clearRect(M,A,na-M,V)):(c?a.Jg(c.Fc,c.zc):b&&a.Jg(b.Fc,b.zc),a.gf(d)),a.dd(B[F]),a.ff(),a.translate(-W,-Y),
a.mf(),a.Ge(H,U,N,U,N,I,H,I,P),C!==z||Ca||a.dd(null)):(a.gf(B[J]),V=X-L,A=Q-L-V,a.clearRect(M,A,na-M,V),c?(a.qi(d,1/c.width,1/c.height,K.left,K.top,K.right,K.bottom,e,g,q,h,(q+l)/2,(h+n)/2,c.tb[Ha]),c.Gd(a)):(a.qi(d,1/O,1/Q,0,0,1,1,e,g,q,h,(q+l)/2,(h+n)/2,b?b.tb[Ha]:this.tb[Ha]),a.dd(b?this.j.Od:this.j.nd),a.ff(),a.translate(-W,-Y),a.mf(),a.Ge(H,U,N,U,N,I,H,I,P)),K.left=K.top=0,K.right=K.bottom=1,c&&!Ca&&(A=U,U=I,I=A));J=0===J?1:0;F=0===J?1:0}Ca&&(a.hf(0),c?a.Jg(c.Fc,c.zc):b?a.Jg(b.Fc,b.zc):this.j.ge||
(a.ri(this.j.width,this.j.height),W=this.j.width/2,Y=this.j.height/2,I=H=0,N=this.j.width,U=this.j.height),a.gf(d),a.dd(B[F]),a.ff(),a.translate(-W,-Y),a.mf(),c&&1===f.length&&!oa?a.Ge(H,I,N,I,N,U,H,U,P):a.Ge(H,U,N,U,N,I,H,I,P),a.dd(null))};a.prototype.Mk=function(a){var b,c;b=0;for(c=this.wa.length;b<c;b++)if(this.wa[b].Fa===a)return this.wa[b];return null};a.prototype.rc=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.P,w:this.width,h:this.height,fv:this.Yh,persist:this.Eg,
fx:[],layers:{}};a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],d.fx.push({name:c.name,active:c.Rc,params:this.tb[c.index]});a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],d.layers[c.Fa.toString()]=c.rc();return d};a.prototype.Mc=function(a){var b,c,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.P=a.a;this.width=a.w;this.height=a.h;this.Eg=a.persist;"undefined"!==typeof a.fv&&(this.Yh=a.fv);var e=a.fx;b=0;for(c=e.length;b<c;b++)if(d=this.Pm(e[b].name))d.Rc=e[b].active,this.tb[d.index]=
e[b].params;this.Uf();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.Mk(parseInt(f,10)))&&a.Mc(b[f])};ac=a;b.prototype.Uf=function(){this.Ra.length=0;var a,b,c;a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],c.Rc&&this.Ra.push(c)};b.prototype.Pm=function(a){var b,c,d;b=0;for(c=this.oa.length;b<c;b++)if(d=this.oa[b],d.name===a)return d;return null};b.prototype.lt=function(){var a,b,c,d,f,e;b=a=0;for(c=this.Ld.length;a<c;a++){d=this.Ld[a];f=this.j.ba[d[1]];e=this.j.wo(f);f=!0;if(!e||this.Lb.Yh)d=
this.j.jg(d,this,!0),h.push(d),d.type.global&&(f=!1,this.Qi.push(d.uid));f&&(this.Ld[b]=this.Ld[a],b++)}this.Ld.length=b;this.j.uc();!this.j.Z&&this.oa.length&&(this.Tc=this.Pt);this.Pi=Eb(this.Tc);this.j.Y&&Fb(this,this.Tc,this.j.Y);this.Of=!0};b.prototype.oi=function(a,b){var c=Ga(this.D,a);0>c||(b&&this.Ke&&a.cd&&a.cd.right>=a.cd.left&&(a.Qa(),this.sd.update(a,a.cd,null),a.cd.set(0,0,-1,-1)),c===this.D.length-1?this.D.pop():(Ba(this.D,c),this.Ij(c)),this.Of=!0)};b.prototype.Ki=function(a,b){a.Le=
this.D.length;this.D.push(a);b&&this.Ke&&a.cd&&a.la();this.Of=!0};b.prototype.$v=function(a){this.D.unshift(a);this.Ij(0)};b.prototype.Gv=function(a,b,c){var d=a.ie();b=b.ie();Ba(this.D,d);d<b&&b--;c&&b++;b===this.D.length?this.D.push(a):this.D.splice(b,0,a);this.Ij(d<b?d:b)};b.prototype.Ij=function(a){-1===this.Wf?this.Wf=a:a<this.Wf&&(this.Wf=a);this.Of=this.Kh=!0};b.prototype.Ao=function(){if(this.Kh){-1===this.Wf&&(this.Wf=0);var a,b,c;if(this.Ke)for(a=this.Wf,b=this.D.length;a<b;++a)c=this.D[a],
c.Le=a,this.sd.Cv(c.cd);else for(a=this.Wf,b=this.D.length;a<b;++a)this.D[a].Le=a;this.Kh=!1;this.Wf=-1}};b.prototype.Jd=function(a){return this.Mu()*(this.j.ge||a?this.j.Li:1)};b.prototype.Mu=function(){return(this.scale*this.Lb.scale-1)*this.Zj+1};b.prototype.Hd=function(){return this.Zg?0:Oa(this.Lb.P+this.P)};var g=[],l=[],n=[];b.prototype.zp=function(){this.Ao();this.sd.yl(this.nb,this.ob,this.Cb,this.Bb,n);if(!n.length)return d();if(1===n.length){var a=d();Ea(a,n[0]);n.length=0;return a}for(var b=
!0;1<n.length;){for(var a=n,c=void 0,f=void 0,g=void 0,h=void 0,w=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],h=a[c+1],w=d(),q=g,v=h,x=w,D=0,B=0,C=0,E=q.length,z=v.length,A=void 0,J=void 0;for(x.length=E+z;D<E&&B<z;++C)A=q[D],J=v[B],A.Le<J.Le?(x[C]=A,++D):(x[C]=J,++B);for(;D<E;++D,++C)x[C]=q[D];for(;B<z;++B,++C)x[C]=v[B];b||(e(g),e(h));l.push(w)}1===f%2&&(b?(g=d(),Ea(g,a[f-1]),l.push(g)):l.push(a[f-1]));Ea(a,l);l.length=0;b=!1}a=n[0];n.length=0;return a};b.prototype.Be=function(a){this.Gg=this.Im||
1!==this.opacity||0!==this.Tc;var b=this.j.canvas,c=a,d=!1;this.Gg&&(this.j.al||(this.j.al=document.createElement("canvas"),b=this.j.al,b.width=this.j.Ca,b.height=this.j.Ba,this.j.Yp=b.getContext("2d"),d=!0),b=this.j.al,c=this.j.Yp,b.width!==this.j.Ca&&(b.width=this.j.Ca,d=!0),b.height!==this.j.Ba&&(b.height=this.j.Ba,d=!0),d&&(c.webkitImageSmoothingEnabled=this.j.Oa,c.mozImageSmoothingEnabled=this.j.Oa,c.msImageSmoothingEnabled=this.j.Oa,c.imageSmoothingEnabled=this.j.Oa),this.Tf&&c.clearRect(0,
0,this.j.Ca,this.j.Ba));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Tf||(c.fillStyle="rgb("+this.eg[0]+","+this.eg[1]+","+this.eg[2]+")",c.fillRect(0,0,this.j.Ca,this.j.Ba));c.save();this.Zg=!0;var d=this.We(0,0,!0,!0),f=this.We(0,0,!1,!0);this.Zg=!1;this.j.pe&&(d=Math.round(d),f=Math.round(f));this.Yn(d,f,c);var g=this.Jd();c.scale(g,g);c.translate(-d,-f);this.Ke?(this.de.left=this.sd.Bd(this.nb),this.de.top=this.sd.Cd(this.ob),this.de.right=this.sd.Bd(this.Cb),this.de.bottom=this.sd.Cd(this.Bb),
this.Of||!this.de.Ak(this.Xk)?(e(this.fi),d=this.zp(),this.Of=!1,this.Xk.sk(this.de)):d=this.fi):d=this.D;for(var h,q=null,f=0,g=d.length;f<g;++f)h=d[f],h!==q&&(this.Mt(h,c),q=h);this.Ke&&(this.fi=d);c.restore();this.Gg&&(a.globalCompositeOperation=this.Pi,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.Mt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Qa();var c=a.pb;c.right<this.nb||c.bottom<this.ob||c.left>this.Cb||c.top>this.Bb||(b.globalCompositeOperation=a.Pi,a.Be(b))}};
b.prototype.zo=function(){this.Zg=!0;var a=this.We(0,0,!0,!0),b=this.We(0,0,!1,!0);this.Zg=!1;this.j.pe&&(a=Math.round(a),b=Math.round(b));this.Yn(a,b,null)};b.prototype.Yn=function(a,b,c){var d=this.Jd();this.nb=a;this.ob=b;this.Cb=a+1/d*this.j.Ca;this.Bb=b+1/d*this.j.Ba;a=this.Hd();0!==a&&(c&&(c.translate(this.j.Ca/2,this.j.Ba/2),c.rotate(-a),c.translate(this.j.Ca/-2,this.j.Ba/-2)),this.Sf.set(this.nb,this.ob,this.Cb,this.Bb),this.Sf.offset((this.nb+this.Cb)/-2,(this.ob+this.Bb)/-2),this.Dr.cr(this.Sf,
a),this.Dr.Wo(this.Sf),this.Sf.offset((this.nb+this.Cb)/2,(this.ob+this.Bb)/2),this.nb=this.Sf.left,this.ob=this.Sf.top,this.Cb=this.Sf.right,this.Bb=this.Sf.bottom)};b.prototype.Gd=function(a){var b=0,c=0;if(this.Gg=this.Im||1!==this.opacity||0<this.Ra.length||0!==this.Tc){this.j.Od||(this.j.Od=a.Ye(this.j.Ca,this.j.Ba,this.j.Oa));if(this.j.Od.Oi!==this.j.Ca||this.j.Od.Ni!==this.j.Ba)a.deleteTexture(this.j.Od),this.j.Od=a.Ye(this.j.Ca,this.j.Ba,this.j.Oa);a.gf(this.j.Od);this.Tf&&a.clear(0,0,0,0)}this.Tf||
a.clear(this.eg[0]/255,this.eg[1]/255,this.eg[2]/255,1);this.Zg=!0;var d=this.We(0,0,!0,!0),b=this.We(0,0,!1,!0);this.Zg=!1;this.j.pe&&(d=Math.round(d),b=Math.round(b));this.Yn(d,b,null);d=this.Jd();a.ff();a.scale(d,d);a.Zn(-this.Hd());a.translate((this.nb+this.Cb)/-2,(this.ob+this.Bb)/-2);a.mf();this.Ke?(this.de.left=this.sd.Bd(this.nb),this.de.top=this.sd.Cd(this.ob),this.de.right=this.sd.Bd(this.Cb),this.de.bottom=this.sd.Cd(this.Bb),this.Of||!this.de.Ak(this.Xk)?(e(this.fi),b=this.zp(),this.Of=
!1,this.Xk.sk(this.de)):b=this.fi):b=this.D;var f,g,h=null,c=0;for(f=b.length;c<f;++c)g=b[c],g!==h&&(this.Nt(b[c],a),h=g);this.Ke&&(this.fi=b);this.Gg&&(b=this.Ra.length?this.Ra[0].sc:0,c=this.Ra.length?this.Ra[0].index:0,0===this.Ra.length||1===this.Ra.length&&!a.Rn(b)&&1===this.opacity?(1===this.Ra.length?(a.hf(b),a.qi(this.Lb.aj(),1/this.j.Ca,1/this.j.Ba,0,0,1,1,d,this.Hd(),this.nb,this.ob,(this.nb+this.Cb)/2,(this.ob+this.Bb)/2,this.tb[c]),a.tl(b)&&(this.j.Ia=!0)):a.hf(0),a.gf(this.Lb.aj()),a.Kg(this.opacity),
a.dd(this.j.Od),a.Jg(this.Fc,this.zc),a.ff(),a.mf(),d=this.j.Ca/2,b=this.j.Ba/2,a.xl(-d,b,d,b,d,-b,-d,-b),a.dd(null)):this.Lb.Wn(a,this,null,this.Lb.aj()))};b.prototype.Nt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Qa();var c=a.pb;c.right<this.nb||c.bottom<this.ob||c.left>this.Cb||c.top>this.Bb||(a.Pr?this.Ot(a,b):(b.hf(0),b.Jg(a.Fc,a.zc),a.Gd(b)))}};b.prototype.Ot=function(a,b){var c=a.Ra[0].sc,d=a.Ra[0].index,f=this.Jd();if(1!==a.Ra.length||b.Rn(c)||b.cw(c)||(a.P||a.Q.Hd())&&b.Dj(c)||
1!==a.opacity||a.type.kb.sq)this.Lb.Wn(b,this,a,this.Gg?this.j.Od:this.Lb.aj()),b.ff(),b.scale(f,f),b.Zn(-this.Hd()),b.translate((this.nb+this.Cb)/-2,(this.ob+this.Bb)/-2),b.mf();else{b.hf(c);b.Jg(a.Fc,a.zc);b.tl(c)&&(this.j.Ia=!0);var e=0,g=0,q=0,h=0;b.Dj(c)&&(c=a.pb,e=this.rb(c.left,c.top,!0,!0),g=this.rb(c.left,c.top,!1,!0),q=this.rb(c.right,c.bottom,!0,!0),c=this.rb(c.right,c.bottom,!1,!0),e=e/windowWidth,g=1-g/windowHeight,q=q/windowWidth,h=1-c/windowHeight);b.qi(this.Gg?this.j.Od:this.Lb.aj(),
1/a.width,1/a.height,e,g,q,h,f,this.Hd(),this.nb,this.ob,(this.nb+this.Cb)/2,(this.ob+this.Bb)/2,a.tb[d]);a.Gd(b)}};b.prototype.We=function(a,b,c,d){var f=this.j.devicePixelRatio;this.j.lh&&(a*=f,b*=f);var f=this.j.Fq,e=this.j.Gq,f=(this.Lb.scrollX-f)*this.If+f,e=(this.Lb.scrollY-e)*this.Jf+e,g=f,q=e,h=1/this.Jd(!d);d?(g-=this.j.Ca*h/2,q-=this.j.Ba*h/2):(g-=this.j.width*h/2,q-=this.j.height*h/2);g+=a*h;q+=b*h;b=this.Hd();0!==b&&(g-=f,q-=e,a=Math.cos(b),b=Math.sin(b),d=g*a-q*b,q=q*a+g*b,g=d+f,q+=e);
return c?g:q};b.prototype.rb=function(a,b,c,d){var f=this.j.Fq,e=this.j.Gq,g=(this.Lb.scrollX-f)*this.If+f,q=(this.Lb.scrollY-e)*this.Jf+e,e=g,f=q,h=this.Hd();if(0!==h){a-=g;b-=q;var l=Math.cos(-h),h=Math.sin(-h),n=a*l-b*h;b=b*l+a*h;a=n+g;b+=q}g=1/this.Jd(!d);d?(e-=this.j.Ca*g/2,f-=this.j.Ba*g/2):(e-=this.j.width*g/2,f-=this.j.height*g/2);e=(a-e)/g;f=(b-f)/g;a=this.j.devicePixelRatio;this.j.lh&&!d&&(e/=a,f/=a);return c?e:f};b.prototype.rc=function(){var a,b,c,d={s:this.scale,a:this.P,vl:this.nb,vt:this.ob,
vr:this.Cb,vb:this.Bb,v:this.visible,bc:this.eg,t:this.Tf,px:this.If,py:this.Jf,o:this.opacity,zr:this.Zj,fx:[],cg:this.Qi,instances:[]};a=0;for(b=this.oa.length;a<b;a++)c=this.oa[a],d.fx.push({name:c.name,active:c.Rc,params:this.tb[c.index]});return d};b.prototype.Mc=function(a){var b,d,f;this.scale=a.s;this.P=a.a;this.nb=a.vl;this.ob=a.vt;this.Cb=a.vr;this.Bb=a.vb;this.visible=a.v;this.eg=a.bc;this.Tf=a.t;this.If=a.px;this.Jf=a.py;this.opacity=a.o;this.Zj=a.zr;this.Qi=a.cg||[];Ea(this.Ld,this.lr);
var e=new ba;b=0;for(f=this.Qi.length;b<f;++b)e.add(this.Qi[b]);d=b=0;for(f=this.Ld.length;b<f;++b)e.contains(this.Ld[b][2])||(this.Ld[d]=this.Ld[b],++d);this.Ld.length=d;d=a.fx;b=0;for(f=d.length;b<f;b++)if(a=this.Pm(d[b].name))a.Rc=d[b].active,this.tb[a.index]=d[b].params;this.Uf();this.D.sort(c);this.Kh=!0};xc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,f,e,g;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=u.length&&(u.length=b.length+1);u[b.length]||(u[b.length]=[]);g=u[b.length];d=0;for(f=g.length;d<f;d++)if(e=g[d],a(b,e))return e;g.push(b);return b}
function d(a,b){this.j=a;this.Fr={};this.op={};this.Tm=!1;this.Gp=new ba;this.Am=[];this.dm=[];this.name=b[0];var c=b[1];this.mg=[];var d,f;d=0;for(f=c.length;d<f;d++)this.Ip(c[d],null,this.mg)}function e(a){this.type=a;this.D=[];this.Ma=[];this.bb=!0}function h(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.sb=[];this.Lg=[];this.Ep=this.Ml=this.to=this.Xm=this.group=this.jr=!1;this.ac=[];this.$d=[];this.te=[];this.cj="";this.$h=this.Xm=this.group=!1;this.qk=null;c[1]&&(this.cj=c[1][1].toLowerCase(),
this.group=!0,this.Xm=!!c[1][0],this.qk=[],this.$h=this.Xm,this.j.Rh.push(this),this.j.dj[this.cj]=this);this.Ee=c[2];this.Fa=c[4];this.group||(this.j.Vo[this.Fa.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new yc(this,d[a]);f.index=a;this.ac.push(f);this.Po(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new zc(this,d[a]),f.index=a,this.$d.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Ip(c[a],this,this.te);this.Tk=!1;this.ac.length&&(this.Tk=null==this.ac[0].type&&
this.ac[0].mc==G.prototype.aa.ds)}function f(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Zc))for(c=0,d=a.jd.length;c<d;c++)f=a.jd[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function g(a,b){this.Ed=a;this.sheet=a.sheet;this.j=a.j;this.xa=[];this.zb=[];this.ca={};this.index=-1;this.Ii=!1;this.mc=this.j.$f(b[1]);this.trigger=0<b[3];this.np=2===b[3];this.$m=b[5];this.xv=b[6];this.Fa=b[7];this.j.Uh[this.Fa.toString()]=this;-1===b[0]?(this.type=null,this.Pb=this.ao,this.Wg=null,this.ze=-1):(this.type=
this.j.ba[b[0]],this.Pb=this.xv?this.pw:this.$n,b[2]?(this.Wg=this.type.Jk(b[2]),this.ze=this.type.Nm(b[2])):(this.Wg=null,this.ze=-1),this.Ed.parent&&this.Ed.parent.Cl());this.np&&(this.Pb=this.qw);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var e=new Ac(this,f[c]);this.xa.push(e)}this.zb.length=f.length}}function l(a,b){this.Ed=a;this.sheet=a.sheet;this.j=a.j;this.xa=[];this.zb=[];this.ca={};this.index=-1;this.Ii=!1;this.mc=this.j.$f(b[1]);-1===b[0]?(this.type=null,this.Pb=this.ao,
this.Wg=null,this.ze=-1):(this.type=this.j.ba[b[0]],this.Pb=this.$n,b[2]?(this.Wg=this.type.Jk(b[2]),this.ze=this.type.Nm(b[2])):(this.Wg=null,this.ze=-1));this.Fa=b[3];this.j.Qh[this.Fa.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var e=new Ac(this,f[c]);this.xa.push(e)}this.zb.length=f.length}}function n(){w++;t.length===w&&t.push(new Bc);return t[w]}function k(a,b){this.oe=a;this.Ed=a.Ed;this.sheet=a.sheet;this.j=a.j;this.type=b[0];this.Ze=null;this.Qf=0;this.get=
null;this.dp=0;this.Lb=null;this.key=0;this.object=null;this.index=0;this.Qj=this.Eh=this.Qj=this.Eh=this.pp=this.bh=this.Rj=null;this.ve=!1;var c,d,f;switch(b[0]){case 0:case 7:this.Ze=new Cc(this,b[1]);this.Qf=0;this.get=this.Yu;break;case 1:this.Ze=new Cc(this,b[1]);this.Qf=0;this.get=this.Zu;break;case 5:this.Ze=new Cc(this,b[1]);this.Qf=0;this.get=this.cv;break;case 3:case 8:this.dp=b[1];this.get=this.Wu;break;case 6:this.Lb=this.j.wn[b[1]];this.get=this.dv;break;case 9:this.key=b[1];this.get=
this.bv;break;case 4:this.object=this.j.ba[b[1]];this.get=this.gv;this.Ed.Po(this.object);this.oe instanceof zc?this.Ed.Cl():this.Ed.parent&&this.Ed.parent.Cl();break;case 10:this.index=b[1];a.type.ja?(this.get=this.$u,this.ve=!0):this.get=this.av;break;case 11:this.Rj=b[1];this.bh=null;this.get=this.Xu;break;case 2:case 12:this.pp=b[1];this.get=this.Vu;break;case 13:for(this.get=this.hv,this.Eh=[],this.Qj=[],c=1,d=b.length;c<d;c++)f=new Ac(this.oe,b[c]),this.Eh.push(f),this.Qj.push(0)}}function m(a,
b,c){this.sheet=a;this.parent=b;this.j=a.j;this.sb=[];this.name=c[1];this.Sj=c[2];this.Wm=c[3];this.lj=!!c[4];this.Sk=!!c[5];this.Fa=c[6];this.j.yi[this.Fa.toString()]=this;this.data=this.Wm;this.parent?(this.vh=this.lj||this.Sk?-1:this.j.yw++,this.j.Ws.push(this)):(this.vh=-1,this.j.Vs.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.j=a.j;this.sb=[];this.gj=null;this.nv=c[1];this.Rc=!0}function r(){this.qr=[];this.reset(null)}var u=[];d.prototype.toString=function(){return this.name};
d.prototype.Ip=function(a,b,c){switch(a[0]){case 0:a=new Dc(this,b,a);if(a.Ee)for(c.push(a),c=0,b=a.ac.length;c<b;c++)a.ac[c].trigger&&this.Jp(a,c);else a.Qp()?this.Jp(a,0):c.push(a);break;case 1:a=new uc(this,b,a);c.push(a);break;case 2:a=new Ec(this,b,a),c.push(a)}};d.prototype.Hb=function(){var a,b;a=0;for(b=this.mg.length;a<b;a++)this.mg[a].Hb(a<b-1&&this.mg[a+1].Tk)};d.prototype.xo=function(){this.Am.length=0;this.dm.length=0;this.No(this);this.dm.length=0};d.prototype.No=function(a){var b,c,
d,f,e=a.Am,g=a.dm,h=this.Gp.Xd();b=0;for(c=h.length;b<c;++b)d=h[b],f=d.gj,!d.Rc||a===f||-1<g.indexOf(f)||(g.push(f),f.No(a),e.push(f))};d.prototype.Pb=function(a){this.j.Tx||(this.Tm=!0,a||(this.j.en=!0));var b,c;b=0;for(c=this.mg.length;b<c;b++){var d=this.mg[b];d.Pb();this.j.qm(d.sb);this.j.pg&&this.j.uc()}a||(this.j.en=!1)};d.prototype.Jp=function(a,b){a.Ee||this.j.Ol.push(a);var c,d,f=a.ac[b],e;f.type?e=f.type.name:e="system";var g=(c=f.np)?this.op:this.Fr;g[e]||(g[e]=[]);e=g[e];g=f.mc;if(c){if(f.xa.length&&
(f=f.xa[0],1===f.type&&2===f.Ze.type)){f=f.Ze.value.toLowerCase();c=0;for(d=e.length;c<d;c++)if(e[c].method==g){c=e[c].Ui;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];e.push({method:g,Ui:c})}}else{c=0;for(d=e.length;c<d;c++)if(e[c].method==g){e[c].Ui.push([a,b]);return}ad&&g===ad.prototype.aa.Ph?e.unshift({method:g,Ui:[[a,b]]}):e.push({method:g,Ui:[[a,b]]})}};bc=d;e.prototype.Cp=function(){return this.bb?this.type.D.length:this.D.length};e.prototype.Id=function(){return this.bb?this.type.D:
this.D};e.prototype.Bj=function(a){a&&(a.j.Ac().Fd.Ee?(this.bb&&(this.D.length=0,Ea(this.Ma,a.type.D),this.bb=!1),a=this.Ma.indexOf(a),-1!==a&&(this.D.push(this.Ma[a]),this.Ma.splice(a,1))):(this.bb=!1,this.D.length=1,this.D[0]=a))};Lb=e;window._c2hh_="32E7700C3F99B9E82BD019DE664EEEDB2562788F";h.prototype.Hb=function(a){var c,d=this.parent;if(this.group)for(this.Ml=!0;d;){if(!d.group){this.Ml=!1;break}d=d.parent}this.to=!this.Qp()&&(!this.parent||this.parent.group&&this.parent.Ml);this.Ep=!!a;this.Lg=
this.sb.slice(0);for(d=this.parent;d;){a=0;for(c=d.sb.length;a<c;a++)this.Ts(d.sb[a]);d=d.parent}this.sb=b(this.sb);this.Lg=b(this.Lg);a=0;for(c=this.ac.length;a<c;a++)this.ac[a].Hb();a=0;for(c=this.$d.length;a<c;a++)this.$d[a].Hb();a=0;for(c=this.te.length;a<c;a++)this.te[a].Hb(a<c-1&&this.te[a+1].Tk)};h.prototype.uw=function(a){if(this.$h!==!!a){this.$h=!!a;var b;a=0;for(b=this.qk.length;a<b;++a)this.qk[a].Lr();0<b&&this.j.eb.ah&&this.j.eb.ah.xo()}};h.prototype.Po=function(a){f(a,this.sb)};h.prototype.Ts=
function(a){f(a,this.Lg)};h.prototype.Cl=function(){this.jr=!0;this.parent&&this.parent.Cl()};h.prototype.Qp=function(){return this.ac.length?this.ac[0].trigger:!1};h.prototype.Pb=function(){var a,b=!1,c,d=this.j,f=this.j.Ac();f.Fd=this;var e=this.ac;this.Tk||(f.Cm=!1);if(this.Ee){0===e.length&&(b=!0);f.Tb=0;for(a=e.length;f.Tb<a;f.Tb++)e[f.Tb].trigger||(c=e[f.Tb].Pb())&&(b=!0);(f.ph=b)&&this.Al()}else{f.Tb=0;for(a=e.length;f.Tb<a;f.Tb++)if(c=e[f.Tb].Pb(),!c){f.ph=!1;this.to&&d.pg&&d.uc();return}f.ph=
!0;this.Al()}this.Rt(f)};h.prototype.Rt=function(a){a.ph&&this.Ep&&(a.Cm=!0);this.to&&this.j.pg&&this.j.uc()};h.prototype.nw=function(a){this.j.Ac().Fd=this;this.ac[a].Pb()&&(this.Al(),this.j.Ac().ph=!0)};h.prototype.Al=function(){var a=this.j.Ac(),b;a.Dd=0;for(b=this.$d.length;a.Dd<b;a.Dd++)if(this.$d[a.Dd].Pb())return;this.Uq()};h.prototype.kw=function(){var a=this.j.Ac(),b;for(b=this.$d.length;a.Dd<b;a.Dd++)if(this.$d[a.Dd].Pb())return;this.Uq()};h.prototype.Uq=function(){if(this.te.length){var a,
b,c,d,f=this.te.length-1;this.j.wl(this);if(this.jr)for(a=0,b=this.te.length;a<b;a++)c=this.te[a],(d=!this.Ml||!this.group&&a<f)&&this.j.ul(c.sb),c.Pb(),d?this.j.Ch(c.sb):this.j.qm(c.sb);else for(a=0,b=this.te.length;a<b;a++)this.te[a].Pb();this.j.ql()}};h.prototype.ow=function(){var a=this.j.Ac();a.Fd=this;var b=!1,c;a.Tb=0;for(c=this.ac.length;a.Tb<c;a.Tb++)if(this.ac[a.Tb].Pb())b=!0;else if(!this.Ee)return!1;return this.Ee?b:!0};h.prototype.lw=function(){this.j.dh++;var a=this.j.Ac().Tb,b=this.j.wl(this);
if(!this.Ee)for(b.Tb=a+1,a=this.ac.length;b.Tb<a;b.Tb++)if(!this.ac[b.Tb].Pb()){this.j.ql();return}this.Al();this.j.ql()};h.prototype.uv=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.ac[b].type===a.type)return!1;return!0};Dc=h;g.prototype.Hb=function(){var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.Hb(),c.ve&&(this.Ii=!0)};g.prototype.qw=function(){return!0};g.prototype.ao=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.zb[a]=this.xa[a].get();return ib(this.mc.apply(this.j.jf,
this.zb),this.$m)};g.prototype.pw=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.zb[a]=this.xa[a].get();a=this.mc.apply(this.Wg?this.Wg:this.type,this.zb);this.type.Te();return a};g.prototype.$n=function(){var a,b,c,d,f,e,g,h,l=this.type,k=l.Na(),n=this.Ed.Ee&&!this.trigger;b=0;var m=l.Zc,r=l.ja,w=l.wf,u=this.ze,t=-1<u,p=this.Ii,K=this.xa,H=this.zb,M=this.$m,I=this.mc,L;if(p)for(b=0,f=K.length;b<f;++b)e=K[b],e.ve||(H[b]=e.get(0));else for(b=0,f=K.length;b<f;++b)H[b]=K[b].get(0);if(k.bb){k.D.length=
0;k.Ma.length=0;L=l.D;a=0;for(d=L.length;a<d;++a){h=L[a];if(p)for(b=0,f=K.length;b<f;++b)e=K[b],e.ve&&(H[b]=e.get(a));t?(b=0,r&&(b=h.type.Xh[w]),b=I.apply(h.na[u+b],H)):b=I.apply(h,H);(g=ib(b,M))?k.D.push(h):n&&k.Ma.push(h)}l.finish&&l.finish(!0);k.bb=!1;l.Te();return k.Cp()}c=0;L=(g=n&&!this.Ed.uv(this))?k.Ma:k.D;var N=!1;a=0;for(d=L.length;a<d;++a){h=L[a];if(p)for(b=0,f=K.length;b<f;++b)e=K[b],e.ve&&(H[b]=e.get(a));t?(b=0,r&&(b=h.type.Xh[w]),b=I.apply(h.na[u+b],H)):b=I.apply(h,H);if(ib(b,M))if(N=
!0,g){if(k.D.push(h),m)for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.Na().D.push(e)}else{L[c]=h;if(m)for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.Na().D[c]=e;c++}else if(g){L[c]=h;if(m)for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.Na().Ma[c]=e;c++}else if(n&&(k.Ma.push(h),m))for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.Na().Ma.push(e)}L.length=c;if(m)for(r=l.jd,a=0,d=r.length;a<d;a++)h=r[a].Na(),g?h.Ma.length=c:h.D.length=c;c=N;if(g&&!N)for(a=
0,d=k.D.length;a<d;a++){h=k.D[a];if(p)for(b=0,f=K.length;b<f;b++)e=K[b],e.ve&&(H[b]=e.get(a));b=t?I.apply(h.na[u],H):I.apply(h,H);if(ib(b,M)){N=!0;break}}l.finish&&l.finish(c||n);return n?N:k.Cp()};yc=g;l.prototype.Hb=function(){var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.Hb(),c.ve&&(this.Ii=!0)};l.prototype.ao=function(){var a=this.j,b,c,d=this.xa,f=this.zb;b=0;for(c=d.length;b<c;++b)f[b]=d[b].get();return this.mc.apply(a.jf,f)};l.prototype.$n=function(){var a=this.type,b=this.ze,c=
a.wf,d=this.Ii,f=this.xa,e=this.zb,g=this.mc,h=a.Na().Id(),a=a.ja,l=-1<b,k,n,m,r,w,u;if(d)for(n=0,r=f.length;n<r;++n)w=f[n],w.ve||(e[n]=w.get(0));else for(n=0,r=f.length;n<r;++n)e[n]=f[n].get(0);k=0;for(m=h.length;k<m;++k){u=h[k];if(d)for(n=0,r=f.length;n<r;++n)w=f[n],w.ve&&(e[n]=w.get(k));l?(n=0,a&&(n=u.type.Xh[c]),g.apply(u.na[b+n],e)):g.apply(u,e)}return!1};zc=l;var t=[],w=-1;k.prototype.Hb=function(){var a,b;if(11===this.type)this.bh=this.j.vp(this.Rj,this.Ed.parent);else if(13===this.type)for(a=
0,b=this.Eh.length;a<b;a++)this.Eh[a].Hb();this.Ze&&this.Ze.Hb()};k.prototype.Ev=function(a){this.ve||!a||a.kb.Dl||(this.ve=!0)};k.prototype.$q=function(){this.ve=!0};k.prototype.Yu=function(a){this.Qf=a||0;a=n();this.Ze.get(a);w--;return a.data};k.prototype.Zu=function(a){this.Qf=a||0;a=n();this.Ze.get(a);w--;return ja(a.data)?a.data:""};k.prototype.gv=function(){return this.object};k.prototype.Wu=function(){return this.dp};k.prototype.cv=function(a){this.Qf=a||0;a=n();this.Ze.get(a);w--;return a.fc()?
this.j.Lu(a.data):this.j.Ku(a.data)};k.prototype.dv=function(){return this.Lb};k.prototype.bv=function(){return this.key};k.prototype.av=function(){return this.index};k.prototype.$u=function(a){a=a||0;var b=this.oe.type,c=null,c=b.Na(),d=c.Id();if(d.length)c=d[a%d.length].type;else if(c.Ma.length)c=c.Ma[a%c.Ma.length].type;else if(b.D.length)c=b.D[a%b.D.length].type;else return 0;return this.index+c.Dk[b.wf]};k.prototype.Xu=function(){return this.bh};k.prototype.Vu=function(){return this.pp};k.prototype.hv=
function(){var a,b;a=0;for(b=this.Eh.length;a<b;a++)this.Qj[a]=this.Eh[a].get();return this.Qj};Ac=k;m.prototype.Hb=function(){this.sb=b(this.sb)};m.prototype.Pf=function(a){var b=this.j.up();this.parent&&!this.lj&&b?(this.vh>=b.length&&(b.length=this.vh+1),b[this.vh]=a):this.data=a};m.prototype.fh=function(){var a=this.j.up();return!this.parent||this.lj||!a||this.Sk?this.data:this.vh>=a.length||"undefined"===typeof a[this.vh]?this.Wm:a[this.vh]};m.prototype.Pb=function(){!this.parent||this.lj||this.Sk||
this.Pf(this.Wm)};uc=m;p.prototype.toString=function(){return"include:"+this.gj.toString()};p.prototype.Hb=function(){this.gj=this.j.Em[this.nv];this.sheet.Gp.add(this);this.sb=b(this.sb);for(var a=this.parent;a;)a.group&&a.qk.push(this),a=a.parent;this.Lr()};p.prototype.Pb=function(){this.parent&&this.j.Fj(this.j.ba);this.gj.Tm||this.gj.Pb(!0);this.parent&&this.j.Ch(this.j.ba)};p.prototype.Lr=function(){for(var a=this.parent;a;){if(a.group&&!a.$h){this.Rc=!1;return}a=a.parent}this.Rc=!0};Ec=p;r.prototype.reset=
function(a){this.Fd=a;this.Dd=this.Tb=0;this.qr.length=0;this.Cm=this.ph=!1};tc=r})();
(function(){function a(a,b){this.oe=a;this.j=a.j;this.type=b[0];this.get=[this.iu,this.eu,this.ru,this.uu,this.Ut,this.su,this.mu,this.bu,this.lu,this.qu,this.Vt,this.pu,this.cu,this.nu,this.ju,this.ku,this.fu,this.gu,this.au,this.tu,this.ou,this.hu,this.$t,this.du][this.type];var c=null;this.Gf=this.xa=this.zb=this.mc=this.Jl=this.second=this.first=this.value=null;this.ze=-1;this.Ce=null;this.Qr=-1;this.bh=this.Rj=null;this.pi=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Cc(a,b[1]);break;case 18:this.first=new Cc(a,b[1]);this.second=new Cc(a,b[2]);this.Jl=new Cc(a,b[3]);break;case 19:this.mc=this.j.$f(b[1]);this.mc!==G.prototype.ec.random&&this.mc!==G.prototype.ec.gt||this.oe.$q();this.zb=[];this.xa=[];3===b.length?(c=b[2],this.zb.length=c.length+1):this.zb.length=1;break;case 20:this.Gf=this.j.ba[b[1]];this.ze=-1;this.mc=this.j.$f(b[2]);this.pi=b[3];Hc.Function&&this.mc===Hc.Function.prototype.ec.Ow&&this.oe.$q();b[4]?this.Ce=new Cc(a,b[4]):this.Ce=null;this.zb=
[];this.xa=[];6===b.length?(c=b[5],this.zb.length=c.length+1):this.zb.length=1;break;case 21:this.Gf=this.j.ba[b[1]];this.pi=b[2];b[3]?this.Ce=new Cc(a,b[3]):this.Ce=null;this.Qr=b[4];break;case 22:this.Gf=this.j.ba[b[1]];this.Gf.Jk(b[2]);this.ze=this.Gf.Nm(b[2]);this.mc=this.j.$f(b[3]);this.pi=b[4];b[5]?this.Ce=new Cc(a,b[5]):this.Ce=null;this.zb=[];this.xa=[];7===b.length?(c=b[6],this.zb.length=c.length+1):this.zb.length=1;break;case 23:this.Rj=b[1],this.bh=null}this.oe.Ev(this.Gf);4<=this.type&&
17>=this.type&&(this.first=new Cc(a,b[1]),this.second=new Cc(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.xa.push(new Cc(a,c[d]))}}function c(){++h;e.length===h&&e.push(new Bc);return e[h]}function b(a,b,c){var d,e;d=0;for(e=a.length;d<e;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Fc.Nh;this.data=b||0;this.Ah=null;this.type==Fc.Nh&&(this.data=Math.floor(this.data))}a.prototype.Hb=function(){23===this.type&&(this.bh=this.oe.j.vp(this.Rj,this.oe.Ed.parent));this.first&&this.first.Hb();
this.second&&this.second.Hb();this.Jl&&this.Jl.Hb();this.Ce&&this.Ce.Hb();if(this.xa){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.xa[a].Hb()}};var e=[],h=-1;a.prototype.tu=function(a){var d=this.xa,e=this.zb;e[0]=a;a=c();b(d,e,a);--h;this.mc.apply(this.j.jf,e)};a.prototype.ou=function(a){var d=this.Gf,e=this.zb,n=this.xa,k=this.Ce,m=this.mc,p=this.oe.Qf,r=d.Na(),u=r.Id();if(!u.length)if(r.Ma.length)u=r.Ma;else{this.pi?a.td(""):a.gb(0);return}e[0]=a;a.Ah=d;a=c();b(n,e,a);k&&(k.get(a),a.fc()&&(p=
a.data,u=d.D));--h;d=u.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);m.apply(u[p],e)};a.prototype.$t=function(a){var d=this.Gf,e=this.zb,n=this.xa,k=this.Ce,m=this.ze,p=this.mc,r=this.oe.Qf,u=d.Na(),t=u.Id();if(!t.length)if(u.Ma.length)t=u.Ma;else{this.pi?a.td(""):a.gb(0);return}e[0]=a;a.Ah=d;a=c();b(n,e,a);k&&(k.get(a),a.fc()&&(r=a.data,t=d.D));--h;n=t.length;if(r>=n||r<=-n)r%=n;0>r&&(r+=n);r=t[r];t=0;d.ja&&(t=r.type.Xh[d.wf]);p.apply(r.na[m+t],e)};a.prototype.hu=function(a){var b=this.Ce,d=this.Gf,e=this.Qr,
k=this.oe.Qf,m=d.Na(),p=m.Id();if(!p.length)if(m.Ma.length)p=m.Ma;else{this.pi?a.td(""):a.gb(0);return}if(b){m=c();b.get(m);if(m.fc()){k=m.data;d=d.D;k%=d.length;0>k&&(k+=d.length);e=d[k].Vb[e];ja(e)?a.td(e):a.Da(e);--h;return}--h}b=p.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);k=p[k];p=0;d.ja&&(p=k.type.Dk[d.wf]);e=k.Vb[e+p];ja(e)?a.td(e):a.Da(e)};a.prototype.iu=function(a){a.type=Fc.Nh;a.data=this.value};a.prototype.eu=function(a){a.type=Fc.Mh;a.data=this.value};a.prototype.ru=function(a){a.type=Fc.String;
a.data=this.value};a.prototype.uu=function(a){this.first.get(a);a.fc()&&(a.data=-a.data)};a.prototype.Ut=function(a){this.first.get(a);var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data+=b.data,b.bi()&&a.ji());--h};a.prototype.su=function(a){this.first.get(a);var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data-=b.data,b.bi()&&a.ji());--h};a.prototype.mu=function(a){this.first.get(a);var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data*=b.data,b.bi()&&a.ji());--h};a.prototype.bu=function(a){this.first.get(a);
var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data/=b.data,a.ji());--h};a.prototype.lu=function(a){this.first.get(a);var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data%=b.data,b.bi()&&a.ji());--h};a.prototype.qu=function(a){this.first.get(a);var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data=Math.pow(a.data,b.data),b.bi()&&a.ji());--h};a.prototype.Vt=function(a){this.first.get(a);var b=c();this.second.get(b);b.di()||a.di()?this.Xt(a,b):this.Wt(a,b);--h};a.prototype.Xt=function(a,b){a.di()&&
b.di()?this.Zt(a,b):this.Yt(a,b)};a.prototype.Zt=function(a,b){a.data+=b.data};a.prototype.Yt=function(a,b){a.di()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.td(a.data.toString()+b.data)};a.prototype.Wt=function(a,b){a.gb(a.data&&b.data?1:0)};a.prototype.pu=function(a){this.first.get(a);var b=c();this.second.get(b);a.fc()&&b.fc()&&(a.data||b.data?a.gb(1):a.gb(0));--h};a.prototype.au=function(a){this.first.get(a);a.data?this.second.get(a):this.Jl.get(a)};a.prototype.cu=function(a){this.first.get(a);
var b=c();this.second.get(b);a.gb(a.data===b.data?1:0);--h};a.prototype.nu=function(a){this.first.get(a);var b=c();this.second.get(b);a.gb(a.data!==b.data?1:0);--h};a.prototype.ju=function(a){this.first.get(a);var b=c();this.second.get(b);a.gb(a.data<b.data?1:0);--h};a.prototype.ku=function(a){this.first.get(a);var b=c();this.second.get(b);a.gb(a.data<=b.data?1:0);--h};a.prototype.fu=function(a){this.first.get(a);var b=c();this.second.get(b);a.gb(a.data>b.data?1:0);--h};a.prototype.gu=function(a){this.first.get(a);
var b=c();this.second.get(b);a.gb(a.data>=b.data?1:0);--h};a.prototype.du=function(a){var b=this.bh.fh();ia(b)?a.Da(b):a.td(b)};Cc=a;d.prototype.bi=function(){return this.type===Fc.Mh};d.prototype.fc=function(){return this.type===Fc.Nh||this.type===Fc.Mh};d.prototype.di=function(){return this.type===Fc.String};d.prototype.ji=function(){this.bi()||(this.di()&&(this.data=parseFloat(this.data)),this.type=Fc.Mh)};d.prototype.gb=function(a){this.type=Fc.Nh;this.data=Math.floor(a)};d.prototype.Da=function(a){this.type=
Fc.Mh;this.data=a};d.prototype.td=function(a){this.type=Fc.String;this.data=a};d.prototype.vw=function(a){ia(a)?(this.type=Fc.Mh,this.data=a):ja(a)?(this.type=Fc.String,this.data=a.toString()):(this.type=Fc.Nh,this.data=0)};Bc=d;Fc={Nh:0,Mh:1,String:2}})();function G(a){this.j=a;this.zd=[]}
G.prototype.rc=function(){var a={},c,b,d,e,h,f,g,l;a.waits=[];var n=a.waits,k;c=0;for(b=this.zd.length;c<b;c++){f=this.zd[c];k={t:f.time,st:f.ww,s:f.gr,ev:f.Ti.Fa,sm:[],sols:{}};f.Ti.$d[f.Dd]&&(k.act=f.Ti.$d[f.Dd].Fa);d=0;for(e=f.sb.length;d<e;d++)k.sm.push(f.sb[d].Fa);for(h in f.ud)if(f.ud.hasOwnProperty(h)){g=this.j.ba[parseInt(h,10)];l={sa:f.ud[h].Vq,insts:[]};d=0;for(e=f.ud[h].jh.length;d<e;d++)l.insts.push(f.ud[h].jh[d].uid);k.sols[g.Fa.toString()]=l}n.push(k)}return a};
G.prototype.Mc=function(a){a=a.waits;var c,b,d,e,h,f,g,l,n,k,m;c=this.zd.length=0;for(b=a.length;c<b;c++)if(f=a[c],l=this.j.Vo[f.ev.toString()]){n=-1;d=0;for(e=l.$d.length;d<e;d++)if(l.$d[d].Fa===f.act){n=d;break}if(-1!==n){g={ud:{},sb:[],hp:!1};g.time=f.t;g.ww=f.st||"";g.gr=!!f.s;g.Ti=l;g.Dd=n;d=0;for(e=f.sm.length;d<e;d++)(l=this.j.Nk(f.sm[d]))&&g.sb.push(l);for(h in f.sols)if(f.sols.hasOwnProperty(h)&&(l=this.j.Nk(parseInt(h,10)))){n=f.sols[h];k={Vq:n.sa,jh:[]};d=0;for(e=n.insts.length;d<e;d++)(m=
this.j.$i(n.insts[d]))&&k.jh.push(m);g.ud[l.index.toString()]=k}this.zd.push(g)}}};
(function(){function a(){}function c(){}function b(){}var d=G.prototype;a.prototype.gs=function(){return!0};a.prototype.Io=function(){return!0};a.prototype.zs=function(){return!0};a.prototype.es=function(a){var b=this.j.Om(),c=b.ca.Every_lastTime||0,d=this.j.nh.Ab;"undefined"===typeof b.ca.Every_seconds&&(b.ca.Every_seconds=a);var e=b.ca.Every_seconds;if(d>=c+e)return b.ca.Every_lastTime=c+e,d>=b.ca.Every_lastTime+.04&&(b.ca.Every_lastTime=d),b.ca.Every_seconds=a,!0;d<c-.1&&(b.ca.Every_lastTime=d);
return!1};a.prototype.as=function(a,b,c){return Gc(a.fh(),b,c)};a.prototype.ks=function(a){return(a=this.j.dj[a.toLowerCase()])&&a.$h};a.prototype.ds=function(){var a=this.j.Ac();return a.Cm?!1:!a.ph};a.prototype.Jo=function(){return!0};a.prototype.ts=function(){return!0};a.prototype.Yl=function(){return!0};a.prototype.As=function(){return!0};a.prototype.Xl=function(){return!0};a.prototype.Wr=function(a,b,c){return cb(Ja(a),Ja(c))<=Ja(b)};a.prototype.js=function(a,b){return eb(Ja(a),Ja(b))};a.prototype.hs=
function(a,b,c){a=Va(a);b=Va(b);c=Va(c);return eb(c,b)?eb(a,b)&&!eb(a,c):!(!eb(a,b)&&eb(a,c))};d.aa=new a;c.prototype.bs=function(a,b,c,d){if(b&&a&&(b=this.j.vm(a,b,c,d))){this.j.Nd++;var e;this.j.trigger(Object.getPrototypeOf(a.kb).aa.Gi,b);if(b.Zc)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.j.trigger(Object.getPrototypeOf(e.type.kb).aa.Gi,e);this.j.Nd--;a=a.Na();a.bb=!1;a.D.length=1;a.D[0]=b;if(b.Zc)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Na(),a.bb=!1,a.D.length=
1,a.D[0]=e}};c.prototype.Ks=function(a,b){0===a.Sj?ia(b)?a.Pf(b):a.Pf(parseFloat(b)):1===a.Sj&&a.Pf(b.toString())};c.prototype.Vr=function(a,b){0===a.Sj?ia(b)?a.Pf(a.fh()+b):a.Pf(a.fh()+parseFloat(b)):1===a.Sj&&a.Pf(a.fh()+b.toString())};c.prototype.Ns=function(a,b){0===a.Sj&&(ia(b)?a.Pf(a.fh()-b):a.Pf(a.fh()-parseFloat(b)))};var e=[],h=[];d.$a=new c;b.prototype["int"]=function(a,b){ja(b)?(a.gb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.gb(b)};b.prototype["float"]=function(a,b){ja(b)?(a.Da(parseFloat(b)),
isNaN(a.data)&&(a.data=0)):a.Da(b)};b.prototype.random=function(a,b,c){void 0===c?a.Da(Math.random()*b):a.Da(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.Da(Math.sqrt(b))};b.prototype.abs=function(a,b){a.Da(Math.abs(b))};b.prototype.round=function(a,b){a.gb(Math.round(b))};b.prototype.floor=function(a,b){a.gb(Math.floor(b))};b.prototype.ceil=function(a,b){a.gb(Math.ceil(b))};b.prototype.sin=function(a,b){a.Da(Math.sin(Ja(b)))};b.prototype.cos=function(a,b){a.Da(Math.cos(Ja(b)))};b.prototype.tan=
function(a,b){a.Da(Math.tan(Ja(b)))};b.prototype.asin=function(a,b){a.Da(Ka(Math.asin(b)))};b.prototype.acos=function(a,b){a.Da(Ka(Math.acos(b)))};b.prototype.atan=function(a,b){a.Da(Ka(Math.atan(b)))};b.prototype.exp=function(a,b){a.Da(Math.exp(b))};b.prototype.log10=function(a,b){a.Da(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.Da(b)};b.prototype.min=
function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.Da(b)};b.prototype.ra=function(a){a.Da(this.j.ra)};b.prototype.Ih=function(a){a.Da(this.j.Ih)};b.prototype.time=function(a){a.Da(this.j.nh.Ab)};b.prototype.Vd=function(a){a.gb(this.j.Vd)};b.prototype.ml=function(a){a.gb(this.j.ml)};b.prototype.Jm=function(a){a.gb(this.j.Jm)};b.prototype.P=function(a,b,c,d,e){a.Da(Ka(Wa(b,c,d,e)))};b.prototype.left=
function(a,b,c){a.td(ja(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.td(ja(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){ja(b)&&ja(c)&&ja(d)?a.td(b.replace(new RegExp(Ab(c),"gi"),d)):a.td(ja(b)?b:"")};b.prototype.trim=function(a,b){a.td(ja(b)?b.trim():"")};b.prototype.gt=function(a){var b=sa(Math.random()*(arguments.length-1));a.vw(arguments[b+1])};b.prototype.rm=function(a){a.Da(this.j.rm/1E3)};b.prototype.hl=function(a){a.Da(this.j.hl)};d.ec=new b;d.mw=function(){var a,
b,c,d,k,m,p=this.j.Ac();a=0;for(c=this.zd.length;a<c;a++){d=this.zd[a];if(-1===d.time){if(!d.gr)continue}else if(d.time>this.j.nh.Ab)continue;p.Fd=d.Ti;p.Dd=d.Dd;p.Tb=0;for(b in d.ud)d.ud.hasOwnProperty(b)&&(k=this.j.ba[parseInt(b,10)].Na(),m=d.ud[b],k.bb=m.Vq,Ea(k.D,m.jh),k=m,k.jh.length=0,h.push(k));d.Ti.kw();this.j.qm(d.sb);d.hp=!0}b=a=0;for(c=this.zd.length;a<c;a++)d=this.zd[a],this.zd[b]=d,d.hp?(kb(d.ud),d.sb.length=0,e.push(d)):b++;this.zd.length=b}})();
(function(){Kb=function(a,b){var d=a[1],e=a[3],h=a[4],f=a[5],g=a[6],l=a[7],n=a[8];b.aa||(b.aa={});b.$a||(b.$a={});b.ec||(b.ec={});var k=b.aa,m=b.$a,p=b.ec;e&&(k.Sw=function(a,b){return Gc(this.x,a,b)},k.Tw=function(a,b){return Gc(this.y,a,b)},k.Zw=function(){var a=this.Q;this.Qa();var b=this.pb;return!(b.right<a.nb||b.bottom<a.ob||b.left>a.Cb||b.top>a.Bb)},k.ls=function(){this.Qa();var a=this.pb,b=this.j.eb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.ox=function(a,b,c){var d=this.Na(),
e=d.Id();if(!e.length)return!1;var f=e[0],g=f,h=fb(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=fb(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.Bj(g);return!0},m.Hx=function(a){this.x!==a&&(this.x=a,this.la())},m.Ix=function(a){this.y!==a&&(this.y=a,this.la())},m.Ex=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.la()},m.Fx=function(a,b){var c=a.Nu(this);if(c){var d;c.he?(d=c.he(b,!0),c=c.he(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.la()}},
m.gx=function(a){0!==a&&(this.x+=Math.cos(this.P)*a,this.y+=Math.sin(this.P)*a,this.la())},m.cx=function(a,b){0!==b&&(this.x+=Math.cos(Ja(a))*b,this.y+=Math.sin(Ja(a))*b,this.la())},p.Rs=function(a){a.Da(this.x)},p.Ss=function(a){a.Da(this.y)},p.ra=function(a){a.Da(this.j.Zh(this))});h&&(k.Rw=function(a,b){return Gc(this.width,a,b)},k.Pw=function(a,b){return Gc(this.height,a,b)},m.Lo=function(a){this.width!==a&&(this.width=a,this.la())},m.Cx=function(a){this.height!==a&&(this.height=a,this.la())},
m.Gx=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.la()},p.Lx=function(a){a.Da(this.width)},p.Vw=function(a){a.Da(this.height)},p.Lw=function(a){this.Qa();a.Da(this.pb.left)},p.Nw=function(a){this.Qa();a.Da(this.pb.top)},p.Mw=function(a){this.Qa();a.Da(this.pb.right)},p.Kw=function(a){this.Qa();a.Da(this.pb.bottom)});f&&(k.Wr=function(a,b){return cb(this.P,Ja(b))<=Ja(a)},k.js=function(a){return eb(this.P,Ja(a))},k.hs=function(a,b){var c=Va(a),d=Va(b),e=Oa(this.P);
return eb(d,c)?eb(e,c)&&!eb(e,d):!(!eb(e,c)&&eb(e,d))},m.$l=function(a){a=Ja(La(a));isNaN(a)||this.P===a||(this.P=a,this.la())},m.ux=function(a){0===a||isNaN(a)||(this.P+=Ja(a),this.P=Oa(this.P),this.la())},m.wx=function(a){0===a||isNaN(a)||(this.P-=Ja(a),this.P=Oa(this.P),this.la())},m.xx=function(a,b){var c=db(this.P,Ja(b),Ja(a));isNaN(c)||this.P===c||(this.P=c,this.la())},m.yx=function(a,b,c){a=db(this.P,Math.atan2(c-this.y,b-this.x),Ja(a));isNaN(a)||this.P===a||(this.P=a,this.la())},m.Js=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.P===c||(this.P=c,this.la())},p.Jw=function(a){a.Da(Ta(this.P))});d||(k.$r=function(a,b,c){return Gc(this.Vb[a],b,c)},k.Xw=function(a){return this.Vb[a]},k.qx=function(a,b){var c=this.Na(),d=c.Id();if(!d.length)return!1;var e=d[0],f=e,g=e.Vb[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.Vb[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.Bj(f);return!0},k.nx=function(a){var b,c,d,e,f;if(this.j.Om().$m){f=this.Na();if(f.bb)for(f.bb=!1,f.D.length=0,f.Ma.length=
0,d=this.D,b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Ma.push(e):f.D.push(e);else{d=b=0;for(c=f.D.length;b<c;b++)e=f.D[b],f.D[d]=e,e.uid===a?f.Ma.push(e):d++;f.D.length=d}this.Te();return!!f.D.length}e=this.j.$i(a);if(!e)return!1;f=this.Na();if(!f.bb&&-1===f.D.indexOf(e))return!1;if(this.ja)for(a=e.type.qb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Bj(e),this.Te(),!0}else if(e.type===this)return f.Bj(e),this.Te(),!0;return!1},k.Gi=function(){return!0},k.Ho=function(){return!0},m.Hs=function(a,
b){var c=this.Vb;ia(c[a])?c[a]=ia(b)?b:parseFloat(b):ja(c[a])&&(c[a]=ja(b)?b:b.toString())},m.Iw=function(a,b){var c=this.Vb;ia(c[a])?c[a]=ia(b)?c[a]+b:c[a]+parseFloat(b):ja(c[a])&&(c[a]=ja(b)?c[a]+b:c[a]+b.toString())},m.Ms=function(a,b){var c=this.Vb;ia(c[a])&&(c[a]=ia(b)?c[a]-b:c[a]-parseFloat(b))},m.zx=function(a,b){this.Vb[a]=b?1:0},m.Jx=function(a){this.Vb[a]=1-this.Vb[a]},m.Jc=function(){this.j.Yf(this)},m.ns||(m.ns=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.j.dl(this,b,!0);
this.pf&&this.pf();if(this.na)for(a=0,b=this.na.length;a<b;++a)c=this.na[a],c.pf&&c.pf()}),p.Uw=function(a){var b=a.Ah.D.length,c,d,e;c=0;for(d=this.j.Ae.length;c<d;c++)e=this.j.Ae[c],a.Ah.ja?0<=e.type.qb.indexOf(a.Ah)&&b++:e.type===a.Ah&&b++;a.gb(b)},p.tx=function(a){a.gb(a.Ah.Na().Id().length)},p.Kx=function(a){a.gb(this.uid)},p.Ww=function(a){a.gb(this.bj())},p.Xr||(p.Xr=function(a){a.td(JSON.stringify(this.j.bo(this,!0)))}));g&&(k.$w=function(){return this.visible},m.Ko=function(a){!a!==!this.visible&&
(this.visible=a,this.j.Ia=!0)},k.Qw=function(a,b){return Gc(Gb(100*this.opacity),a,b)},m.Dx=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.j.Ia=!0)},p.Opacity=function(a){a.Da(Gb(100*this.opacity))});l&&(k.Yw=function(a){return a?this.Q===a:!1},k.rx=function(a){var b=this.Na(),c=b.Id();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.Q.index>e.Q.index||d.Q.index===e.Q.index&&d.ie()>e.ie())e=d}else if(d.Q.index<e.Q.index||d.Q.index===
e.Q.index&&d.ie()<e.ie())e=d;b.Bj(e);return!0},m.jx=function(){var a=this.Q,b=a.D;b.length&&b[b.length-1]===this||(a.oi(this,!1),a.Ki(this,!1),this.j.Ia=!0)},m.hx=function(){var a=this.Q,b=a.D;b.length&&b[0]===this||(a.oi(this,!1),a.$v(this),this.j.Ia=!0)},m.ix=function(a){a&&a!=this.Q&&(this.Q.oi(this,!0),this.Q=a,a.Ki(this,!0),this.j.Ia=!0)},m.Nx=function(a,b){var c=0===a;if(b){var d=b.Gu(this);d&&d.uid!==this.uid&&(this.Q.index!==d.Q.index&&(this.Q.oi(this,!0),this.Q=d.Q,d.Q.Ki(this,!0)),this.Q.Gv(this,
d,c),this.j.Ia=!0)}},p.bx=function(a){a.gb(this.Q.wq)},p.ax=function(a){a.td(this.Q.name)},p.Mx=function(a){a.gb(this.ie())});n&&(m.Ax=function(a,b){if(this.j.Z){var c=this.type.Qm(b);if(!(0>c)){var d=1===a;this.bg[c]!==d&&(this.bg[c]=d,this.Uf(),this.j.Ia=!0)}}},m.Bx=function(a,b,c){if(this.j.Z){var d=this.type.Qm(a);0>d||(a=this.type.oa[d],d=this.tb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.j.Z.Qu(a.sc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Rc&&(this.j.Ia=!0))))}})};cc=function(){this.lm=this.gm=
!0;this.type.dk=!0;this.j.Ia=!0;var a,b,d=this.hm;a=0;for(b=d.length;a<b;++a)d[a](this);this.Q.Ke&&this.Qa()};dc=function(a){a&&this.hm.push(a)};oc=function(){if(this.gm){var a=this.pb,b=this.ab;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Xc*this.width,-this.Yc*this.height);this.P?(a.offset(-this.x,-this.y),b.cr(a,this.P),b.offset(this.x,this.y),b.Wo(a)):b.Jj(a);a.normalize();this.gm=!1;this.Fw()}};var a=new xa(0,0,0,0);pc=function(){if(this.Q.Ke){var c=this.Q.sd,b=this.pb;
a.set(c.Bd(b.left),c.Cd(b.top),c.Bd(b.right),c.Cd(b.bottom));this.cd.Ak(a)||(this.cd.right<this.cd.left?c.update(this,null,a):c.update(this,this.cd,a),this.cd.sk(a),this.Q.Of=!0)}};qc=function(){if(this.lm&&this.rf){this.Qa();var c=this.type.pk,b=this.pb;a.set(c.Bd(b.left),c.Cd(b.top),c.Bd(b.right),c.Cd(b.bottom));this.ig.Ak(a)||(this.ig.right<this.ig.left?c.update(this,null,a):c.update(this,this.ig,a),this.ig.sk(a),this.lm=!1)}};gc=function(a,b){return this.pb.Wc(a,b)&&this.ab.Wc(a,b)?this.Aa&&!this.Aa.mh()?
(this.Aa.gg(this.width,this.height,this.P),this.Aa.Wc(a-this.x,b-this.y)):!0:!1};Zb=function(){this.type.Ql();return this.hh};rc=function(){this.Q.Ao();return this.Le};sc=function(){this.Ra.length=0;var a,b;a=0;for(b=this.bg.length;a<b;a++)this.bg[a]&&this.Ra.push(this.type.oa[a]);this.Pr=!!this.Ra.length};$b=function(){return"Inst"+this.Pq};Nb=function(a){if(a&&a.Zc&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.Na().Id();return a.length?
a[0]:null};Ob=function(a){var b=this.Na().Id();return b.length?b[a.bj()%b.length]:null};Mb=function(){if(this.vi&&!this.ja){var a,b;a=0;for(b=this.D.length;a<b;a++)this.D[a].hh=a;var d=a,e=this.j.Ae;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].hh=d++);this.vi=!1}};Xb=function(a){if(a<this.D.length)return this.D[a];a-=this.D.length;var b=this.j.Ae,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};Pb=function(){return this.Mg[this.tf]};Qb=function(){this.tf++;
this.tf===this.Mg.length?this.Mg.push(new Lb(this)):this.Mg[this.tf].bb=!0};Rb=function(){this.tf++;this.tf===this.Mg.length&&this.Mg.push(new Lb(this));var a=this.Mg[this.tf],b=this.Mg[this.tf-1];b.bb?a.bb=!0:(a.bb=!1,Ea(a.D,b.D),Ea(a.Ma,b.Ma))};Sb=function(){this.tf--};Tb=function(a){var b,d,e,h,f,g=0;if(!this.ja)for(b=0,d=this.qb.length;b<d;b++)for(f=this.qb[b],e=0,h=f.Ib.length;e<h;e++){if(a===f.Ib[e].name)return this.ca.lastBehIndex=g,f.Ib[e];g++}b=0;for(d=this.Ib.length;b<d;b++){if(a===this.Ib[b].name)return this.ca.lastBehIndex=
g,this.Ib[b];g++}return null};Ub=function(a){return this.Jk(a)?this.ca.lastBehIndex:-1};Vb=function(a){var b,d;b=0;for(d=this.oa.length;b<d;b++)if(this.oa[b].name===a)return b;return-1};Wb=function(){if(this.Zc&&!this.ja){var a,b,d,e,h,f,g;this.Ql();f=this.Na();var l=f.bb,n=(a=this.j.Ac())&&a.Fd&&a.Fd.Ee;a=0;for(b=this.jd.length;a<b;a++)if(h=this.jd[a],h!==this&&(h.Ql(),g=h.Na(),g.bb=l,!l)){g.D.length=f.D.length;d=0;for(e=f.D.length;d<e;d++)g.D[d]=h.wp(f.D[d].hh);if(n)for(g.Ma.length=f.Ma.length,
d=0,e=f.Ma.length;d<e;d++)g.Ma[d]=h.wp(f.Ma[d].hh)}}};Yb=function(){return"Type"+this.Fa};Gc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var Zc={};function bd(a){this.j=a}
(function(){function a(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.appName="";this.Kf=[];this.Vp=null;k&&((new Windows.UI.Popups.MessageDialog("Note: IAP is in Test Mode, designed for testing purchases. Before publishing, be sure to set Test Mode to 'No' in the object's properties.")).showAsync(),Windows.ApplicationModel.Package.current.installedLocation.getFileAsync("WindowsStoreProxy.xml").done(function(a){Windows.ApplicationModel.Store.CurrentAppSimulator.reloadSimulatorAsync(a).done(function(){console.log("[Construct 2] Test mode; loaded WindowsStoreProxy.xml")},
function(a){console.log("[Construct 2] Error loading WindowsStoreProxy.xml: "+a)})},function(a){console.log("[Construct 2] Error loading WindowsStoreProxy.xml: "+a)}))}function c(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.Vp=[];this.mr="undefined"!==typeof CocoonJS.Store.nativeExtensionObjectAvailable&&CocoonJS.Store.canPurchase();var a=this;this.mr&&(CocoonJS.Store.onProductPurchaseCompleted.addEventListener(function(b){a.Dc&&a.Dc(b.productId);CocoonJS.Store.addPurchase(b);
CocoonJS.Store.consumePurchase(b.transactionId,b.productId);CocoonJS.Store.finishPurchase(b.transactionId)}),CocoonJS.Store.onProductPurchaseFailed.addEventListener(function(b,c){a.Cc&&a.Cc(b,c)}),CocoonJS.Store.onConsumePurchaseCompleted.addEventListener(function(b){a.df&&a.df(b)}),CocoonJS.Store.onConsumePurchaseFailed.addEventListener(function(b,c){a.cf&&a.cf(b,c)}),CocoonJS.Store.onProductsFetchFailed.addEventListener(function(){a.Qd&&a.Qd()}),CocoonJS.Store.onProductsFetchCompleted.addEventListener(function(b){a.Vp=
b;a.Ec&&a.Ec()}),CocoonJS.Store.requestInitialization({managed:!0,sandbox:k}),CocoonJS.Store.start())}function b(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.lp=[];this.Lf={};this.md()&&(blackberry.payment.developmentMode=k)}function d(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.pc=[];this.Lf={};var a=this;this.md()&&(k&&amzn_wa.enableApiTester(amzn_wa_tester),amzn_wa.IAP.registerObserver({onSdkAvailable:function(a){a.isSandboxMode&&alert("Note: running in test mode. Be sure to set 'Test mode' to 'No' before publishing.");
amzn_wa.IAP.getPurchaseUpdates(amzn_wa.IAP.Offset.BEGINNING)},onItemDataResponse:function(b){var c,d,e;c=0;for(d=b.itemData.length;c<d;++c)e=b.itemData[c],a.Lf[e.sku]={title:e.title,description:e.description,bw:e.price};a.Ec&&a.Ec()},onPurchaseResponse:function(b){var c=b.receipt?b.receipt.sku:"";b.purchaseRequestStatus==amzn_wa.IAP.PurchaseStatus.SUCCESSFUL?(-1===a.pc.indexOf(c)&&a.pc.push(c),a.Dc&&a.Dc(c)):a.Cc&&a.Cc(c,"purchase was not successful")},onPurchaseUpdatesResponse:function(b){var c,
d,e;c=0;for(d=b.receipts.length;c<d;++c)e=b.receipts[c],e.sku&&-1===a.pc.indexOf(e.sku)&&a.pc.push(e.sku)}}),this.Sd())}function e(a){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.pc=[];this.Lf={};this.Hv=1;this.Bp=a;var b=this;this.md()&&(window.tizen_iap.RegisterCallback({OnItemInformationListReceived:function(a,c,d){if(0==parseInt(c,10)){a=parseInt(d._startNumber);for(c=parseInt(d._endNumber)+1;a<c;++a)b.Lf[d[a+"_itemId"]+""]={title:d[a+"_itemName"]+"",Bp:d[a+"_itemGroupId"]+
"",bw:d[a+"_itemPrice"]+"",description:d[a+"_itemDescription"]+""};b.Ec&&b.Ec()}else b.Qd&&b.Qd()},OnPurchasedItemInformationListReceived:function(a,c,d){if(0==parseInt(c,10))for(a=parseInt(d._startNumber),c=parseInt(d._endNumber)+1;a<c;++a){var e=d[a+"_itemId"]+"";-1===b.pc.indexOf(e)&&b.pc.push(e)}},OnPurchaseItemInitialized:function(){return!0},OnPurchaseItemFinished:function(a,c,d){a=d._itemId;0==parseInt(c,10)?(-1===b.pc.indexOf(a)&&b.pc.push(a),b.Dc&&b.Dc(a)):b.Cc&&b.Cc(a,"purchase failed")},
OnCountryListReceived:function(){}}),this.Sd())}function h(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.Lf={};this.pc={};this.yf=new Ejecta.IAPManager;this.Sd()}function f(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.Lf={};this.pc={};this.Sd()}function g(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=null;this.Kf=[];this.Lf={};this.pc={};this.yf=window.storekit;this.loaded=!1;this.yv="";var a=this;this.yf.init({debug:k,ready:function(){window.setTimeout(function(){a.yf.load(a.Kf,
function(b){a.loaded=!0;for(var c=0;c<b.length;++c)a.Lf[b[c].id]=b[c];a.Ec&&a.Ec();a.yf.restore()})},100)},error:function(b,c){k&&alert("IAP error (only reported in test mode): "+c+" (code: "+b+")");a.Cc&&a.Cc(a.yv,c)},purchase:function(b,c){a.pc[c]=!0;a.Dc&&a.Dc(c)},restore:function(b,c){a.pc[c]=!0},restoreCompleted:function(){},restoreFailed:function(a){k&&alert("IAP error (only reported in test mode): restore failed with code "+a)}})}function l(){this.Qd=this.Ec=this.cf=this.df=this.Cc=this.Dc=
null;this.Kf=[];this.Lf={};this.pc={};this.yf=window.inappbilling;this.yf.init(function(){window.setTimeout(function(){(void 0).Sd()},100)},function(a){da("[C2] Error initialising Android IAP: "+a)},{showLog:k})}function n(){}var k=!1;a.prototype.md=function(){return!0};a.prototype.Sd=function(){};c.prototype.md=function(){return this.mr};c.prototype.Sd=function(){if(this.md())return CocoonJS.Store.restorePurchases()};b.prototype.md=function(){return"undefined"!==typeof blackberry};b.prototype.Sd=
function(){this.md()&&blackberry.payment.getExistingPurchases(!0,function(a){var b,c,d;b=0;for(c=a.length;b<c;++b)d=a[b].digitalGoodID,-1===self.lp.indexOf(d)&&self.lp.push(d)},function(){})};d.prototype.md=function(){return"undefined"!==typeof amzn_wa&&amzn_wa.IAP};d.prototype.Sd=function(){this.md()&&amzn_wa.IAP.getPurchaseUpdates(amzn_wa.IAP.Offset.BEGINNING)};e.prototype.md=function(){return"undefined"!==typeof window.tizen_iap};e.prototype.Sd=function(){var a={};a._transactionId=this.Hv++;a._startNumber=
1;a._endNumber=100;a._itemGroupId=this.Bp;k?(a._mode=1,a._mcc="",a._mnc=""):a._mode=0;a._deviceModel="tizen";window.tizen_iap.RequestPurchasedItemInformationList(a)};h.prototype.md=function(){return!0};h.prototype.Sd=function(){var a=this;this.yf.restoreTransactions(function(b,c){if(!b){var d,e,f;d=0;for(e=c.length;d<e;++d)f=c[d],a.pc[f.productId]=!0}})};f.prototype.md=function(){return!0};f.prototype.Sd=function(){var a=this;google.payments.inapp.getPurchases({parameters:{env:"prod"},success:function(b){b=
b.response.details;var c,d,e;c=0;for(d=b.length;c<d;++c)e=b[c],"ACTIVE"===e.state&&(a.pc[e.sku]=!0)},failure:function(a){console.log("Failed to restore purchases",a)}})};g.prototype.md=function(){return!0};g.prototype.Sd=function(){this.loaded&&this.yf.restore()};l.prototype.md=function(){return!0};l.prototype.Sd=function(){var a=this;this.yf.getPurchases(function(b){var c,d,e;c=0;for(d=b.length;c<d;++c)e=b[c],a.pc[e.productId]=!0},function(a){da("[C2] Android IAP restore purchases error: "+a)})};
var m=bd.prototype;m.ib=function(a){this.kb=a;this.j=a.j};m.ib.prototype.Ea=function(){};m.Ya=function(a){this.type=a;this.j=a.j};var p=m.Ya.prototype;p.Ea=function(){this.vd=null;k=0!==this.da[0];this.Cw=this.da[1];this.kp=this.sl="";this.j.hn&&!this.j.Pp?this.vd=new a:this.j.Md?this.vd=new c:this.j.Np?this.vd=new b:this.j.an?this.vd=new d:this.j.gn?this.vd=new e(this.Cw):this.j.je?this.vd=new h:this.j.qg?this.j.ln&&window.storekit?this.vd=new g:this.j.bn&&window.inappbilling&&(this.vd=new l):window.chrome&&
window.chrome.app&&window.chrome.app.isInstalled&&(this.vd=new f);var m=this;this.vd&&(this.vd.Dc=function(a){m.sl=a;m.kp="";m.j.trigger(bd.prototype.aa.Cs,m);m.j.trigger(bd.prototype.aa.ss,m)},this.vd.Cc=function(a,b){m.sl=a;m.kp=b;m.j.trigger(bd.prototype.aa.Bs,m);m.j.trigger(bd.prototype.aa.rs,m)},this.vd.Ec=function(){m.j.trigger(bd.prototype.aa.Es,m)},this.vd.Qd=function(){m.j.trigger(bd.prototype.aa.Ds,m)})};p.Dg=function(){};p.rc=function(){return{}};p.Mc=function(){};n.prototype.Cs=function(a){return a===
this.sl};n.prototype.ss=function(){return!0};n.prototype.Bs=function(a){return a===this.sl};n.prototype.rs=function(){return!0};n.prototype.Es=function(){return!0};n.prototype.Ds=function(){return!0};m.aa=new n;m.$a=new function(){};m.ec=new function(){}})();function ad(a){this.j=a}
(function(){function a(){if(0===this.zm.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.ti?b.drawImage(this.qa,this.mi,this.ni,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.qa,0,0,this.width,this.height);this.zm=a.toDataURL("image/png")}return this.zm}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=p.length?p.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function h(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function g(){}var l=ad.prototype;l.ib=function(a){this.kb=a;this.j=a.j};var n=l.ib.prototype;n.Ea=function(){if(!this.ja){var b,c,d,e,f,g,h,k,l;this.xe=[];this.ej=!1;b=0;for(c=this.Sc.length;b<c;b++){f=this.Sc[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Xn=f[3];
h.zl=f[4];h.Hq=f[5];h.Fa=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.Hl=g[0],k.Il=g[1],k.mi=g[2],k.ni=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Xc=g[7],k.Yc=g[8],k.Um=g[9],k.pl=g[10],k.Iq=g[11],k.ti=0!==k.width,k.zm="",k.Px=a,l={left:0,top:0,right:1,bottom:1},k.io=l,k.hb=null,(l=this.j.xu(g[0]))?k.qa=l:(k.qa=new Image,k.qa.jt=g[0],k.qa.tm=g[1],k.qa.ct=null,this.j.Co(k.qa,g[0])),h.frames.push(k),this.xe.push(k);this.Sc[b]=h}}};n.Nr=function(){var a,b,c;a=0;for(b=this.D.length;a<
b;a++)c=this.D[a],c.vk=c.be.hb};n.Aj=function(){if(!this.ja){var a,b,c;a=0;for(b=this.xe.length;a<b;++a)c=this.xe[a],c.qa.ct=null,c.hb=null;this.ej=!1;this.Nr()}};n.ol=function(){if(!this.ja&&this.D.length){var a,b,c;a=0;for(b=this.xe.length;a<b;++a)c=this.xe[a],c.hb=this.j.Z.fl(c.qa,!1,this.j.Oa,c.Iq);this.Nr()}};n.gl=function(){if(!this.ja&&!this.ej&&this.j.Z){var a,b,c;a=0;for(b=this.xe.length;a<b;++a)c=this.xe[a],c.hb=this.j.Z.fl(c.qa,!1,this.j.Oa,c.Iq);this.ej=!0}};n.Pl=function(){if(!this.ja&&
!this.D.length&&this.ej){var a,b,c;a=0;for(b=this.xe.length;a<b;++a)c=this.xe[a],this.j.Z.deleteTexture(c.hb),c.hb=null;this.ej=!1}};var k=[];n.rl=function(a){var b,c,d;b=k.length=0;for(c=this.xe.length;b<c;++b)d=this.xe[b].qa,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};l.Ya=function(a){this.type=a;this.j=a.j;a=this.type.Sc[0].frames[0].pl;this.bd?this.Aa.Kj(a):this.Aa=new Bb(a)};var m=l.Ya.prototype;m.Ea=function(){this.visible=0===this.da[0];this.rf=0!==this.da[3];1===this.type.Sc.length&&
1===this.type.Sc[0].frames.length||0===this.type.Sc[0].speed||this.j.xr(this);this.fb=this.sp(this.da[1])||this.type.Sc[0];this.ea=this.da[2];0>this.ea&&(this.ea=0);this.ea>=this.fb.frames.length&&(this.ea=this.fb.frames.length-1);var a=this.fb.frames[this.ea];this.Aa.Kj(a.pl);this.Xc=a.Xc;this.Yc=a.Yc;this.Ri=this.fb.speed;this.bd?this.Se.reset():this.Se=new tb;this.xf=this.Se.Ab;this.Vg=!0;this.qf=0;this.Ug=!0;this.nm=this.Qo="";this.et=0;this.mm=-1;this.type.gl();var b,c,d,e,f,g,h,a=0;for(b=this.type.Sc.length;a<
b;a++)for(e=this.type.Sc[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.qa.width,f.height=f.qa.height),f.ti&&(h=f.qa,g=f.io,g.left=f.mi/h.width,g.top=f.ni/h.height,g.right=(f.mi+f.width)/h.width,g.bottom=(f.ni+f.height)/h.height,0===f.mi&&0===f.ni&&f.width===h.width&&f.height===h.height&&(f.ti=!1));this.be=this.fb.frames[this.ea];this.vk=this.be.hb};m.rc=function(){var a={a:this.fb.Fa,f:this.ea,cas:this.Ri,fs:this.xf,ar:this.qf,at:this.Se.Ab};this.Vg||(a.ap=this.Vg);this.Ug||
(a.af=this.Ug);return a};m.Mc=function(a){var b=this.Cu(a.a);b&&(this.fb=b);this.ea=a.f;0>this.ea&&(this.ea=0);this.ea>=this.fb.frames.length&&(this.ea=this.fb.frames.length-1);this.Ri=a.cas;this.xf=a.fs;this.qf=a.ar;this.Se.reset();this.Se.Ab=a.at;this.Vg=a.hasOwnProperty("ap")?a.ap:!0;this.Ug=a.hasOwnProperty("af")?a.af:!0;this.be=this.fb.frames[this.ea];this.vk=this.be.hb;this.Aa.Kj(this.be.pl);this.Xc=this.be.Xc;this.Yc=this.be.Yc};m.em=function(a){this.ea=a?0:this.fb.frames.length-1;this.Vg=
!1;this.Qo=this.fb.name;this.j.trigger(ad.prototype.aa.qs,this);this.j.trigger(ad.prototype.aa.os,this);this.qf=0};m.i=function(){return this.Se.Ab};m.wd=function(){this.Se.add(this.j.Zh(this));this.nm.length&&this.tt();0<=this.mm&&this.ut();var a=this.Se.Ab,b=this.fb,c=b.frames[this.ea],d=c.duration/this.Ri;this.Vg&&a>=this.xf+d&&(this.Ug?this.ea++:this.ea--,this.xf+=d,this.ea>=b.frames.length&&(b.Hq?(this.Ug=!1,this.ea=b.frames.length-2):b.loop?this.ea=b.zl:(this.qf++,this.qf>=b.Xn?this.em(!1):
this.ea=b.zl)),0>this.ea&&(b.Hq?(this.ea=1,this.Ug=!0,b.loop||(this.qf++,this.qf>=b.Xn&&this.em(!0))):b.loop?this.ea=b.zl:(this.qf++,this.qf>=b.Xn?this.em(!0):this.ea=b.zl)),0>this.ea?this.ea=0:this.ea>=b.frames.length&&(this.ea=b.frames.length-1),a>this.xf+b.frames[this.ea].duration/this.Ri&&(this.xf=a),a=b.frames[this.ea],this.Ph(c,a),this.j.Ia=!0)};m.sp=function(a){var b,c,d;b=0;for(c=this.type.Sc.length;b<c;b++)if(d=this.type.Sc[b],Hb(d.name,a))return d;return null};m.Cu=function(a){var b,c,d;
b=0;for(c=this.type.Sc.length;b<c;b++)if(d=this.type.Sc[b],d.Fa===a)return d;return null};m.tt=function(){var a=this.fb.frames[this.ea],b=this.sp(this.nm);this.nm="";!b||Hb(b.name,this.fb.name)&&this.Vg||(this.fb=b,this.Ri=b.speed,0>this.ea&&(this.ea=0),this.ea>=this.fb.frames.length&&(this.ea=this.fb.frames.length-1),1===this.et&&(this.ea=0),this.Vg=!0,this.xf=this.Se.Ab,this.Ug=!0,this.Ph(a,this.fb.frames[this.ea]),this.j.Ia=!0)};m.ut=function(){var a=this.fb.frames[this.ea],b=this.ea;this.ea=sa(this.mm);
0>this.ea&&(this.ea=0);this.ea>=this.fb.frames.length&&(this.ea=this.fb.frames.length-1);b!==this.ea&&(this.Ph(a,this.fb.frames[this.ea]),this.xf=this.Se.Ab,this.j.Ia=!0);this.mm=-1};m.Ph=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Xc=b.Xc;this.Yc=b.Yc;this.Aa.Kj(b.pl);this.la();this.be=b;this.vk=b.hb;c=0;for(d=this.na.length;c<d;c++)e=this.na[c],e.Rv&&e.Rv(a,b);this.j.trigger(ad.prototype.aa.Ph,this)};m.Be=function(a){a.globalAlpha=
this.opacity;var b=this.be,c=b.ti,d=b.qa,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.P&&0<=g&&0<=h)e-=this.Xc*g,f-=this.Yc*h,this.j.pe&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.mi,b.ni,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.j.pe&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,f);1===k&&1===l||a.scale(k,l);a.rotate(this.P*k*l);e=0-this.Xc*ma(g);f=0-this.Yc*ma(h);c?a.drawImage(d,b.mi,b.ni,b.width,b.height,e,f,ma(g),ma(h)):
a.drawImage(d,e,f,ma(g),ma(h));a.restore()}};m.Gd=function(a){a.dd(this.vk);a.Kg(this.opacity);var b=this.be,c=this.ab;if(this.j.pe){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.ti?a.Ge(c.Xb+d,c.Yb+e,c.Hc+d,c.Ic+e,c.xc+d,c.yc+e,c.vc+d,c.wc+e,b.io):a.xl(c.Xb+d,c.Yb+e,c.Hc+d,c.Ic+e,c.xc+d,c.yc+e,c.vc+d,c.wc+e)}else b.ti?a.Ge(c.Xb,c.Yb,c.Hc,c.Ic,c.xc,c.yc,c.vc,c.wc,b.io):a.xl(c.Xb,c.Yb,c.Hc,c.Ic,c.xc,c.yc,c.vc,c.wc)};m.Iu=function(a){var b=this.be,c,d;c=0;for(d=b.Um.length;c<d;c++)if(Hb(a,
b.Um[c][0]))return c;return-1};m.he=function(a,b){var c=this.be,d=c.Um,e;ja(a)?e=this.Iu(a):e=a-1;e=sa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Xc)*this.width,d=d[e][2],d=(d-c.Yc)*this.height,c=Math.cos(this.P);e=Math.sin(this.P);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var p=[],r=-2,u=[];c.prototype.us=function(a){if(!a)return!1;var c=this.j,d=c.Om(),g=d.type,k=null;d.ca.collmemory?k=d.ca.collmemory:(k={},d.ca.collmemory=k,c.Oo(function(a){var c=d.ca.collmemory;
a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=g.Na(),m=a.Na(),l=l.Id(),n,w,p,t,V,O,Q,W=this.j.Vd,Y=W-1,P=c.Ac().Fd;for(w=0;w<l.length;w++){p=l[w];m.bb?(p.Qa(),this.j.tp(p.Q,a,p.pb,u),n=u):n=m.Id();for(t=0;t<n.length;t++)V=n[t],c.Fh(p,V)||c.ft(p,V)?(O=f(k,p,V),O=!O||r<Y,e(k,p,V,W),O&&(c.ul(P.sb),O=g.Na(),Q=a.Na(),O.bb=!1,Q.bb=!1,g===a?(O.D.length=2,O.D[0]=p,O.D[1]=V,g.Te()):(O.D.length=1,Q.D.length=1,O.D[0]=p,Q.D[0]=V,g.Te(),a.Te()),P.lw(),
c.Ch(P.sb))):h(k,p,V);u.length=0}return!1};var t=new ba,w=!1;new xa(0,0,0,0);n.finish=function(a){if(w){if(a){var b=this.j.Ac().Fd.Ee;a=null.Na();var c=t.Xd(),d,e;if(a.bb){a.bb=!1;a.D.length=c.length;d=0;for(e=c.length;d<e;d++)a.D[d]=c[d];if(b)for(d=a.Ma.length=0,e=null.D.length;d<e;d++)c=null.D[d],t.contains(c)||a.Ma.push(c)}else if(b)for(b=a.D.length,a.D.length=b+c.length,d=0,e=c.length;d<e;d++)a.D[b+d]=c[d],Ia(a.Ma,c[d]);else Ea(a.D,c);null.Te()}t.clear();w=!1}};c.prototype.os=function(a){return Hb(this.Qo,
a)};c.prototype.qs=function(){return!0};c.prototype.Ph=function(){return!0};l.aa=new c;g.prototype.Ls=function(a,b,c){if(a&&b&&(b=this.j.vm(a,b,this.he(c,!0),this.he(c,!1)))){"undefined"!==typeof b.P&&(b.P=this.P,b.la());this.j.Nd++;var d,e,f;this.j.trigger(Object.getPrototypeOf(a.kb).aa.Gi,b);if(b.Zc)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.j.trigger(Object.getPrototypeOf(f.type.kb).aa.Gi,f);this.j.Nd--;d=this.j.Fu();c=!1;if(ha(d.ca.Spawn_LastExec)||d.ca.Spawn_LastExec<this.j.dh)c=
!0,d.ca.Spawn_LastExec=this.j.dh;if(a!=this.type&&(a=a.Na(),a.bb=!1,c?(a.D.length=1,a.D[0]=b):a.D.push(b),b.Zc))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Na(),a.bb=!1,c?(a.D.length=1,a.D[0]=f):a.D.push(f)}};l.$a=new g;l.ec=new function(){}})();function cd(a){this.j=a}
(function(){function a(){return f.length?f.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)f.push(a[b]);a.length=0}function b(){}var d=cd.prototype;d.Ea=function(){d.$a.Lo=function(a){this.width!==a&&(this.width=a,this.Hh=!0,this.la())}};d.ib=function(a){this.kb=a;this.j=a.j};var e=d.ib.prototype;e.Ea=function(){};e.Aj=function(){if(!this.ja){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.bf=null,c.zh=null,c.rd=null}};d.Ya=function(a){this.type=a;this.j=a.j;this.bd?this.wg.length=
0:this.wg=[];this.Hh=!0};e=d.Ya.prototype;e.Ea=function(){this.text=this.da[0];this.visible=0===this.da[1];this.font=this.da[2];this.color=this.da[3];this.Ok=this.da[4];this.Rl=this.da[5];this.Eo=0===this.da[7];this.vn=this.Ef=this.width;this.Df=this.height;this.xn=this.da[8];this.Gk=this.Wh="";this.sr=this.tr=this.Ej=0;this.Vv();this.rd=this.zh=this.bf=null;this.uq=!1;this.pj=this.j.Vd;this.bd?this.Fg.set(0,0,1,1):this.Fg=new xa(0,0,1,1);this.j.Z&&this.j.xr(this)};e.Vv=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Ej=parseInt(a[b].substr(0,a[b].length-2));this.Sn=Math.ceil(this.Ej/72*96)+4;0<b&&(this.Gk=a[b-1]);this.Wh=a[b+1];for(b+=2;b<a.length;b++)this.Wh+=" "+a[b];break}};e.rc=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Ok,va:this.Rl,wr:this.Eo,lho:this.xn,fn:this.Wh,fs:this.Gk,ps:this.Ej,pxh:this.Sn,tw:this.tr,th:this.sr,lrt:this.pj}};e.Mc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Ok=a.ha;this.Rl=
a.va;this.Eo=a.wr;this.xn=a.lho;this.Wh=a.fn;this.Gk=a.fs;this.Ej=a.ps;this.Sn=a.pxh;this.tr=a.tw;this.sr=a.th;this.pj=a.lrt;this.Hh=!0;this.vn=this.Ef=this.width;this.Df=this.height};e.wd=function(){if(this.j.Z&&this.rd&&300<=this.j.Vd-this.pj){var a=this.Q;this.Qa();var b=this.pb;if(b.right<a.nb||b.bottom<a.ob||b.left>a.Cb||b.top>a.Bb)this.j.Z.deleteTexture(this.rd),this.bf=this.zh=this.rd=null}};e.Dg=function(){this.bf=this.zh=null;this.j.Z&&this.rd&&this.j.Z.deleteTexture(this.rd);this.rd=null};
e.i=function(){this.font=this.Gk+" "+this.Ej.toString()+"pt "+this.Wh;this.Hh=!0;this.j.Ia=!0};e.Be=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.Q.Jd(),a.save(),a.scale(c,c));if(this.Hh||this.width!==this.vn)this.type.kb.Ps(this.text,this.wg,a,this.width,this.Eo),this.Hh=!1,this.vn=this.width;this.Qa();var c=b?0:this.ab.Xb,d=b?0:this.ab.Yb;this.j.pe&&(c=c+.5|0,d=d+.5|0);0===this.P||b||(a.save(),a.translate(c,d),a.rotate(this.P),
d=c=0);var e=d+this.height,f=this.Sn,f=f+this.xn,h,u;1===this.Rl?d+=Math.max(this.height/2-this.wg.length*f/2,0):2===this.Rl&&(d+=Math.max(this.height-this.wg.length*f-2,0));for(u=0;u<this.wg.length&&!(h=c,1===this.Ok?h=c+(this.width-this.wg[u].width)/2:2===this.Ok&&(h=c+(this.width-this.wg[u].width)),a.fillText(this.wg[u].text,h,d),d+=f,d>=e-f);u++);(0!==this.P||b)&&a.restore();this.pj=this.j.Vd};e.Gd=function(a){if(!(1>this.width||1>this.height)){var b=this.Hh||this.uq;this.uq=!1;var c=this.Q.Jd(),
d=this.Q.Hd(),e=this.Fg,f=c*this.width,h=c*this.height,u=Math.ceil(f),t=Math.ceil(h),w=this.j.Ca/2,q=this.j.Ba/2;this.zh||(this.bf=document.createElement("canvas"),this.bf.width=u,this.bf.height=t,this.Ef=u,this.Df=t,b=!0,this.zh=this.bf.getContext("2d"));if(u!==this.Ef||t!==this.Df)this.bf.width=u,this.bf.height=t,this.rd&&(a.deleteTexture(this.rd),this.rd=null),b=!0;b&&(this.zh.clearRect(0,0,u,t),this.Be(this.zh,!0),this.rd||(this.rd=a.Ye(u,t,this.j.Oa,this.j.kh)),a.Rr(this.bf,this.rd,this.j.kh));
this.Ef=u;this.Df=t;a.dd(this.rd);a.Kg(this.opacity);a.ff();a.translate(-w,-q);a.mf();var v=this.ab,b=this.Q.rb(v.Xb,v.Yb,!0,!0),w=this.Q.rb(v.Xb,v.Yb,!1,!0),q=this.Q.rb(v.Hc,v.Ic,!0,!0),x=this.Q.rb(v.Hc,v.Ic,!1,!0),D=this.Q.rb(v.xc,v.yc,!0,!0),B=this.Q.rb(v.xc,v.yc,!1,!0),C=this.Q.rb(v.vc,v.wc,!0,!0),v=this.Q.rb(v.vc,v.wc,!1,!0);if(this.j.pe||0===this.P&&0===d)var E=(b+.5|0)-b,z=(w+.5|0)-w,b=b+E,w=w+z,q=q+E,x=x+z,D=D+E,B=B+z,C=C+E,v=v+z;0===this.P&&0===d?(q=b+u,x=w,D=q,B=w+t,C=b,v=B,e.right=1,e.bottom=
1):(e.right=f/u,e.bottom=h/t);a.Ge(b,w,q,x,D,B,C,v,e);a.ff();a.scale(c,c);a.Zn(-this.Q.Hd());a.translate((this.Q.nb+this.Q.Cb)/-2,(this.Q.ob+this.Q.Bb)/-2);a.mf();this.pj=this.j.Vd}};var h=[];d.Os=function(a){h.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(h.push(b),b=""),h.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));h.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&h.push(b)};
var f=[];d.Ps=function(b,d,e,f,h){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var p=e.measureText(b).width;if(p<=f){c(d);d.push(a());d[0].text=b;d[0].width=p;return}}this.Qs(b,d,e,f,h)}else c(d)};d.Qs=function(b,c,d,e,m){m&&(this.Os(b),b=h);var p="",r,u,t,w=0;for(t=0;t<b.length;t++)"\n"===b[t]?(w>=c.length&&c.push(a()),u=c[w],u.text=p,u.width=d.measureText(p).width,w++,p=""):(r=p,p+=b[t],u=d.measureText(p).width,u>=e&&(w>=c.length&&c.push(a()),u=c[w],u.text=r,u.width=
d.measureText(r).width,w++,p=b[t],m||" "!==p||(p="")));p.length&&(w>=c.length&&c.push(a()),u=c[w],u.text=p,u.width=d.measureText(p).width,w++);for(t=w;t<c.length;t++)f.push(c[t]);c.length=w};d.aa=new function(){};b.prototype.Is=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Hh=!0,this.j.Ia=!0)};d.$a=new b;d.ec=new function(){}})();function dd(a){this.j=a}
(function(){var a=dd.prototype;a.ib=function(a){this.kb=a;this.j=a.j};var c=a.ib.prototype;c.Ea=function(){this.ja||(this.qa=new Image,this.qa.tm=this.Il,this.j.Co(this.qa,this.Hl),this.hb=this.pattern=null)};c.Aj=function(){this.ja||(this.hb=null)};c.ol=function(){if(!this.ja&&this.D.length){this.hb||(this.hb=this.j.Z.fl(this.qa,!0,this.j.Oa,this.lo));var a,c;a=0;for(c=this.D.length;a<c;a++)this.D[a].hb=this.hb}};c.gl=function(){this.ja||this.hb||!this.j.Z||(this.hb=this.j.Z.fl(this.qa,!0,this.j.Oa,
this.lo))};c.Pl=function(){this.ja||this.D.length||!this.hb||(this.j.Z.deleteTexture(this.hb),this.hb=null)};c.rl=function(a){a.drawImage(this.qa,0,0)};a.Ya=function(a){this.type=a;this.j=a.j};c=a.Ya.prototype;c.Ea=function(){this.visible=0===this.da[0];this.Fg=new xa(0,0,0,0);this.Fp=!1;this.qa=this.type.qa;this.j.Z?(this.type.gl(),this.hb=this.type.hb):(this.type.pattern||(this.type.pattern=this.j.Sa.createPattern(this.type.qa,"repeat")),this.pattern=this.type.pattern)};c.pf=function(){this.Fp=
!1;this.qa=this.type.qa};c.Dg=function(){this.j.Z&&this.Fp&&this.hb&&(this.j.Z.deleteTexture(this.hb),this.hb=null)};c.Be=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,e=this.y;this.j.pe&&(c=Math.round(c),e=Math.round(e));var h=-(this.Xc*this.width),f=-(this.Yc*this.height),g=h%this.qa.width,l=f%this.qa.height;0>g&&(g+=this.qa.width);0>l&&(l+=this.qa.height);a.translate(c,e);a.rotate(this.P);a.translate(g,l);a.fillRect(h-g,f-l,this.width,this.height);a.restore()};
c.Gd=function(a){a.dd(this.hb);a.Kg(this.opacity);var c=this.Fg;c.right=this.width/this.qa.width;c.bottom=this.height/this.qa.height;var e=this.ab;if(this.j.pe){var h=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.Ge(e.Xb+h,e.Yb+f,e.Hc+h,e.Ic+f,e.xc+h,e.yc+f,e.vc+h,e.wc+f,c)}else a.Ge(e.Xb,e.Yb,e.Hc,e.Ic,e.xc,e.yc,e.vc,e.wc,c)};a.aa=new function(){};a.$a=new function(){};a.ec=new function(){}})();function ed(a){this.j=a}
(function(){function a(){this.Ll=this.id=-1;this.So=this.Vh=this.Vj=this.fj=!1;this.Ta=new xa(0,0,0,0)}function c(a){1E4>p.length&&p.push(a)}function b(){this.id=-1;this.Ta=new xa(0,0,0,0);this.Pc=null}function d(a){1E4>r.length&&r.push(a)}function e(a,b,c){var d;return u.length?(d=u.pop(),d.C=a,d.x=b,d.y=c,d.left=d.x*d.C.lc*d.C.yd,d.top=d.y*d.C.kc*d.C.xd,d.clear(),d.Gj=!1,d):new h(a,b,c)}function h(a,b,c){this.C=a;this.x=b;this.y=c;this.left=this.x*this.C.lc*this.C.yd;this.top=this.y*this.C.kc*this.C.xd;
this.lf=[];this.qc=[];this.Kc=[];this.Gj=!1;var d,e;a=0;for(b=this.C.kc;a<b;++a){e=[];c=0;for(d=this.C.lc;c<d;++c)e.push(-1);this.lf.push(e)}}var f=ed.prototype;f.ib=function(a){this.kb=a;this.j=a.j};var g=f.ib.prototype;g.Ea=function(){var a,b,c;if(!this.ja&&(this.qa=new Image,this.qa.tm=this.Il,this.j.Co(this.qa,this.Hl),this.Xg=[],this.ym=!1,this.Je=[],this.yr=!1,this.Kl&&this.Kl.length))for(a=0,b=this.Kl.length;a<b;++a)(c=this.Kl[a])?this.Je.push({Pc:c,Fk:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.Je.push(null)};g.fg=function(a,b,c,d,e,f){if(!(0>a||a>=this.Je.length)&&this.Je[a]){var g=this.Je[a].Fk;a=new Bb(this.Je[a].Pc);a.gg(b,c,0);f&&a.pt();d&&a.Fv(b/2);e&&a.yu(c/2);g[d?1:0][e?1:0][f?1:0]=a}};g.Su=function(a){if(-1===a)return null;var b=a&m;return 0>b||b>=this.Je.length||!this.Je[b]?null:this.Je[b].Fk[a&l?1:0][a&n?1:0][a&k?1:0]};g.Km=function(){var a,b,c=this.j.Z;if(c)for(a=0,b=this.Xg.length;a<b;++a)c.deleteTexture(this.Xg[a]);this.Xg.length=0;this.ym=!1};g.Fn=function(a,
b,c,d,e,f,g){if(!(this.ym||0>=a||0>=b)){this.Km();var h=this.qa.width,k=this.qa.height,l;for(l=d;l+b<=k;l+=b+f)for(d=c;d+a<=h;d+=a+e)this.Xg.push(this.cs(d,l,a,b,g));this.ym=!0}};g.cs=function(a,b,c,d,e){if(this.j.Z)return this.Vl(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.Vl(a,b,c,d,!1,!1,!1,e);return{Fk:f,x:a,y:b,Qb:c,kv:d}};g.Go=function(a,b,c,d,e){if(0>a||a>=this.Xg.length)return null;a=this.Xg[a];var f=a.Fk;b=b?1:0;c=c?1:0;d=d?1:0;var g=f[b][c][d];
if(g)return g;g=this.Vl(a.x,a.y,a.Qb,a.kv,0!==b,0!==c,0!==d,e);return f[b][c][d]=g};g.Vl=function(a,b,c,d,e,f,g,h){var k=c,l=d;this.j.Z&&!h&&(ka(k)||(k=la(k)),ka(l)||(l=la(l)));var m=document.createElement("canvas");m.width=k;m.height=l;var n=m.getContext("2d");if(this.j.Sa)return e?f?(g?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-k,-l)):g?(n.rotate(Math.PI/2),n.translate(0,-l)):(n.scale(-1,1),n.translate(-k,0)):f?g?(n.rotate(-Math.PI/2),n.translate(-k,0)):(n.scale(1,-1),n.translate(0,
-l)):g&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.qa,a,b,c,d,0,0,k,l),h?m:this.j.Sa.createPattern(m,"repeat");n.drawImage(this.qa,a,b,c,d,0,0,k,l);a=this.j.Z.Ye(k,l,this.j.Oa,!1,!h);this.j.Z.Rr(m,a);return a};g.Aj=function(){this.ja||this.Km()};g.ol=function(){};g.gl=function(){};g.Pl=function(){this.ja||this.D.length||this.Km()};g.rl=function(){};f.Ya=function(a){this.type=a;this.j=a.j};var g=f.Ya.prototype,l=-2147483648,n=1073741824,k=536870912,m=536870911,p=[],r=[],u=[];h.prototype.clear=
function(){var a,b,c,d,e;this.lf.length=this.C.kc;a=0;for(b=this.lf.length;a<b;++a)for(e=this.lf[a],e||(e=[],this.lf[a]=e),e.length=this.C.lc,c=0,d=e.length;c<d;++c)e[c]=-1};h.prototype.xj=function(){if(!this.Gj){var e=this.C.yd,f=this.C.xd;if(!(0>=e||0>=f)){var g,h,u,t,C,E;g=0;for(h=this.qc.length;g<h;++g)c(this.qc[g]);g=0;for(h=this.Kc.length;g<h;++g)d(this.Kc[g]);this.qc.length=0;this.Kc.length=0;var z=Math.floor(this.C.width/e),A=Math.floor(this.C.height/f),z=z-this.left/e,A=A-this.top/f;z>this.C.lc&&
(z=this.C.lc);A>this.C.kc&&(A=this.C.kc);var J=this.C.Ig,F=null;g=0;for(h=A;g<h;++g){C=this.lf[g];u=0;for(t=z;u<t;++u)E=C[u],-1===E?F&&(this.qc.push(F),F=null):J||!F||E!==F.id?(F&&this.qc.push(F),F=p.length?p.pop():new a,F.id=E,F.Ll=E&m,F.fj=0!==(E&l),F.Vj=0!==(E&n),F.Vh=0!==(E&k),F.So=F.fj||F.Vj||F.Vh,F.Ta.left=u*e+this.left,F.Ta.top=g*f+this.top,F.Ta.right=F.Ta.left+e,F.Ta.bottom=F.Ta.top+f):F.Ta.right+=e;F&&(this.qc.push(F),F=null)}var F=null,V=!1;g=0;for(h=A;g<h;++g){C=this.lf[g];u=0;for(t=z;u<
t;++u)E=C[u],-1===E?F&&(this.Kc.push(F),F=null,V=!1):(A=this.C.type.Su(E),!F||A||V?(F&&this.Kc.push(F),F=r.length?r.pop():new b,F.id=E,F.Pc=A?A:null,E=F.Ta,E.left=u*e+this.left,E.top=g*f+this.top,E.right=E.left+e,E.bottom=E.top+f,V=!!A):F.Ta.right+=e);F&&(this.Kc.push(F),F=null,V=!1)}if(!J)for(h=this.qc.length,g=0;g<h;++g)for(t=this.qc[g],e=g+1;e<h;++e)if(u=this.qc[e],!(u.Ta.top<t.Ta.bottom)){if(u.Ta.top>t.Ta.bottom)break;if(u.Ta.right>t.Ta.right||u.Ta.left>t.Ta.left)break;u.id===t.id&&u.Ta.left===
t.Ta.left&&u.Ta.right===t.Ta.right&&(c(this.qc[e]),this.qc.splice(e,1),--h,t.Ta.bottom+=f,--e)}h=this.Kc.length;for(g=0;g<h;++g)if(t=this.Kc[g],!t.Pc)for(C=t.Ta,e=g+1;e<h;++e)if(u=this.Kc[e],t=u.Ta,!(t.top<C.bottom)){if(t.top>C.bottom)break;if(t.right>C.right||t.left>C.left)break;u.Pc||t.left!==C.left||t.right!==C.right||(d(this.Kc[e]),this.Kc.splice(e,1),--h,C.bottom+=f,--e)}this.Gj=!0}}};h.prototype.ho=function(a,b,c){this.lf[b][a]!==c&&(this.lf[b][a]=c,this.Gj=!1,this.C.fk=!0,this.C.Bh=!0,this.C.j.Ia=
!0)};g.Ea=function(){var a,b,c;this.visible=0===this.da[0];this.yd=this.da[1];this.xd=this.da[2];this.oo=this.da[3];this.qo=this.da[4];this.po=this.da[5];this.ro=this.da[6];this.Ig=0!==this.da[7];this.Ag=this.Cr;this.zg=this.Br;this.Ef=this.width;this.Df=this.height;var d=this.yd,e=this.xd;0===d&&(d=1);0===e&&(e=1);this.lc=Math.ceil(this.j.Ob/d);this.kc=Math.ceil(this.j.Nb/e);if(!this.type.yr)for(this.type.yr=!0,a=0,b=this.type.Je.length;a<b;++a)if(c=this.type.Je[a])this.type.fg(a,d,e,!1,!1,!1),this.type.fg(a,
d,e,!1,!1,!0),this.type.fg(a,d,e,!1,!0,!1),this.type.fg(a,d,e,!1,!0,!0),this.type.fg(a,d,e,!0,!1,!1),this.type.fg(a,d,e,!0,!1,!0),this.type.fg(a,d,e,!0,!0,!1),this.type.fg(a,d,e,!0,!0,!0);this.bd||(this.ed=[]);this.Dv();this.Zq(this.Ar);this.type.Fn(this.yd,this.xd,this.oo,this.qo,this.po,this.ro,this.Ig);this.Bh=!1;this.fk=!0;this.En()};g.En=function(){if(this.fk){var a,b,c,d,e;a=0;for(b=this.ed.length;a<b;++a)for(e=this.ed[a],c=0,d=e.length;c<d;++c)e[c].xj();this.fk=!1}};g.eo=function(){var a,b,
c,d,e;a=0;for(b=this.ed.length;a<b;++a)for(e=this.ed[a],c=0,d=e.length;c<d;++c)e[c].Gj=!1;this.fk=!0};g.Dv=function(){var a,b;a=Math.ceil(this.zg/this.kc);b=Math.ceil(this.Ag/this.lc);var c,d,f;for(c=0;c<a;++c)if(f=this.ed[c])for(d=f.length;d<b;++d)f.push(e(this,d,c));else{f=[];for(d=0;d<b;++d)f.push(e(this,d,c));this.ed[c]=f}};g.jm=function(a,b){if(0>a||0>b)return null;var c=sa(b/this.kc);if(c>=this.ed.length)return null;var c=this.ed[c],d=sa(a/this.lc);return d>=c.length?null:c[d]};g.km=function(a,
b){if(0>a||0>b||b>=this.ed.length)return null;var c=this.ed[b];return a>=c.length?null:c[a]};g.Zq=function(a){var b=[];a=a.split(",");var c,d,e,f,g;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),-1<f)for(g=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=l),-1<e.indexOf("v")&&(f|=n),-1<e.indexOf("d")&&(f|=k);0<g;--g)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=l),-1<e.indexOf("v")&&(f|=n),-1<e.indexOf("d")&&(f|=k),b.push(f);for(c=a=0;c<this.zg;++c)for(d=
0;d<this.Ag;++d)g=b[a++],(e=this.jm(d,c))&&e.ho(d%this.lc,c%this.kc,g)};g.Tu=function(){var a="";if(0>=this.Ag||0>=this.zg)return a;var b=1,c=this.Ap(0,0),d,e=this.zg,f,g=this.Ag,h,p,r,t;for(d=0;d<e;++d)for(f=0===d?1:0;f<g;++f)h=this.Ap(f,d),h===c?++b:(-1===c?(p=-1,c=t=r=!1):(p=c&m,r=0!==(c&l),t=0!==(c&n),c=0!==(c&k)),a=1===b?a+(""+p):a+(""+b+"x"+p),r&&(a+="h"),t&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=h);-1===c?(p=-1,c=t=r=!1):(p=c&m,r=0!==(c&l),t=0!==(c&n),c=0!==(c&k));a=1===b?a+(""+p):a+(""+b+"x"+p);
r&&(a+="h");t&&(a+="v");c&&(a+="d");return a};g.Ap=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ag||b>=this.zg)return-1;var c=this.jm(a,b);return c?c.lf[b%this.kc][a%this.lc]:-1};g.ho=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ag||b>=this.zg)return-1;var d=this.jm(a,b);if(!d)return-1;d.ho(a%this.lc,b%this.kc,c)};g.Tr=function(a){return Math.floor((a-this.x)/(this.lc*this.yd))};g.Ur=function(a){return Math.floor((a-this.y)/(this.kc*this.xd))};g.Eu=function(a,
b){var c=this.Ur(a.top),d=this.Tr(a.right),e=this.Ur(a.bottom),f,g,h;for(f=this.Tr(a.left);f<=d;++f)for(g=c;g<=e;++g)if(h=this.km(f,g))h.xj(),Fa(b,h.Kc)};g.Bu=function(a){var b,c,d,e,f,g;b=0;for(c=this.ed.length;b<c;++b)for(f=this.ed[b],d=0,e=f.length;d<e;++d)g=f[d],g.xj(),Fa(a,g.Kc)};g.Dg=function(){var a,b,e,f,g;a=0;for(b=this.ed.length;a<b;++a){g=this.ed[a];e=0;for(f=g.length;e<f;++e){for(var h=g[e],k=void 0,l=void 0,k=0,l=h.qc.length;k<l;++k)c(h.qc[k]);k=h.qc.length=0;for(l=h.Kc.length;k<l;++k)d(h.Kc[k]);
h.Kc.length=0;1E3>u.length&&u.push(h)}g.length=0}this.ed.length=0};g.rc=function(){return{w:this.Ag,h:this.zg,d:this.Tu()}};g.Mc=function(a){this.Ag=a.w;this.zg=a.h;this.Zq(a.d);this.Bh=!0;this.eo()};g.Be=function(a){if(!(0>=this.yd||0>=this.xd)){this.type.Fn(this.yd,this.xd,this.oo,this.qo,this.po,this.ro,this.Ig);if(this.width!==this.Ef||this.height!==this.Df)this.Bh=!0,this.eo(),this.En(),this.Ef=this.width,this.Df=this.height;a.globalAlpha=this.opacity;var b=this.Q,c=b.nb,d=b.ob,e=b.Cb,b=b.Bb,
f=this.x,g=this.y,h=this.Ig,k;this.j.pe&&(f=Math.round(f),g=Math.round(g));var l=this.lc*this.yd,m=this.kc*this.xd,n=Math.floor((c-f)/l),l=Math.floor((e-f)/l),p=Math.floor((d-g)/m),m=Math.floor((b-g)/m),r=f%this.yd,t=g%this.xd;this.Ig&&(t=r=0);if(0!==r||0!==t)a.save(),a.translate(r,t),f-=r,g-=t,c-=r,d-=t,e-=r,b-=t;for(var u,Y,P,K,H,M,I,L,N;n<=l;++n)for(u=p;u<=m;++u)if(Y=this.km(n,u))for(Y.xj(),P=0,K=Y.qc.length;P<K;++P)H=Y.qc[P],-1!==H.id&&(k=H.Ta,M=k.left+f,I=k.top+g,L=k.right+f,k=k.bottom+g,M>e||
L<c||I>b||k<d||(N=this.type.Go(H.Ll,H.fj,H.Vj,H.Vh,this.Ig),h?a.drawImage(N,M,I):(a.fillStyle=this.type.Go(H.Ll,H.fj,H.Vj,H.Vh,this.Ig),a.fillRect(M,I,L-M,k-I))));0===r&&0===t||a.restore()}};var t=new xa(0,0,1,1);g.Gd=function(a){if(!(0>=this.yd||0>=this.xd)){this.type.Fn(this.yd,this.xd,this.oo,this.qo,this.po,this.ro,this.Ig);if(this.width!==this.Ef||this.height!==this.Df)this.Bh=!0,this.eo(),this.En(),this.Ef=this.width,this.Df=this.height;a.Kg(this.opacity);var b=this.type.Xg,c=this.Q,d=c.nb,
e=c.ob,f=c.Cb,c=c.Bb,g=this.x,h=this.y,k;this.j.pe&&(g=Math.round(g),h=Math.round(h));var l=this.lc*this.yd,m=this.kc*this.xd,n=Math.floor((f-g)/l),p=Math.floor((e-h)/m),m=Math.floor((c-h)/m),r,u,W,Y,P,K,H,M,I,L,N,na,U,X,oa,Ca,Ha;for(oa=Math.floor((d-g)/l);oa<=n;++oa)for(Ca=p;Ca<=m;++Ca)if(Ha=this.km(oa,Ca))for(Ha.xj(),l=0,r=Ha.qc.length;l<r;++l)u=Ha.qc[l],-1!==u.id&&(k=u.Ta,W=k.left+g,Y=k.top+h,P=k.right+g,k=k.bottom+h,W>f||P<d||Y>c||k<e||(a.dd(b[u.Ll]),t.right=(P-W)/this.yd,t.bottom=(k-Y)/this.xd,
u.So?(u.Vh&&(X=t.right,t.right=t.bottom,t.bottom=X),H=K=0,M=t.right,I=0,L=t.right,N=t.bottom,na=0,U=t.bottom,u.Vh&&(X=na,na=M,M=X,X=U,U=I,I=X),u.fj&&(X=K,K=M,M=X,X=H,H=I,I=X,X=na,na=L,L=X,X=U,U=N,N=X),u.Vj&&(X=K,K=na,na=X,X=H,H=U,U=X,X=M,M=L,L=X,X=I,I=N,N=X),a.hw(W,Y,P,Y,P,k,W,k,K,H,M,I,L,N,na,U)):a.Ge(W,Y,P,Y,P,k,W,k,t)))}};f.aa=new function(){};f.$a=new function(){};f.ec=new function(){}})();function fd(a){this.j=a}
(function(){var a=fd.prototype;a.ib=function(a){this.behavior=a;this.j=a.j};a.ib.prototype.Ea=function(){};a.Ya=function(a,c){this.type=a;this.behavior=a.behavior;this.C=c;this.j=a.j};var c=a.Ya.prototype;c.Ea=function(){var a=this.da[0];this.of=this.da[1];this.Ik=this.da[2];this.$s=0!==this.da[3];this.fo=0!==this.da[4];this.cc=Math.cos(this.C.P)*a;this.Kb=Math.sin(this.C.P)*a;this.Zk=this.C.x;this.$k=this.C.y;this.$e=this.C.P;this.Nl=0;this.enabled=0!==this.da[5]};c.rc=function(){return{acc:this.of,
g:this.Ik,dx:this.cc,dy:this.Kb,lx:this.Zk,ly:this.$k,lka:this.$e,t:this.Nl,e:this.enabled}};c.Mc=function(a){this.of=a.acc;this.Ik=a.g;this.cc=a.dx;this.Kb=a.dy;this.Zk=a.lx;this.$k=a.ly;this.$e=a.lka;this.Nl=a.t;this.enabled=a.e};c.wd=function(){if(this.enabled){var a=this.j.Zh(this.C),c,e;this.C.P!==this.$e&&(this.fo&&(c=fb(0,0,this.cc,this.Kb),this.cc=Math.cos(this.C.P)*c,this.Kb=Math.sin(this.C.P)*c),this.$e=this.C.P);0!==this.of&&(c=fb(0,0,this.cc,this.Kb),e=0===this.cc&&0===this.Kb?this.C.P:
Wa(0,0,this.cc,this.Kb),c+=this.of*a,0>c&&(c=0),this.cc=Math.cos(e)*c,this.Kb=Math.sin(e)*c);0!==this.Ik&&(this.Kb+=this.Ik*a);this.Zk=this.C.x;this.$k=this.C.y;if(0!==this.cc||0!==this.Kb)if(this.C.x+=this.cc*a,this.C.y+=this.Kb*a,this.Nl+=fb(0,0,this.cc*a,this.Kb*a),this.fo&&(this.C.P=Wa(0,0,this.cc,this.Kb),this.C.la(),this.$e=this.C.P),this.C.la(),this.$s&&(c=this.j.Gh(this.C)))this.j.Sq(this.C,c),c=fb(0,0,this.cc,this.Kb),e=this.j.dt(this.C,this.Zk,this.$k),this.cc=Math.cos(e)*c,this.Kb=Math.sin(e)*
c,this.C.x+=this.cc*a,this.C.y+=this.Kb*a,this.C.la(),this.fo&&(this.$e=this.C.P=e,this.C.la()),this.j.fw(this.C,this.cc/c,this.Kb/c,Math.max(2.5*c*a,30))||this.j.gw(this.C)}};a.aa=new function(){};a.$a=new function(){};a.ec=new function(){}})();
function gd(a){this.j=a;var c=this;this.j.nc||(jQuery(document).mousemove(function(a){c.Ov(a)}),jQuery(document).mousedown(function(a){c.Nv(a)}),jQuery(document).mouseup(function(a){c.Pv(a)}));a=0<this.j.kd?document:this.j.canvas;this.j.rg?a=window.Canvas:this.j.Md&&(a=window);window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Cq(a)},!1),a.addEventListener("pointermove",function(a){c.Bq(a)},!1),a.addEventListener("pointerup",function(a){c.nl(a)},!1),a.addEventListener("pointercancel",
function(a){c.nl(a)},!1)):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Cq(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Bq(a)},!1),a.addEventListener("MSPointerUp",function(a){c.nl(a)},!1),a.addEventListener("MSPointerCancel",function(a){c.nl(a)},!1)):(a.addEventListener("touchstart",function(a){c.Tv(a)},!1),a.addEventListener("touchmove",function(a){c.Sv(a)},!1),a.addEventListener("touchend",function(a){c.Dq(a)},!1),a.addEventListener("touchcancel",
function(a){c.Dq(a)},!1))}
(function(){function a(a){var c,d;c=0;for(d=a.na.length;c<d;c++)if(a.na[c]instanceof b.Ya)return a.na[c];return null}function c(){}var b=gd.prototype,d={left:0,top:0};b.Nv=function(a){1===a.which&&this.In("leftmouse",a.pageX,a.pageY)};b.Ov=function(a){1===a.which&&this.Jn("leftmouse",a.pageX,a.pageY)};b.Pv=function(a){1===a.which&&this.Kn("leftmouse")};b.Tv=function(a){a.preventDefault&&Ib(a)&&a.preventDefault();var b,c,d,e;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],e=d.identifier,
this.In(e?e.toString():"<none>",d.pageX,d.pageY)};b.Sv=function(a){a.preventDefault&&a.preventDefault();var b,c,d,e;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],e=d.identifier,this.Jn(e?e.toString():"<none>",d.pageX,d.pageY)};b.Dq=function(a){a.preventDefault&&Ib(a)&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=d.identifier,this.Kn(d?d.toString():"<none>")};b.Cq=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&
(a.preventDefault&&Ib(a)&&a.preventDefault(),this.In(a.pointerId.toString(),a.pageX,a.pageY))};b.Bq=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&a.preventDefault(),this.Jn(a.pointerId.toString(),a.pageX,a.pageY))};b.nl=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&Ib(a)&&a.preventDefault(),this.Kn(a.pointerId.toString()))};b.In=function(b,c,e){var l=this.j.nc?d:jQuery(this.j.canvas).offset();c=c-l.left;
e=e-l.top;var n,k,m,p,l=this.li.Xd(),r,u,t,w=null;r=0;for(u=l.length;r<u;r++)if(t=l[r],n=a(t),n.enabled&&!n.$g&&(n=t.Q.We(c,e,!0),k=t.Q.We(c,e,!1),t.Qa(),t.Wc(n,k)))w?t.Q.index>w.Q.index?(w=t,m=n,p=k):t.Q.index===w.Q.index&&t.ie()>w.ie()&&(w=t,m=n,p=k):(w=t,m=n,p=k);w&&a(w).Lv(b,m,p)};b.Jn=function(b,c,e){var l=this.j.nc?d:jQuery(this.j.canvas).offset();c=c-l.left;e=e-l.top;var n,k=this.li.Xd(),m,p,r;m=0;for(p=k.length;m<p;m++)n=k[m],r=a(n),!r.enabled||!r.$g||r.$g&&r.Bm!==b||(l=n.Q.We(c,e,!0),n=n.Q.We(c,
e,!1),r.Qv(l,n))};b.Kn=function(b){var c=this.li.Xd(),d,e,n;d=0;for(e=c.length;d<e;d++)n=c[d],n=a(n),n.$g&&n.Bm===b&&n.Uv()};b.ib=function(a){this.behavior=a;this.j=a.j};b.ib.prototype.Ea=function(){};b.Ya=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.j=a.j};var e=b.Ya.prototype;e.Ea=function(){this.$g=!1;this.Kb=this.cc=0;this.Bm="<none>";this.fm=this.da[0];this.enabled=0!==this.da[1]};e.rc=function(){return{enabled:this.enabled}};e.Mc=function(a){this.enabled=a.enabled;this.$g=
!1};e.Lv=function(a,b,c){this.cc=b-this.C.x;this.Kb=c-this.C.y;this.$g=!0;this.Bm=a;this.j.Rk=!0;this.j.trigger(gd.prototype.aa.vs,this.C);this.j.Rk=!1};e.Qv=function(a,b){var c=a-this.cc,d=b-this.Kb;if(0===this.fm){if(this.C.x!==c||this.C.y!==d)this.C.x=c,this.C.y=d,this.C.la()}else 1===this.fm?this.C.x!==c&&(this.C.x=c,this.C.la()):2===this.fm&&this.C.y!==d&&(this.C.y=d,this.C.la())};e.Uv=function(){this.$g=!1;this.j.Rk=!0;this.j.trigger(gd.prototype.aa.ws,this.C);this.j.Rk=!1};e.wd=function(){};
c.prototype.vs=function(){return!0};c.prototype.ws=function(){return!0};b.aa=new c;b.$a=new function(){};b.ec=new function(){}})();function hd(a){this.j=a}
(function(){function a(){}var c=hd.prototype;c.ib=function(a){this.behavior=a;this.j=a.j};c.ib.prototype.Ea=function(){};c.Ya=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.j=a.j};var b=c.Ya.prototype;b.Ea=function(){var a=1===this.da[0];this.Vi=this.da[1];this.Yj=this.da[2];this.Ck=this.da[3];this.nt=this.da[4];this.Td=a?0:3;this.bd?this.se.reset():this.se=new tb;this.yh=this.C.opacity?this.C.opacity:1;a&&(0===this.Vi?(this.Td=1,0===this.Yj&&(this.Td=2)):(this.C.opacity=0,this.j.Ia=
!0))};b.rc=function(){return{fit:this.Vi,wt:this.Yj,fot:this.Ck,s:this.Td,st:this.se.Ab,mo:this.yh}};b.Mc=function(a){this.Vi=a.fit;this.Yj=a.wt;this.Ck=a.fot;this.Td=a.s;this.se.reset();this.se.Ab=a.st;this.yh=a.mo};b.wd=function(){this.se.add(this.j.Zh(this.C));0===this.Td&&(this.C.opacity=this.se.Ab/this.Vi*this.yh,this.j.Ia=!0,this.C.opacity>=this.yh&&(this.C.opacity=this.yh,this.Td=1,this.se.reset(),this.j.trigger(hd.prototype.aa.xs,this.C)));1===this.Td&&this.se.Ab>=this.Yj&&(this.Td=2,this.se.reset(),
this.j.trigger(hd.prototype.aa.Fs,this.C));2===this.Td&&0!==this.Ck&&(this.C.opacity=this.yh-this.se.Ab/this.Ck*this.yh,this.j.Ia=!0,0>this.C.opacity&&(this.C.opacity=0,this.Td=3,this.se.reset(),this.j.trigger(hd.prototype.aa.ys,this.C),1===this.nt&&this.j.Yf(this.C)))};b.i=function(){this.Td=0;this.se.reset();0===this.Vi?(this.Td=1,0===this.Yj&&(this.Td=2)):(this.C.opacity=0,this.j.Ia=!0)};a.prototype.ys=function(){return!0};a.prototype.xs=function(){return!0};a.prototype.Fs=function(){return!0};
c.aa=new a;c.$a=new function(){};c.ec=new function(){}})();function id(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var jd=2/180*Math.PI,kd=8/180*Math.PI,ld=.5*Math.PI,md=ld*ld,nd=2/180*Math.PI,od=Number.MIN_VALUE*Number.MIN_VALUE;function pd(a,c){return a.x*c.x+a.y*c.y}function qd(a,c){return a.x*c.y-a.y*c.x}function rd(a){return Z(1*a.y,-1*a.x)}function sd(a,c){return Z(a.n.x*c.x+a.p.x*c.y,a.n.y*c.x+a.p.y*c.y)}
function td(a,c){return Z(pd(c,a.n),pd(c,a.p))}function ud(a,c){var b=sd(a.u,c);b.x+=a.position.x;b.y+=a.position.y;return b}function vd(a,c){var b=wd(c,a.position),d=b.x*a.u.n.x+b.y*a.u.n.y;b.y=b.x*a.u.p.x+b.y*a.u.p.y;b.x=d;return b}function wd(a,c){return Z(a.x-c.x,a.y-c.y)}function xd(a,c,b){return a<c?c:a>b?b:a}function yd(){this.n=Z(0,0);this.p=Z(0,0);this.n.Set(1,0);this.p.Set(0,1)}function zd(a){var c=new yd;c.Set(a);return c}
yd.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.n.Set(c,a);this.p.Set(-a,c)};yd.prototype.Rb=function(){var a=new yd;Ad(a,this);return a};function Ad(a,c){a.n.L(c.n);a.p.L(c.p)}yd.prototype.ka=function(){this.n.Set(0,0);this.p.Set(0,0)};yd.prototype.Qg=function(){return Math.atan2(this.n.y,this.n.x)};function Bd(a,c){var b=a.n.x*a.p.y-a.p.x*a.n.y;0!==b&&(b=1/b);c.n.x=b*a.p.y;c.p.x=-b*a.p.x;c.n.y=-b*a.n.y;c.p.y=b*a.n.x}
function Cd(a,c,b,d){var e=a.n.x*a.p.y-a.p.x*a.n.y;0!==e&&(e=1/e);c.x=e*(a.p.y*b-a.p.x*d);c.y=e*(a.n.x*d-a.n.y*b);return c}function Dd(a,c,b){this.n=new Ed(0,0,0);this.p=new Ed(0,0,0);this.i=new Ed(0,0,0);a&&this.n.L(a);c&&this.p.L(c);b&&this.i.L(b)}Dd.prototype.Rb=function(){return new Dd(this.n,this.p,this.i)};Dd.prototype.ka=function(){this.n.Set(0,0,0);this.p.Set(0,0,0);this.i.Set(0,0,0)};
function Fd(a,c,b,d){var e=a.n.x,h=a.p.x,f=a.n.y;a=a.p.y;var g=e*a-h*f;0!=g&&(g=1/g);c.x=g*(a*b-h*d);c.y=g*(e*d-f*b);return c}function $d(a,c,b,d,e){var h=a.n.x,f=a.n.y,g=a.n.z,l=a.p.x,n=a.p.y,k=a.p.z,m=a.i.x,p=a.i.y;a=a.i.z;var r=h*(n*a-k*p)+f*(k*m-l*a)+g*(l*p-n*m);0!=r&&(r=1/r);c.x=r*(b*(n*a-k*p)+d*(k*m-l*a)+e*(l*p-n*m));c.y=r*(h*(d*a-e*p)+f*(e*m-b*a)+g*(b*p-d*m));c.z=r*(h*(n*e-k*d)+f*(k*b-l*e)+g*(l*d-n*b));return c}function ae(){this.N=Z(0,0);this.$b=Z(0,0);this.B=Z(0,0)}
ae.prototype.Set=function(a){this.N.L(a.N);this.$b.L(a.$b);this.B.L(a.B);this.Zd=a.Zd;this.M=a.M;this.Gc=a.Gc};ae.prototype.Rb=function(){var a=new ae;a.N.L(this.N);a.$b.L(this.$b);a.B.L(this.B);a.Zd=this.Zd;a.M=this.M;a.Gc=this.Gc;return a};ae.prototype.gd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.$b.x+c*this.B.x;a.position.y=(1-c)*this.$b.y+c*this.B.y;a.u.Set((1-c)*this.Zd+c*this.M);var b=a.u;a.position.x-=b.n.x*this.N.x+b.p.x*this.N.y;a.position.y-=b.n.y*this.N.x+b.p.y*this.N.y};
ae.prototype.Xf=function(a){void 0===a&&(a=0);if(this.Gc<a&&1-this.Gc>Number.MIN_VALUE){var c=(a-this.Gc)/(1-this.Gc);this.$b.x=(1-c)*this.$b.x+c*this.B.x;this.$b.y=(1-c)*this.$b.y+c*this.B.y;this.Zd=(1-c)*this.Zd+c*this.M;this.Gc=a}};function be(a,c){this.position=Z(0,0);this.u=new yd;a&&this.position.L(a);c&&Ad(this.u,c)}be.prototype.Set=function(a){this.position.L(a.position);Ad(this.u,a.u)};be.prototype.Qg=function(){return Math.atan2(this.u.n.y,this.u.n.x)};
function ce(a,c){this.x=a;this.y=c}var de=[];function Z(a,c){if(0<de.length){var b=de.pop();b.Set(a,c);return b}return new ce(a,c)}function ee(a){de.push(a)}y=ce.prototype;y.ka=function(){this.y=this.x=0};y.Set=function(a,c){this.x=a;this.y=c};y.L=function(a){this.x=a.x;this.y=a.y};y.Zf=function(){return Z(-this.x,-this.y)};y.Rb=function(){return Z(this.x,this.y)};y.Me=function(a){this.x+=a.x;this.y+=a.y};y.Mo=function(a){this.x-=a.x;this.y-=a.y};y.Ad=function(a){this.x*=a;this.y*=a};
function fe(a){return Math.sqrt(ge(a))}function ge(a){return a.x*a.x+a.y*a.y}function he(a){var c=fe(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function Ed(a,c,b){this.x=a;this.y=c;this.z=b}y=Ed.prototype;y.ka=function(){this.z=this.y=this.x=0};y.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};y.L=function(a){this.x=a.x;this.y=a.y;this.z=a.z};y.Zf=function(){return new Ed(-this.x,-this.y,-this.z)};y.Rb=function(){return new Ed(this.x,this.y,this.z)};
y.Me=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};y.Mo=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};y.Ad=function(a){this.x*=a;this.y*=a;this.z*=a};function ie(){this.Ga=.005}y=ie.prototype;y.Sg=function(){};y.Rb=function(){};y.Set=function(a){this.Ga=a.Ga};y.Lh=function(){};y.Bi=function(){};y.$j=function(){};y.am=function(){};function je(a){this.Ga=.005;this.Ga=a;this.i=a*a;this.Ua=Z(0,0)}id(je,ie);y=je.prototype;y.Sg=function(){return"b2CircleShape"};
y.Rb=function(){var a=new je(this.Ga);a.Set(this);return a};y.Set=function(a){ie.prototype.Set.call(this,a);a instanceof je&&this.Ua.L(a.Ua)};y.Lh=function(a,c){var b=c.u,d=c.position.x+(b.n.x*this.Ua.x+b.p.x*this.Ua.y),b=c.position.y+(b.n.y*this.Ua.x+b.p.y*this.Ua.y);a.i.Set(d-this.Ga,b-this.Ga);a.k.Set(d+this.Ga,b+this.Ga)};y.Bi=function(a,c){a.i=c*Math.PI*this.i;a.k.L(this.Ua);a.q=a.i*(.5*this.i+(this.Ua.x*this.Ua.x+this.Ua.y*this.Ua.y))};
y.$j=function(a,c,b,d){b=ud(b,this.Ua);var e=-(pd(a,b)-c);if(e<-this.Ga+Number.MIN_VALUE)return 0;if(e>this.Ga)return d.L(b),Math.PI*this.i;c=e*e;e=this.i*(Math.asin(e/this.Ga)+Math.PI/2)+e*Math.sqrt(this.i-c);c=-2/3*Math.pow(this.i-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};y.am=function(a){a.O=[this.Ua];a.i=1;a.Ga=this.Ga};
function ke(a,c){this.Ga=.005;this.i=a;this.k=c;this.q=Z(this.k.x-this.i.x,this.k.y-this.i.y);he(this.q);this.A=Z(this.q.y,-this.q.x);Z(-.04*(this.A.x-this.q.x)+this.i.x,-.04*(this.A.y-this.q.y)+this.i.y);Z(-.04*(this.A.x+this.q.x)+this.k.x,-.04*(this.A.y+this.q.y)+this.k.y);Z(-this.A.x,-this.A.y)}id(ke,ie);ke.prototype.Sg=function(){return"b2EdgeShape"};
ke.prototype.Lh=function(a,c){var b=c.u,d=c.position.x+(b.n.x*this.i.x+b.p.x*this.i.y),e=c.position.y+(b.n.y*this.i.x+b.p.y*this.i.y),h=c.position.x+(b.n.x*this.k.x+b.p.x*this.k.y),b=c.position.y+(b.n.y*this.k.x+b.p.y*this.k.y);d<h?(a.i.x=d,a.k.x=h):(a.i.x=h,a.k.x=d);e<b?(a.i.y=e,a.k.y=b):(a.i.y=b,a.k.y=e)};ke.prototype.Bi=function(a){a.i=0;a.k.L(this.i);a.q=0};
ke.prototype.$j=function(a,c,b,d){void 0===c&&(c=0);var e=Z(a.x*c,a.y*c),h=ud(b,this.i);b=ud(b,this.k);var f=pd(a,h)-c;a=pd(a,b)-c;if(0<f){if(0<a)return 0;h.x=-a/(f-a)*h.x+f/(f-a)*b.x;h.y=-a/(f-a)*h.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*h.x+f/(f-a)*b.x,b.y=-a/(f-a)*h.y+f/(f-a)*b.y);d.x=(e.x+h.x+b.x)/3;d.y=(e.y+h.y+b.y)/3;return.5*((h.x-e.x)*(b.y-e.y)-(h.y-e.y)*(b.x-e.x))};function le(){this.i=0;this.k=Z(0,0);this.q=0}function me(){this.Ga=.005;this.i=Z(0,0);this.O=[];this.Za=[]}id(me,ie);y=me.prototype;
y.Sg=function(){return"b2PolygonShape"};y.Rb=function(){var a=new me;a.Set(this);return a};y.Set=function(a){ie.prototype.Set.call(this,a);if(a instanceof me){this.i.L(a.i);this.Pa=a.Pa;ne(this,this.Pa);for(var c=0;c<this.Pa;c++)this.O[c].L(a.O[c]),this.Za[c].L(a.Za[c])}};
function oe(a,c){var b=c.length;a.Pa=b;ne(a,b);for(b=b=0;b<a.Pa;b++)a.O[b].L(c[b]);for(b=0;b<a.Pa;++b){var d=wd(a.O[b+1<a.Pa?b+1:0],a.O[b]);a.Za[b].L(rd(d));he(a.Za[b])}for(var b=a.O,d=a.Pa,e=Z(0,0),h=0,f=1/3,g=0;g<d;++g){var l=b[g],n=g+1<d?b[g+1]:b[0],k=.5*((l.x-0)*(n.y-0)-(l.y-0)*(n.x-0)),h=h+k;e.x+=k*f*(0+l.x+n.x);e.y+=k*f*(0+l.y+n.y)}e.x*=1/h;e.y*=1/h;a.i=e}
function pe(a,c,b){a.Pa=4;ne(a,4);a.O[0].Set(-c,-b);a.O[1].Set(c,-b);a.O[2].Set(c,b);a.O[3].Set(-c,b);a.Za[0].Set(0,-1);a.Za[1].Set(1,0);a.Za[2].Set(0,1);a.Za[3].Set(-1,0);a.i.ka()}
y.Lh=function(a,c){for(var b=c.u,d=this.O[0],e=c.position.x+(b.n.x*d.x+b.p.x*d.y),h=c.position.y+(b.n.y*d.x+b.p.y*d.y),f=e,g=h,l=1;l<this.Pa;++l)var d=this.O[l],n=c.position.x+(b.n.x*d.x+b.p.x*d.y),d=c.position.y+(b.n.y*d.x+b.p.y*d.y),e=e<n?e:n,h=h<d?h:d,f=f>n?f:n,g=g>d?g:d;a.i.x=e-this.Ga;a.i.y=h-this.Ga;a.k.x=f+this.Ga;a.k.y=g+this.Ga};
y.Bi=function(a,c){if(2==this.Pa)a.k.x=.5*(this.O[0].x+this.O[1].x),a.k.y=.5*(this.O[0].y+this.O[1].y),a.i=0,a.q=0;else{for(var b=0,d=0,e=0,h=0,f=1/3,g=0;g<this.Pa;++g)var l=this.O[g],n=g+1<this.Pa?this.O[g+1]:this.O[0],k=l.x-0,m=l.y-0,p=n.x-0,r=n.y-0,u=k*r-m*p,t=.5*u,e=e+t,b=b+t*f*(0+l.x+n.x),d=d+t*f*(0+l.y+n.y),l=k,h=h+u*(f*(.25*(l*l+p*l+p*p)+(0*l+0*p))+0+(f*(.25*(m*m+r*m+r*r)+(0*m+0*r))+0));a.i=c*e;a.k.Set(1/e*b,1/e*d);a.q=c*h}};
y.$j=function(a,c,b,d){var e=td(b.u,a),h=c-pd(a,b.position),f=[],g=0,l=-1;c=-1;var n=!1;for(a=a=0;a<this.Pa;++a){f[a]=pd(e,this.O[a])-h;var k=f[a]<-Number.MIN_VALUE;0<a&&(k?n||(l=a-1,g++):n&&(c=a-1,g++));n=k}switch(g){case 0:return n?(a=new le,this.Bi(a,1),d.L(ud(b,a.k)),a.i):0;case 1:-1==l?l=this.Pa-1:c=this.Pa-1}a=(l+1)%this.Pa;e=(c+1)%this.Pa;h=(0-f[l])/(f[a]-f[l]);f=(0-f[c])/(f[e]-f[c]);l=Z(this.O[l].x*(1-h)+this.O[a].x*h,this.O[l].y*(1-h)+this.O[a].y*h);c=Z(this.O[c].x*(1-f)+this.O[e].x*f,this.O[c].y*
(1-f)+this.O[e].y*f);f=0;h=Z(0,0);for(g=this.O[a];a!=e;)a=(a+1)%this.Pa,n=a==e?c:this.O[a],k=.5*((g.x-l.x)*(n.y-l.y)-(g.y-l.y)*(n.x-l.x)),f+=k,h.x+=k*(l.x+g.x+n.x)/3,h.y+=k*(l.y+g.y+n.y)/3,g=n;h.Ad(1/f);d.L(ud(b,h));return f};y.am=function(a){a.O=this.O;a.i=this.Pa;a.Ga=this.Ga};y.ak=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.Pa;++d){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>b&&(c=d,b=e)}return c};
y.Ei=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.Pa;++d){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>b&&(c=d,b=e)}return this.O[c]};function ne(a,c){a.O=[];a.Za=[];for(var b=a.O.length;b<c;b++)a.O[b]=Z(0,0),a.Za[b]=Z(0,0)}new yd;function qe(){this.k=this.i=this.q=this.Db=0}function re(a,c){a.Db=c;a.q=a.Db&255;a.i=(a.Db&65280)>>8&255;a.k=(a.Db&16711680)>>16&255;a.A=(a.Db&4278190080)>>24&255}qe.prototype.Set=function(a){re(this,a.Db)};
qe.prototype.Rb=function(){var a=new qe;a.Set(this);return a};function se(){this.Wd=Z(0,0);this.id=new qe}se.prototype.Set=function(a){this.Wd.L(a.Wd);this.id.Set(a.id)};function te(){this.i=Z(0,0);this.k=Z(0,0)}var ue=[];function ve(){if(0<ue.length){var a=ue.pop();a.ka();return a}return new te}te.prototype.ka=function(){this.i.Set(0,0);this.k.Set(0,0)};function we(a,c){var b;return b=(b=(b=(b=a.i.x<=c.i.x)&&a.i.y<=c.i.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
te.prototype.Hi=function(a){return 0<a.i.x-this.k.x||0<a.i.y-this.k.y||0<this.i.x-a.k.x||0<this.i.y-a.k.y?!1:!0};function xe(a,c,b){a.i.x=Math.min(c.i.x,b.i.x);a.i.y=Math.min(c.i.y,b.i.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function ye(a,c,b,d){var e=0,h=c[0].Wd,f=c[1].Wd,g=b.x*h.x+b.y*h.y-d;b=b.x*f.x+b.y*f.y-d;0>=g&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);0>g*b&&(b=g/(g-b),d=a[e].Wd,d.x=h.x+b*(f.x-h.x),d.y=h.y+b*(f.y-h.y),a[e].id=0<g?c[0].id:c[1].id,e++);return e}
function ze(a,c,b,d,e){for(var h=c.u.n.x*a.Za[b].x+c.u.p.x*a.Za[b].y,f=c.u.n.y*a.Za[b].x+c.u.p.y*a.Za[b].y,g=e.u.n.x*h+e.u.n.y*f,l=e.u.p.x*h+e.u.p.y*f,n=0,k=Number.MAX_VALUE,m=0;m<d.Pa;m++){var p=d.O[m].x*g+d.O[m].y*l;p<k&&(k=p,n=m)}return(e.position.x+(e.u.n.x*d.O[n].x+e.u.p.x*d.O[n].y)-(c.position.x+(c.u.n.x*a.O[b].x+c.u.p.x*a.O[b].y)))*h+(e.position.y+(e.u.n.y*d.O[n].x+e.u.p.y*d.O[n].y)-(c.position.y+(c.u.n.y*a.O[b].x+c.u.p.y*a.O[b].y)))*f}
function Ae(a,c,b,d){for(var e=d.position.x+(d.u.n.x*b.i.x+d.u.p.x*b.i.y),h=d.position.y+(d.u.n.y*b.i.x+d.u.p.y*b.i.y),e=e-(c.position.x+(c.u.n.x*a.i.x+c.u.p.x*a.i.y)),h=h-(c.position.y+(c.u.n.y*a.i.x+c.u.p.y*a.i.y)),f=e*c.u.n.x+h*c.u.n.y,h=e*c.u.p.x+h*c.u.p.y,e=0,g=-Number.MAX_VALUE,l=0;l<a.Pa;++l){var n=a.Za[l].x*f+a.Za[l].y*h;n>g&&(g=n,e=l)}f=ze(a,c,e,b,d);h=e-1;0>h&&(h=a.Pa-1);g=ze(a,c,h,b,d);l=e+1;l>=a.Pa&&(l=0);var n=ze(a,c,l,b,d),k=0,m=0;if(g>f&&g>n)for(k=h,m=g;;)if(e=k-1,0>e&&(e=a.Pa-1),f=
ze(a,c,e,b,d),f>m)k=e,m=f;else break;else if(n>f)for(k=l,m=n;;)if(e=k+1,e>=a.Pa&&(e=0),f=ze(a,c,e,b,d),f>m)k=e,m=f;else break;else k=e,m=f;return{Uo:k,Bl:m}}
function Be(a,c,b){var d=new Ce,e=b.Mf,h=b.i,f=b.Nf,g=b.k,l,n;d.i=c.count;for(var k=d.O,m=0;m<d.i;m++){var p=k[m];p.Eb=c.Eb[m];p.Fb=c.Fb[m];l=De(e,p.Eb);n=De(f,p.Fb);p.tc=ud(h,l);p.we=ud(g,n);p.Qb=wd(p.we,p.tc);p.M=0}1<d.i&&(l=c.i,n=Ee(d),n<.5*l||2*l<n||n<Number.MIN_VALUE)&&(d.i=0);0==d.i&&(p=k[0],p.Eb=0,p.Fb=0,l=De(e,0),n=De(f,0),p.tc=ud(h,l),p.we=ud(g,n),p.Qb=wd(p.we,p.tc),d.i=1);for(e=0;20>e;){h=[];for(f=0;f<d.i;f++)h[f]={},h[f].Eb=d.O[f].Eb,h[f].Fb=d.O[f].Fb;if(2==d.i)f=d,g=f.k.Qb,k=f.q.Qb,l=
wd(k,g),g=-(g.x*l.x+g.y*l.y),0>=g?(f.k.M=1,f.i=1):(k=k.x*l.x+k.y*l.y,0>=k?(f.q.M=1,f.i=1,f.k.Set(f.q)):(l=1/(k+g),f.k.M=k*l,f.q.M=g*l,f.i=2));else if(3==d.i){var f=d,r=f.k.Qb,u=f.q.Qb,t=f.A.Qb,w=wd(u,r),g=pd(u,w),k=-pd(r,w),q=wd(t,r);l=pd(t,q);n=-pd(r,q);p=wd(t,u);m=pd(t,p);p=-pd(u,p);q=qd(w,q);w=q*qd(u,t);t=q*qd(t,r);r=q*qd(r,u);0>=k&&0>=n?(f.k.M=1,f.i=1):0<g&&0<k&&0>=r?(l=1/(g+k),f.k.M=g*l,f.q.M=k*l,f.i=2):0<l&&0<n&&0>=t?(g=1/(l+n),f.k.M=l*g,f.A.M=n*g,f.i=2,f.q.Set(f.A)):0>=g&&0>=p?(f.q.M=1,f.i=
1,f.k.Set(f.q)):0>=l&&0>=m?(f.A.M=1,f.i=1,f.k.Set(f.A)):0<m&&0<p&&0>=w?(g=1/(m+p),f.q.M=m*g,f.A.M=p*g,f.i=2,f.k.Set(f.A)):(g=1/(w+t+r),f.k.M=w*g,f.q.M=t*g,f.A.M=r*g,f.i=3)}if(3==d.i)break;f=d;1==f.i?f=f.k.Qb.Zf():2==f.i?(g=wd(f.q.Qb,f.k.Qb),f=0<qd(g,f.k.Qb.Zf())?Z(-1*g.y,1*g.x):rd(g)):f=Z(0,0);if(ge(f)<od)break;g=f.Zf();d.O[d.i].Eb=b.Mf.ak(td(b.i.u,g));d.O[d.i].tc=ud(b.i,De(b.Mf,d.O[d.i].Eb));d.O[d.i].Fb=b.Nf.ak(td(b.k.u,f));d.O[d.i].we=ud(b.k,De(b.Nf,d.O[d.i].Fb));d.O[d.i].Qb=wd(d.O[d.i].we,d.O[d.i].tc);
ee(f);ee(g);e++;g=!1;for(f=0;f<h.length;f++)if(d.O[d.i].Eb==h[f].Eb&&d.O[d.i].Fb==h[f].Fb){g=!0;break}if(g)break;d.i++}e=a.i;h=a.k;1==d.i?(e.L(d.k.tc),h.L(d.k.we)):2==d.i?(e.x=d.k.M*d.k.tc.x+d.q.M*d.q.tc.x,e.y=d.k.M*d.k.tc.y+d.q.M*d.q.tc.y,h.x=d.k.M*d.k.we.x+d.q.M*d.q.we.x,h.y=d.k.M*d.k.we.y+d.q.M*d.q.we.y):3==d.i&&(h.x=e.x=d.k.M*d.k.tc.x+d.q.M*d.q.tc.x+d.A.M*d.A.tc.x,h.y=e.y=d.k.M*d.k.tc.y+d.q.M*d.q.tc.y+d.A.M*d.A.tc.y);a.q=fe(wd(a.i,a.k));c.i=Ee(d);c.count=d.i;e=d.O;for(h=0;h<d.i;h++)c.Eb[h]=e[h].Eb,
c.Fb[h]=e[h].Fb;b.q&&(c=b.Mf.Ga,b=b.Nf.Ga,a.q>c+b&&a.q>Number.MIN_VALUE?(a.q-=c+b,d=wd(a.k,a.i),he(d),a.i.x+=c*d.x,a.i.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,ee(d)):(b=Z(0,0),b.x=.5*(a.i.x+a.k.x),b.y=.5*(a.i.y+a.k.y),a.i.x=a.k.x=b.x,a.i.y=a.k.y=b.y,a.q=0,ee(b)))}function Fe(){}function Ge(){this.i=Z(0,0);this.k=Z(0,0);this.q=0}function He(){}He.prototype.Set=function(a){a.am(this)};
He.prototype.ak=function(a){for(var c=0,b=this.O[0].x*a.x+this.O[0].y*a.y,d=1;d<this.i;d++){var e=this.O[d].x*a.x+this.O[d].y*a.y;e>b&&(c=d,b=e)}return c};He.prototype.Ei=function(a){return this.O[this.ak(a)]};function De(a,c){void 0===c&&(c=0);return a.O[c]}function Ie(){this.i=null}Ie.prototype.Ci=function(a){Je(this,a);a.Jc()};function Ke(a,c,b){if(null!==a.i){var d=[];for(d.push(a.i);0<d.length;)if(a=d.pop(),a.za.Hi(b))if(null===a.Uc){if(!c(a.fe))break}else d.push(a.Uc),d.push(a.Xe)}}
function Le(a,c){if(null===a.i)a.i=c,a.i.parent=null;else{var b;b=c.za;b=Z((b.i.x+b.k.x)/2,(b.i.y+b.k.y)/2);for(var d=a.i;null!==d.Uc;)var e=d.Uc,d=d.Xe,h=Math.abs((e.za.i.x+e.za.k.x)/2-b.x)+Math.abs((e.za.i.y+e.za.k.y)/2-b.y),f=Math.abs((d.za.i.x+d.za.k.x)/2-b.x)+Math.abs((d.za.i.y+d.za.k.y)/2-b.y),d=h<f?e:d;ee(b);b=d;e=b.parent;d=Me();d.parent=e;xe(d.za,c.za,b.za);if(e)for(b.parent.Uc==b?e.Uc=d:e.Xe=d,d.Uc=b,d.Xe=c,b.parent=d,c.parent=d;e&&!we(e.za,d.za);)xe(e.za,e.Uc.za,e.Xe.za),d=e,e=e.parent;
else d.Uc=b,d.Xe=c,b.parent=d,c.parent=d,a.i=d}}function Je(a,c){if(c==a.i)a.i=null;else{var b=c.parent,d=b.parent,e;e=b.Uc==c?b.Xe:b.Uc;if(d)for(d.Uc==b?d.Uc=e:d.Xe=e,e.parent=d;d;){e=d.za;xe(d.za,d.Uc.za,d.Xe.za);if(we(e,d.za))break;d=d.parent}else a.i=e,e.parent=null;b.Jc()}}function Ne(){this.k=new Ie;this.i=[]}Ne.prototype.Ci=function(a){Ia(this.i,a);this.k.Ci(a)};Ne.prototype.Hi=function(a,c){return a.za.Hi(c.za)};
function Oe(a,c){for(var b=[];0<a.i.length;){var d=a.i.pop();Ke(a.k,function(a){a!=d.fe&&b.push(new Pe(d.fe,a));return!0},d.za)}for(var e=0;e<b.length;){var h=b[e];c(h.Yi,h.Zi);for(e++;e<b.length;){var f=b[e];if(!(f.Yi==h.Yi&&f.Zi==h.Zi||f.Yi==h.Zi&&f.Zi==h.Yi))break;e++}}}function Qe(a){this.za=ve();this.fe=this.parent=this.Xe=this.Uc=null;"undefined"!=typeof a&&(this.fe=a)}var Re=[];
function Me(a){if(0<Re.length){var c=Re.pop();"undefined"!=typeof a&&(c.fe=a);c.za.ka();return c}return new Qe(a)}Qe.prototype.Jc=function(){this.fe=this.parent=this.Xe=this.Uc=null;Re.push(this)};function Pe(a,c){this.Yi=a;this.Zi=c}function Se(){this.Ha=this.xb=0;this.ia=[];for(var a=0;2>a;a++)this.ia[a]=new Te;this.gc=Z(0,0);this.ma=Z(0,0)}Se.prototype.Zb=function(){for(var a=0;2>a;a++)this.ia[a].Zb();this.gc.ka();this.ma.ka();this.xb=this.Ha=0};
Se.prototype.Set=function(a){this.xb=a.xb;for(var c=0;2>c;c++)this.ia[c].Set(a.ia[c]);this.gc.L(a.gc);this.ma.L(a.ma);this.Ha=a.Ha};Se.prototype.Rb=function(){var a=new Se;a.Set(this);return a};function Te(){this.ma=Z(0,0);this.le=new qe;this.Zb()}Te.prototype.Zb=function(){this.ma.ka();this.xh=this.wh=0;re(this.le,0)};Te.prototype.Set=function(a){this.ma.L(a.ma);this.wh=a.wh;this.xh=a.xh;this.le.Set(a.le)};
function ef(){var a=kf,c=rf,b=sf,d,e,h=0;switch(a.Ha){case tf:d=td(c.u,a.i);e=td(b.u,a.i.Zf());d=a.k.Ei(d);e=a.q.Ei(e);c=ud(c,d);b=ud(b,e);h=(b.x-c.x)*a.i.x+(b.y-c.y)*a.i.y;break;case uf:h=sd(c.u,a.i);c=ud(c,a.ma);e=td(b.u,h.Zf());e=a.q.Ei(e);b=ud(b,e);h=(b.x-c.x)*h.x+(b.y-c.y)*h.y;break;case vf:h=sd(b.u,a.i),b=ud(b,a.ma),d=td(c.u,h.Zf()),d=a.k.Ei(d),c=ud(c,d),h=(c.x-b.x)*h.x+(c.y-b.y)*h.y}return h}var tf=1,uf=2,vf=4;
function Ce(){this.k=new wf;this.q=new wf;this.A=new wf;this.O=[this.k,this.q,this.A]}function Ee(a){return 1==a.i?0:2==a.i?fe(wd(a.k.Qb,a.q.Qb)):3==a.i?qd(wd(a.q.Qb,a.k.Qb),wd(a.A.Qb,a.k.Qb)):0}function xf(){this.Eb=[0,0,0];this.Fb=[0,0,0]}function wf(){}wf.prototype.Set=function(a){this.tc.L(a.tc);this.we.L(a.we);this.Qb.L(a.Qb);this.M=a.M;this.Eb=a.Eb;this.Fb=a.Fb};function yf(){this.Mf=new He;this.Nf=new He;this.nr=new ae;this.or=new ae}
function zf(a,c){this.U="Body"+Af++;this.F=new be;this.F.position.L(a.position);this.F.u.Set(a.P);this.m=new ae;this.m.N.ka();this.m.Gc=1;this.m.Zd=this.m.M=a.P;this.m.B.x=this.F.u.n.x*this.m.N.x+this.F.u.p.x*this.m.N.y;this.m.B.y=this.F.u.n.y*this.m.N.x+this.F.u.p.y*this.m.N.y;this.m.B.x+=this.F.position.x;this.m.B.y+=this.F.position.y;this.m.$b.L(this.m.B);this.r=a.K.Rb();this.k=Z(0,0);this.G=a.Th;this.Xa=a.i;this.pa=a.k;this.od=a.A;this.X=a.Rc;this.pd=c;this.jb=null;this.Vc=new Bf;this.W=new Cf;
this.H=a.q;this.Ja=a.gi;this.ta=a.Sh;this.K=this.A=0;this.Ha=a.type;this.S=2==this.Ha?1:0;this.J=2==this.Ha?1:0;this.R=this.i=0;this.ua=a.G;this.q=new Df;this.I=[]}function Ef(a,c){var b=new Ff(a,0,c);if(a.X){var d=a.pd.i.i;b.Mb.Lh(b.i,a.F);var e=d.k,h=b.i,f=Me(b);f.za.i.x=h.i.x-.1;f.za.i.y=h.i.y-.1;f.za.k.x=h.k.x+.1;f.za.k.y=h.k.y+.1;Le(e,f);d.i.push(f);b.k=f}d=a.q;e=b.Fo;null==d.i[e]&&(h=new Gf(b),f=d.q,null!=f?f.next=h:d.k=h,h.nf(f),d.q=h,d.i[e]=h);b.Cn=a;0<b.A&&Hf(a);a.pd.k=!0}y=zf.prototype;
y.Jc=function(){ee(this.r);ee(this.k)};function If(a,c,b){a.F.u.Set(b);a.F.position.L(c);c=a.F.u;var d=a.m.N;a.m.B.x=c.n.x*d.x+c.p.x*d.y;a.m.B.y=c.n.y*d.x+c.p.y*d.y;a.m.B.x+=a.F.position.x;a.m.B.y+=a.F.position.y;a.m.$b.L(a.m.B);a.m.Zd=a.m.M=b;b=a.pd.i.i;for(c=a.q.La();c;c=c.ya())Jf(c.fe,b,a.F,a.F);Kf(a.pd.i)}y.gd=function(){return this.F};y.Qg=function(){return this.m.M};y.$l=function(a){If(this,this.F.position,a)};function Lf(a,c){0!=a.Ha&&a.r.L(c)}
y.ck=function(a){void 0===a&&(a=0);0!=this.Ha&&(this.H=a)};y.Og=function(a,c){2==this.Ha&&(Mf(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.A+=(c.x-this.m.B.x)*a.y-(c.y-this.m.B.y)*a.x)};y.Ul=function(a){void 0===a&&(a=0);2==this.Ha&&(Mf(this,!0),this.A+=a)};
function Hf(a){a.S=0;a.J=0;a.i=0;a.R=0;a.m.N.ka();if(0!=a.Ha&&1!=a.Ha){for(var c=Z(0,0),b=a.q.La();b;b=b.ya()){var d=b.fe;if(0!=d.A){var e=void 0,e=new le;d.Mb.Bi(e,d.A);d=e;a.S+=d.i;c.x+=d.k.x*d.i;c.y+=d.k.y*d.i;a.i+=d.q}}0<a.S?(a.J=1/a.S,c.x*=a.J,c.y*=a.J):(a.S=1,a.J=1);0<a.i&&!a.Xa?(a.i-=a.S*(c.x*c.x+c.y*c.y),a.i*=a.ua,a.R=1/a.i):(a.i=0,a.R=0);b=a.m.B.Rb();a.m.N.L(c);a.m.$b.L(ud(a.F,a.m.N));a.m.B.L(a.m.$b);a.r.x+=a.H*-(a.m.B.y-b.y);a.r.y+=a.H*+(a.m.B.x-b.x);ee(c);ee(b)}}
function Nf(a,c){var b=a.F.u,b=Z(b.n.x*c.x+b.p.x*c.y,b.n.y*c.x+b.p.y*c.y);b.x+=a.F.position.x;b.y+=a.F.position.y;return b}y.ic=function(){return this.Ha};function Mf(a,c){if(a.od!=c){a.od=c;a.K=0;c||(a.r.ka(),a.H=0,a.k.ka(),a.A=0);for(var b=0;b<a.I.length;b++)Of(a.I[b],a)}}y.Oh=function(){return this.X};y.Rg=function(){return this.Vc};
function Pf(a){Qf.u.Set(a.m.Zd);var c=Qf.u,b=a.m.N;Qf.position.x=a.m.$b.x-(c.n.x*b.x+c.p.x*b.y);Qf.position.y=a.m.$b.y-(c.n.y*b.x+c.p.y*b.y);c=a.pd.i.i;for(b=a.q.La();b;b=b.ya())Jf(b.fe,c,Qf,a.F)}function Rf(a){a.F.u.Set(a.m.M);var c=a.F.u,b=a.m.N;a.F.position.x=a.m.B.x-(c.n.x*b.x+c.p.x*b.y);a.F.position.y=a.m.B.y-(c.n.y*b.x+c.p.y*b.y)}function Sf(a,c){if(2!=a.Ha&&2!=c.Ha)return!1;for(var b=a.jb;b;b=b.next)if(b.Rd==c&&0==b.Bf.qq)return!1;return!0}
y.Xf=function(a){this.m.Xf(a);this.m.B.L(this.m.$b);this.m.M=this.m.Zd;Rf(this)};var Af=0;function Tf(){this.position=Z(0,0);this.K=Z(0,0);this.Sh=this.gi=this.q=this.P=0;this.A=this.k=!0;this.Th=this.i=!1;this.type=0;this.Rc=!0;this.G=1}function Uf(){this.k=[];for(var a=0;a<=Vf;a++)this.k[a]=null;this.q=[];for(a=0;a<=Vf;a++)this.q[a]=null;this.i={}}Uf.prototype.La=function(a){return this.k[a]};
function Of(a,c){var b=c.ic(),d=c.U,e=c.od,h=c.Oh();2==b?Wf(a,c,d,Xf):Yf(a,d,Xf);0!=b?Wf(a,c,d,Zf):Yf(a,d,Zf);0!=b&&h&&e?Wf(a,c,d,$f):Yf(a,d,$f);e?Wf(a,c,d,ag):Yf(a,d,ag);h?Wf(a,c,d,bg):Yf(a,d,bg)}Uf.prototype.bk=function(a){var c=a.U;if(null!=this.i[c]){Ia(a.I,this);for(a=0;a<=Vf;a++)Yf(this,c,a);delete this.i[c]}};function Yf(a,c,b){var d=a.i[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.i,c=c.ya(),null==d?a.k[b]=c:d.next=c,null==c?a.q[b]=d:c.nf(d)))}
function Wf(a,c,b,d){var e=a.i[b];if(null==e){for(var e=[],h=0;h<=Vf;h++)e[h]=null;a.i[b]=e}null==e[d]&&(e[d]=new cg(c),c=a.q[d],null!=c?c.next=e[d]:a.k[d]=e[d],e[d].nf(c),a.q[d]=e[d])}var Xf=0,Zf=1,bg=2,$f=3,ag=4,Vf=5;function cg(a){this.body=a;this.i=this.next=null}cg.prototype.nf=function(a){this.i=a};cg.prototype.Ka=function(){return this.body};cg.prototype.ya=function(){return this.next};function dg(){}
dg.prototype.i=function(a,c){var b=a.G.Rb(),d=c.G.Rb();return b.i==d.i&&0!=b.i?0<b.i:0!=(b.q&d.k)&&0!=(b.k&d.q)};var eg=new dg;function fg(){this.i=[];this.k=[]}function gg(){}gg.prototype.BeginContact=function(){};gg.prototype.EndContact=function(){};function hg(a){this.pd=a;this.q=eg;this.k=ig;this.A=new jg;this.i=new Ne}
function Kf(a){Oe(a.i,function(c,b){a:{var d=c.Ka(),e=b.Ka();if(d!=e&&Sf(e,d)&&a.q.i(c,b)){for(d=e.Vc.La(kg);d;d=d.ya())if(e=d.Ub.Gb,e==c){if(e=d.Ub.wb,e==b)break a}else if(e==b&&(e=d.Ub.wb,e==c))break a;a.A.q(c,b)}}})}hg.prototype.Jc=function(a){a.Jh&&this.k.EndContact(a);0<a.Pd.xb&&(Mf(a.Gb.Ka(),!0),Mf(a.wb.Ka(),!0));lg(a.kk,a);lg(a.lk,a);lg(a.Tl,a);this.A.Jc(a)};function mg(){this.k=1;this.q=65535;this.i=0}mg.prototype.Rb=function(){var a=new mg;a.k=this.k;a.q=this.q;a.i=this.i;return a};
function Ff(a,c,b){this.Fo="Fixture"+ng++;this.G=b.k.Rb();this.i=ve();this.Cn=a;this.Mb=b.i.Rb();this.A=b.kg;this.K=b.ng;this.I=b.Hg;this.q=b.q}Ff.prototype.Ka=function(){return this.Cn};Ff.prototype.Jc=function(){ue.push(this.i)};Ff.prototype.Ci=function(a){null!=this.k&&(a.Ci(this.k),this.k=null)};
function Jf(a,c,b,d){if(a.k){var e=ve(),h=ve();a.Mb.Lh(e,b);a.Mb.Lh(h,d);xe(a.i,e,h);ue.push(e);ue.push(h);b=wd(d.position,b.position);d=a.k;e=c.k;a=a.i;if(we(d.za,a))a=!1;else{Je(e,d);var h=.1+2*Math.abs(b.x),f=.1+2*Math.abs(b.y);d.za.i.x=a.i.x-h;d.za.i.y=a.i.y-f;d.za.k.x=a.k.x+h;d.za.k.y=a.k.y+f;Le(e,d);a=!0}a&&c.i.push(d);ee(b)}}var ng=0;function og(){this.k=new mg;this.k.k=1;this.k.q=65535;this.k.i=0;this.i=null;this.ng=.2;this.kg=this.Hg=0;this.q=!1}
function Df(){this.q=this.k=null;this.i={}}Df.prototype.La=function(){return this.k};function Gf(a){this.fe=a;this.i=this.next=null}Gf.prototype.nf=function(a){this.i=a};Gf.prototype.ya=function(){return this.next};function pg(a,c){this.X=a;this.A=c;this.k=[];this.K=[];this.G=[];this.q=[];this.i=[]}function qg(a){a.k=[];a.K=[];a.G=[];a.q=[];a.i=[]}function rg(a,c){if(null!=a.X)for(var b=0;b<a.q.length;++b)for(var d=c[b],e=new fg,h=0;h<d.G;++h)e.i[h]=d.q[h].yb,e.k[h]=d.q[h].kf}
function sg(a,c){a.k.push(c);0!=c.ic()&&(a.G.push(c),2==c.ic()&&a.K.push(c))}function tg(a,c,b,d,e){this.ra=a;var h=0;0<a&&(h=1/a);this.i=h;this.Jb=c;this.Cj=b;this.Uj=d;this.Vf=e}function ug(a,c){this.i=new hg(this);this.q=new vg;this.k=!1;this.Pg=new Uf;this.Vc=new Bf;this.jb=null;this.K=new Cf;this.I=0;this.U=c;this.A=a;this.G=0;this.Bv=wg(this,new Tf)}var xg=1-100*Number.MIN_VALUE;function wg(a,c){var b=new zf(c,a),d=a.Pg,e=b.U;null==d.i[e]&&(Wf(d,b,e,Vf),Of(d,b),b.I.push(d));return b}
function yg(a,c){for(var b=c.jb;b;){var d=b,b=b.next;zg(a,d.Bf)}for(b=c.W.La();b;b=b.ya())b.it.bk(c);for(b=c.Vc.La(kg);b;b=b.ya())a.i.Jc(b.Ub);for(b=c.q.La();b;b=b.ya()){var d=c,e=b.fe,h=d.q,f=e.Fo,g=h.i[f];if(null!=g){var l=g.i,g=g.ya();null==l?h.k=g:l.next=g;null==g?h.q=l:g.nf(l);delete h.i[f]}for(h=d.Vc.La(kg);h;h=h.ya())e!=h.Ub.Gb&&e!=h.Ub.wb||d.pd.i.Jc(h.Ub);d.X&&e.Ci(d.pd.i.i);e.Jc();e.Cn=null;Hf(d)}c.Jc();a.Pg.bk(c)}
function Ag(a,c){var b=c.q();b.ii=null;if(b.yg=a.jb)a.jb.ii=b;a.jb=b;a.I++;b.Nc.Bf=b;b.Nc.Rd=b.V;b.Nc.prev=null;if(b.Nc.next=b.T.jb)b.T.jb.prev=b.Nc;b.T.jb=b.Nc;b.Oc.Bf=b;b.Oc.Rd=b.T;b.Oc.prev=null;if(b.Oc.next=b.V.jb)b.V.jb.prev=b.Oc;b.V.jb=b.Oc;var d=c.i,e=c.k;if(!c.K)for(var h=e.Vc.La(kg);h;h=h.ya())Bg(h.Ub,e)==d&&(h.Ub.Xi=!0);return b}
function zg(a,c){var b=c.qq;c.ii&&(c.ii.yg=c.yg);c.yg&&(c.yg.ii=c.ii);c==a.jb&&(a.jb=c.yg);var d=c.T,e=c.V;Mf(d,!0);Mf(e,!0);c.Nc.prev&&(c.Nc.prev.next=c.Nc.next);c.Nc.next&&(c.Nc.next.prev=c.Nc.prev);c.Nc==d.jb&&(d.jb=c.Nc.next);c.Nc.prev=null;c.Nc.next=null;c.Oc.prev&&(c.Oc.prev.next=c.Oc.next);c.Oc.next&&(c.Oc.next.prev=c.Oc.prev);c.Oc==e.jb&&(e.jb=c.Oc.next);c.Oc.prev=null;c.Oc.next=null;a.I--;if(!b)for(b=e.Vc.La(kg);b;b=b.ya())Bg(b.Ub,e)==d&&(b.Ub.Xi=!0)}
ug.prototype.ag=function(a,c,b){var d,e;this.k&&(Kf(this.i),this.k=!1);for(var h=new tg(a,this.G*a,c,b,!0),f=this.i,g=f.pd.Vc.La(kg);g;g=g.ya()){var l=g.Ub,n=l.Gb,k=l.wb,m=n.Ka(),p=k.Ka();if(0!=m.od||0!=p.od){if(l.Xi){if(0==Sf(p,m)){f.Jc(l);continue}if(0==f.q.i(n,k)){f.Jc(l);continue}l.Xi=!1}0==f.i.Hi(n.k,k.k)?f.Jc(l):Cg(l,f.k)}}if(0<h.ra){for(var r=this.K.La();r;r=r.ya())r.it.ag(h);for(var u=new pg(this.i.k,this.q),t=this.Pg.La(Vf);t;t=t.ya())t.body.cb=!1;for(var w=this.Vc.La(kg);w;w=w.ya())w.Ub.cb=
!1;for(var q=this.jb;q;q=q.yg)q.cb=!1;for(t=this.Pg.La($f);t;t=t.ya()){var v=t.body;if(!v.cb){qg(u);Dg.length=0;var x=Dg;x.push(v);for(v.cb=!0;0<x.length;){var D=x.pop();sg(u,D);D.od||Mf(D,!0);if(0!=D.ic()){for(w=D.Vc.La(Eg);w;w=w.ya()){var B=w.Ub;if(!B.cb){u.q.push(B);B.cb=!0;var C=Bg(B,D);C.cb||(x.push(C),C.cb=!0)}}for(var E=D.jb;E;E=E.next)!E.Bf.cb&&E.Rd.Oh()&&(u.i.push(E.Bf),E.Bf.cb=!0,E.Rd.cb||(x.push(E.Rd),E.Rd.cb=!0))}}for(var z=u,A=h,J=this.U,F=z,V=A,O=this.A,Q=0;Q<F.K.length;Q++){var W=F.K[Q];
W.r.x+=V.ra*(O.x+W.J*W.k.x);W.r.y+=V.ra*(O.y+W.J*W.k.y);W.H+=V.ra*W.R*W.A;W.r.Ad(xd(1-V.ra*W.Ja,0,1));W.H*=xd(1-V.ra*W.ta,0,1)}Fg(z.A,z.q,z.q.length);for(var Y=z,P=A,K=Y.A,H=0;H<K.k;++H){var M=K.i[H],I=M.i,L=M.k,N=I.J,na=I.R,U=L.J,X=L.R,oa=M.A.x,Ca=M.A.y,Ha=Ca,Ai=-oa,ub=0,Gd=0;if(P.Vf)for(Gd=M.G,ub=0;ub<Gd;++ub){var Ua=M.q[ub];Ua.yb*=P.Jb;Ua.kf*=P.Jb;var Hd=Ua.yb*oa+Ua.kf*Ha,Id=Ua.yb*Ca+Ua.kf*Ai;I.H-=na*(Ua.lb.x*Id-Ua.lb.y*Hd);I.r.x-=N*Hd;I.r.y-=N*Id;L.H+=X*(Ua.mb.x*Id-Ua.mb.y*Hd);L.r.x+=U*Hd;L.r.y+=
U*Id}else for(Gd=M.G,ub=0;ub<Gd;++ub){var lh=M.q[ub];lh.yb=0;lh.kf=0}}for(var Ue=0;Ue<Y.i.length;Ue++)Y.i[Ue].Ne(P);for(var mh=0;mh<P.Uj;mh++){for(var Ve=0;Ve<Y.i.length;Ve++)Y.i[Ve].Pe(P);Gg(Y.A)}for(var oh=0;oh<Y.i.length;oh++);for(var ph=Y.A,We=0;We<ph.k;++We)for(var Xe=ph.i[We],Bi=Xe.X,Jd=0;Jd<Xe.G;++Jd){var qh=Bi.ia[Jd],rh=Xe.q[Jd];qh.wh=rh.yb;qh.xh=rh.kf}for(var sh=z,gb=A,Ye=0;Ye<sh.G.length;++Ye){var ea=sh.G[Ye],th=gb.ra*ea.r.x,uh=gb.ra*ea.r.y;4<th*th+uh*uh&&(he(ea.r),ea.r.x=2*ea.r.x*gb.i,
ea.r.y=2*ea.r.y*gb.i);var vh=gb.ra*ea.H;vh*vh>md&&(ea.H=0>ea.H?-ld*gb.i:ld*gb.i);ea.m.$b.L(ea.m.B);ea.m.Zd=ea.m.M;ea.m.B.x+=gb.ra*ea.r.x;ea.m.B.y+=gb.ra*ea.r.y;ea.m.M+=gb.ra*ea.H;Rf(ea)}for(var Ze=z,Ci=A,wh=0;wh<Ci.Cj;wh++){for(var Di=Hg(Ze.A,.2),$e=!0,af=0;af<Ze.i.length;af++)var Ei=Ze.i[af].Oe(.2),$e=$e&&Ei;if(Di&&$e)break}rg(z,z.A.i);if(J){for(var Kd=z,Fi=A,Ld=Number.MAX_VALUE,bf=0;bf<Kd.G.length;bf++){var vb=Kd.G[bf];!vb.pa||Math.abs(vb.H)>nd||1E-4<pd(vb.r,vb.r)?Ld=vb.K=0:(vb.K+=Fi.ra,Ld=Math.min(Ld,
vb.K))}if(.5<=Ld)for(var cf=0;cf<Kd.k.length;cf++)Mf(Kd.k[cf],!1)}}}for(t=this.Pg.La($f);t;t=t.ya())Pf(t.body);Kf(this.i);for(var ta=new pg(this.i.k,this.q),Md=this.Pg.La(Vf);Md;Md=Md.ya()){var hb=Md.body;hb.cb=!1;hb.m.Gc=0}for(var Da=this.Vc.La(kg);Da;Da=Da.ya())Da.Ub.cb=!1,Da.Ub.i=null;for(var Nd=this.jb;Nd;Nd=Nd.yg)Nd.cb=!1;for(;;){for(var yh=null,df=1,Od=this.Vc.La(Ig);Od;Od=Od.ya()){var Xa=Od.Ub,zh=Xa.Gb.Ka(),Ah=Xa.wb.Ka();if(2==zh.ic()&&zh.od||2==Ah.ic()&&Ah.od){var Pa=1;if(null!=Xa.i)Pa=Xa.i;
else if(Xa.Jh)Pa=1,Xa.i=Pa;else{var ec=Xa.Gb.Ka(),Kc=Xa.wb.Ka(),Lc=ec.m.Gc;ec.m.Gc<Kc.m.Gc?(Lc=Kc.m.Gc,ec.m.Xf(Lc)):Kc.m.Gc<ec.m.Gc&&(Lc=ec.m.Gc,Kc.m.Xf(Lc));var Bh=Xa,Gi=ec.m,Hi=Kc.m;Jg.Mf.Set(Bh.Gb.Mb);Jg.Nf.Set(Bh.wb.Mb);Jg.nr=Gi;Jg.or=Hi;Jg.Dw=.005;var Mc=Jg;Kg++;var ff=Mc.Mf,gf=Mc.Nf,hf=Mc.nr,jf=Mc.or,Pd=ff.Ga+gf.Ga,Qd=Mc.Dw,Ya=0,Nc=0,fc=0;Lg.count=0;for(Mg.q=!1;;){hf.gd(rf,Ya);jf.gd(sf,Ya);Mg.Mf=ff;Mg.Nf=gf;Mg.i=rf;Mg.k=sf;Be(Ng,Lg,Mg);if(0>=Ng.q){Ya=1;break}var Ji=gf,R=kf,wa=Lg,Za=rf,$a=sf;
R.k=ff;R.q=Ji;var wb=void 0,ab=void 0,mb=void 0,xb=void 0,bb=void 0,nb=void 0,hc=0,ic=0,jc=0,kc=0,Rd=0,Sd=0,S=void 0,T=void 0,Qa=0;if(1==wa.count)R.Ha=tf,wb=De(R.k,wa.Eb[0]),xb=De(R.q,wa.Fb[0]),T=wb,S=Za.u,hc=Za.position.x+(S.n.x*T.x+S.p.x*T.y),ic=Za.position.y+(S.n.y*T.x+S.p.y*T.y),T=xb,S=$a.u,jc=$a.position.x+(S.n.x*T.x+S.p.x*T.y),kc=$a.position.y+(S.n.y*T.x+S.p.y*T.y),R.i.x=jc-hc,R.i.y=kc-ic,he(R.i);else{if(wa.Fb[0]==wa.Fb[1])R.Ha=uf,ab=De(R.k,wa.Eb[0]),mb=De(R.k,wa.Eb[1]),xb=De(R.q,wa.Fb[0]),
R.ma.x=.5*(ab.x+mb.x),R.ma.y=.5*(ab.y+mb.y),R.i=rd(wd(mb,ab)),he(R.i),T=R.i,S=Za.u,Rd=S.n.x*T.x+S.p.x*T.y,Sd=S.n.y*T.x+S.p.y*T.y,T=R.ma,S=Za.u,hc=Za.position.x+(S.n.x*T.x+S.p.x*T.y),ic=Za.position.y+(S.n.y*T.x+S.p.y*T.y),T=xb,S=$a.u,jc=$a.position.x+(S.n.x*T.x+S.p.x*T.y),kc=$a.position.y+(S.n.y*T.x+S.p.y*T.y),Qa=(jc-hc)*Rd+(kc-ic)*Sd;else if(wa.Eb[0]==wa.Eb[0])R.Ha=vf,bb=De(R.q,wa.Fb[0]),nb=De(R.q,wa.Fb[1]),wb=De(R.k,wa.Eb[0]),R.ma.x=.5*(bb.x+nb.x),R.ma.y=.5*(bb.y+nb.y),R.i=rd(wd(nb,bb)),he(R.i),
T=R.i,S=$a.u,Rd=S.n.x*T.x+S.p.x*T.y,Sd=S.n.y*T.x+S.p.y*T.y,T=R.ma,S=$a.u,jc=$a.position.x+(S.n.x*T.x+S.p.x*T.y),kc=$a.position.y+(S.n.y*T.x+S.p.y*T.y),T=wb,S=Za.u,hc=Za.position.x+(S.n.x*T.x+S.p.x*T.y),ic=Za.position.y+(S.n.y*T.x+S.p.y*T.y),Qa=(hc-jc)*Rd+(ic-kc)*Sd;else{var ab=De(R.k,wa.Eb[0]),mb=De(R.k,wa.Eb[1]),bb=De(R.q,wa.Fb[0]),nb=De(R.q,wa.Fb[1]),ob=sd(Za.u,wd(mb,ab)),pb=sd($a.u,wd(nb,bb)),Dh=ob.x*ob.x+ob.y*ob.y,lf=pb.x*pb.x+pb.y*pb.y,Td=wd(pb,ob),Eh=ob.x*Td.x+ob.y*Td.y,Fh=pb.x*Td.x+pb.y*Td.y,
Oc=ob.x*pb.x+ob.y*pb.y,Gh=Dh*lf-Oc*Oc,Qa=0;0!=Gh&&(Qa=xd((Oc*Fh-Eh*lf)/Gh,0,1));0>(Oc*Qa+Fh)/lf&&(Qa=xd((Oc-Eh)/Dh,0,1));wb=Z(0,0);wb.x=ab.x+Qa*(mb.x-ab.x);wb.y=ab.y+Qa*(mb.y-ab.y);xb=Z(0,0);xb.x=bb.x+Qa*(nb.x-bb.x);xb.y=bb.y+Qa*(nb.y-bb.y);0==Qa||1==Qa?(R.Ha=vf,R.i=rd(wd(nb,bb)),he(R.i),R.ma=xb):(R.Ha=uf,R.i=rd(wd(mb,ab)),R.ma=wb)}if(0>Qa){var Ud=R.i;Ud.x=-Ud.x;Ud.y=-Ud.y}}var Pc=ef();if(0>=Pc){Ya=1;break}0==Nc&&(fc=Pc>Pd?Math.max(Pd-Qd,.75*Pd):Math.max(Pc-Qd,.02*Pd));if(Pc-fc<.5*Qd){if(0==Nc){Ya=
1;break}break}var mf=Ya,Vd=Ya,Qc=1,nf=Pc;hf.gd(rf,Qc);jf.gd(sf,Qc);var of=ef();if(of>=fc){Ya=1;break}for(var Wd=0;;){var lc=0,lc=Wd&1?Vd+(fc-nf)*(Qc-Vd)/(of-nf):.5*(Vd+Qc);hf.gd(rf,lc);jf.gd(sf,lc);var Xd=ef();if(Math.abs(Xd-fc)<.025*Qd){mf=lc;break}Xd>fc?(Vd=lc,nf=Xd):(Qc=lc,of=Xd);Wd++;Og++;if(50==Wd)break}Pg=Math.max(Pg,Wd);if(mf<(1+100*Number.MIN_VALUE)*Ya)break;Ya=mf;Nc++;Qg++;if(1E3==Nc)break}Rg=Math.max(Rg,Nc);Pa=Ya;0<Pa&&1>Pa&&(Pa=(1-Pa)*Lc+Pa);Xa.i=Pa}Number.MIN_VALUE<Pa&&Pa<df&&(yh=Xa,df=
Pa)}}d=yh;e=df;var yb=d,mc=e;if(null===yb||xg<mc)break;var Rc=yb.Gb.Ka(),Sc=yb.wb.Ka();Sg.Set(Rc.m);Tg.Set(Sc.m);Rc.Xf(mc);Sc.Xf(mc);Cg(yb,this.i.k);yb.i=null;if(yb.G||!yb.enabled)Rc.m.Set(Sg),Sc.m.Set(Tg),Rf(Rc),Rf(Sc);else if(yb.Jh){var Yd=Rc;2!=Yd.ic()&&(Yd=Sc);qg(ta);Dg.length=0;var Tc=Dg;Tc.push(Yd);for(Yd.cb=!0;0<Tc.length;)if(hb=Tc.pop(),sg(ta,hb),hb.od||Mf(hb,!0),2==hb.ic()){for(Da=hb.Vc.La(Eg);Da&&32!=ta.U;Da=Da.ya()){var Zd=Da.Ub;if(!Zd.cb){ta.q.push(Zd);Zd.cb=!0;var nc=Bg(Zd,hb);nc.cb||
(0!=nc.ic()&&(nc.Xf(mc),Mf(nc,!0),Tc.push(nc)),nc.cb=!0)}}for(var Ra=hb.jb;Ra;Ra=Ra.next)32!=ta.I&&!Ra.Bf.cb&&Ra.Rd.Oh()&&(ta.i.push(Ra.Bf),Ra.Bf.cb=!0,Ra.Rd.cb||(0!=Ra.Rd.ic()&&(Ra.Rd.Xf(mc),Mf(Ra.Rd,!0),Tc.push(Ra.Rd)),Ra.Rd.cb=!0))}var Sa=ta,Ma=new tg((1-mc)*h.ra,0,h.Uj,h.Cj,!1),Na=0,zb=0;Fg(Sa.A,Sa.q,Sa.q.length);for(var pf=Sa.A,Na=0;Na<Sa.i.length;++Na)Sa.i[Na].Ne(Ma);for(Na=0;Na<Ma.Uj;++Na)for(Gg(pf),zb=0;zb<Sa.i.length;++zb)Sa.i[zb].Pe(Ma);for(Na=0;Na<Sa.G.length;++Na){var fa=Sa.G[Na],Lh=Ma.ra*
fa.r.x,Mh=Ma.ra*fa.r.y;4<Lh*Lh+Mh*Mh&&(he(fa.r),fa.r.x=2*fa.r.x*Ma.i,fa.r.y=2*fa.r.y*Ma.i);var Nh=Ma.ra*fa.H;Nh*Nh>md&&(fa.H=0>fa.H?-ld*Ma.i:ld*Ma.i);fa.m.$b.L(fa.m.B);fa.m.Zd=fa.m.M;fa.m.B.x+=Ma.ra*fa.r.x;fa.m.B.y+=Ma.ra*fa.r.y;fa.m.M+=Ma.ra*fa.H;Rf(fa)}for(Na=0;Na<Ma.Cj;++Na){for(var Mi=Hg(pf,.75),qf=!0,zb=0;zb<Sa.i.length;++zb)var Ni=Sa.i[zb].Oe(.2),qf=qf&&Ni;if(Mi&&qf)break}rg(Sa,pf.i);for(var za=0;za<ta.k.length;za++)if(ta.k[za].cb=!1,ta.k[za].od&&2==ta.k[za].ic())for(Pf(ta.k[za]),Da=ta.k[za].Vc.La(kg);Da;Da=
Da.ya())Da.Ub.i=null;for(za=0;za<ta.U;za++)ta.q[za].cb=!1,ta.q[za].i=null;for(za=0;za<ta.I;za++)ta.i[za].cb=!1;Kf(this.i)}}this.G=h.i}};ug.prototype.Rg=function(){return this.Vc};var Dg=[];function Ug(a,c){this.k="Contact"+Vg++;this.Pd=new Se;this.A=new Se;this.Jh=!1;var b=a.Ka(),d=c.Ka();this.K=2!=b.ic()||b.G||2!=d.ic()||d.G;this.G=a.q||c.q;this.Xi=!1;this.Gb=a;this.wb=c;this.enabled=!0;this.kk=b.Rg();this.lk=d.Rg();this.Tl=d.pd.Rg();Wg(this)}
Ug.prototype.Zb=function(a,c){this.Pd.Zb();this.A.Zb();this.Jh=!1;var b=a.Ka(),d=c.Ka();this.K=2!=b.ic()||b.G||2!=d.ic()||d.G;this.G=a.q||c.q;this.Xi=!1;this.Gb=a;this.wb=c;this.enabled=!0;this.kk=b.Rg();this.lk=d.Rg();this.Tl=d.pd.Rg();Wg(this)};function Wg(a){Xg(a.kk,a);Xg(a.lk,a);Xg(a.Tl,a);Yg(a)}function Yg(a){var c=!1,b=!1;!a.G&&a.enabled&&(a.Jh&&(c=!0),a.K&&(b=!0));Zg(a.kk,a,c,b);Zg(a.lk,a,c,b);Zg(a.Tl,a,c,b)}function Bg(a,c){var b=a.Gb.Ka();return b!=c?b:a.wb.Ka()}
function Cg(a,c){var b=a.A;a.A=a.Pd;a.Pd=b;a.enabled=!0;var d=!1,b=a.Jh,e=a.Gb.Ka(),h=a.wb.Ka(),f=a.Gb.i.Hi(a.wb.i);if(a.G){if(f){var d=a.Gb.Mb,e=e.gd(),f=a.wb.Mb,g=h.gd(),h=new Fe;h.Mf=new He;h.Mf.Set(d);h.Nf=new He;h.Nf.Set(f);h.i=e;h.k=g;h.q=!0;e=new xf;e.count=0;d=new Ge;Be(d,e,h);d=d.q<10*Number.MIN_VALUE}a.Pd.xb=0}else{a.K=2!=e.ic()||e.G||2!=h.ic()||h.G?!0:!1;if(f)for(a.q(),d=0<a.Pd.xb,f=0;f<a.Pd.xb;f++){g=a.Pd.ia[f];g.wh=0;for(var l=g.xh=0;l<a.A.xb;l++){var n=a.A.ia[l];if(n.le.Db==g.le.Db){g.wh=
n.wh;g.xh=n.xh;break}}}else a.Pd.xb=0;d!=b&&(Mf(e,!0),Mf(h,!0))}a.Jh=d;d!=b&&Yg(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}Ug.prototype.q=function(){};var Jg=new yf,Vg=0;function $g(a,c){Ug.call(this,a,c)}id($g,Ug);$g.prototype.Zb=function(a,c){Ug.prototype.Zb.call(this,a,c)};
$g.prototype.q=function(){var a=this.Pd,c=this.Gb.Mb,b=this.Gb.Ka().F,d=this.wb.Mb,e=this.wb.Ka().F;a.xb=0;var h=e.position.x+(e.u.n.x*d.Ua.x+e.u.p.x*d.Ua.y)-(b.position.x+(b.u.n.x*c.Ua.x+b.u.p.x*c.Ua.y)),b=e.position.y+(e.u.n.y*d.Ua.x+e.u.p.y*d.Ua.y)-(b.position.y+(b.u.n.y*c.Ua.x+b.u.p.y*c.Ua.y)),e=c.Ga+d.Ga;h*h+b*b>e*e||(a.Ha=1,a.ma.L(c.Ua),a.gc.ka(),a.xb=1,a.ia[0].ma.L(d.Ua),re(a.ia[0].le,0))};
function ah(){this.K=Z(0,0);this.ub=Z(0,0);this.A=Z(0,0);this.Ff=new yd;this.I=new yd;this.q=[];for(var a=0;2>a;a++)this.q[a]=new bh}function bh(){this.ub=Z(0,0);this.lb=Z(0,0);this.mb=Z(0,0)}bh.prototype.Zb=function(){this.ub.Set(0,0);this.lb.Set(0,0);this.mb.Set(0,0)};
function jg(){this.i={};this.k={};ch(this,$g,"b2CircleShape","b2CircleShape");ch(this,dh,"b2PolygonShape","b2CircleShape");ch(this,eh,"b2PolygonShape","b2PolygonShape");ch(this,fh,"b2EdgeShape","b2CircleShape");ch(this,gh,"b2PolygonShape","b2EdgeShape")}function ch(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.i[b]=a.i[b]||{};a.i[b][d]=new hh;a.i[b][d].fp=c;a.i[b][d].Mq=!0;b!=d&&(a.i[d]=a.i[d]||{},a.i[d][b]=new hh,a.i[d][b].fp=c,a.i[d][b].Mq=!1)}
jg.prototype.q=function(a,c){var b=a.Mb.Sg(),d=c.Mb.Sg(),e=this.i[b][d],h=e.fp;return null!=h?e.Mq?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Zb(a,c),b):new h(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Zb(c,a),b):new h(c,a):null};jg.prototype.Jc=function(a){this.k[a.Gb.Mb.Sg()][a.wb.Mb.Sg()].push(a)};function Bf(){this.k=[];for(var a=0;a<=kg;a++)this.k[a]=null;this.q=[];for(a=0;a<=kg;a++)this.q[a]=null;this.i={}}Bf.prototype.La=function(a){return this.k[a]};
function Xg(a,c){var b=c.k;if(null==a.i[b]){a.i[b]=[];for(var d=0;d<=kg;d++)a.i[b][d]=null;ih(a,c,b,kg)}}function Zg(a,c,b,d){b?ih(a,c,c.k,Eg):jh(a,c.k,Eg);d?ih(a,c,c.k,Ig):jh(a,c.k,Ig)}function lg(a,c){var b=c.k;if(null!=a.i[b]){for(var d=0;d<=kg;d++)jh(a,b,d);delete a.i[b]}}function jh(a,c,b){var d=a.i[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.i,e=c.ya();null==d?a.k[b]=e:d.next=e;null==e?a.q[b]=d:e.nf(d);kh.push(c)}}
function ih(a,c,b,d){b=a.i[b];if(null==b[d]){if(0<kh.length){var e=kh.pop();e.next=null;e.i=null;e.Ub=c;c=e}else c=new nh(c);b[d]=c;c=a.q[d];null!=c?(c.next=b[d],b[d].nf(c)):a.k[d]=b[d];a.q[d]=b[d]}}var Eg=0,Ig=1,kg=2;function nh(a){this.Ub=a;this.i=this.next=null}var kh=[];nh.prototype.nf=function(a){this.i=a};nh.prototype.ya=function(){return this.next};function hh(){}function vg(){this.i=[]}
function Fg(a,c,b){for(a.k=b;a.i.length<a.k;)a.i[a.i.length]=new ah;for(var d=0;d<b;d++){var e=c[d],h=e.Gb,f=e.wb,g=h.Mb.Ga,l=f.Mb.Ga,n=h.Ka(),k=f.Ka(),e=e.Pd,m=Math.sqrt(h.K*f.K),p,h=h.I,f=f.I;p=h>f?h:f;var f=n.r.x,h=n.r.y,r=k.r.x,u=k.r.y,t=n.H,w=k.H,q=e,v=n.F,x=g,D=k.F,B=l,C=xh;if(0!=q.xb){var E=0,z=void 0,A=void 0,J=0,F=0,V=0,O=0,Q=0,z=0;switch(q.Ha){case 1:A=v.u;z=q.ma;E=v.position.x+A.n.x*z.x+A.p.x*z.y;v=v.position.y+A.n.y*z.x+A.p.y*z.y;A=D.u;z=q.ia[0].ma;q=D.position.x+A.n.x*z.x+A.p.x*z.y;D=
D.position.y+A.n.y*z.x+A.p.y*z.y;z=q-E;A=D-v;J=z*z+A*A;J>od?(J=Math.sqrt(J),C.i.x=z/J,C.i.y=A/J):(C.i.x=1,C.i.y=0);z=v+x*C.i.y;D=D-B*C.i.y;C.ia[0].x=.5*(E+x*C.i.x+(q-B*C.i.x));C.ia[0].y=.5*(z+D);break;case 2:A=v.u;z=q.gc;J=A.n.x*z.x+A.p.x*z.y;F=A.n.y*z.x+A.p.y*z.y;A=v.u;z=q.ma;V=v.position.x+A.n.x*z.x+A.p.x*z.y;O=v.position.y+A.n.y*z.x+A.p.y*z.y;C.i.x=J;C.i.y=F;for(E=0;E<q.xb;E++)A=D.u,z=q.ia[E].ma,Q=D.position.x+A.n.x*z.x+A.p.x*z.y,z=D.position.y+A.n.y*z.x+A.p.y*z.y,C.ia[E].x=Q+.5*(x-(Q-V)*J-(z-
O)*F-B)*J,C.ia[E].y=z+.5*(x-(Q-V)*J-(z-O)*F-B)*F;break;case 4:for(A=D.u,z=q.gc,J=A.n.x*z.x+A.p.x*z.y,F=A.n.y*z.x+A.p.y*z.y,A=D.u,z=q.ma,V=D.position.x+A.n.x*z.x+A.p.x*z.y,O=D.position.y+A.n.y*z.x+A.p.y*z.y,C.i.x=-J,C.i.y=-F,E=0;E<q.xb;E++)A=v.u,z=q.ia[E].ma,Q=v.position.x+A.n.x*z.x+A.p.x*z.y,z=v.position.y+A.n.y*z.x+A.p.y*z.y,C.ia[E].x=Q+.5*(B-(Q-V)*J-(z-O)*F-x)*J,C.ia[E].y=z+.5*(B-(Q-V)*J-(z-O)*F-x)*F}}B=xh.i.x;C=xh.i.y;x=a.i[d];x.i=n;x.k=k;x.X=e;x.A.x=B;x.A.y=C;x.G=e.xb;x.ng=m;x.Hg=p;x.K.x=e.gc.x;
x.K.y=e.gc.y;x.ub.x=e.ma.x;x.ub.y=e.ma.y;x.U=g+l;x.type=e.Ha;for(g=0;g<x.G;++g)m=e.ia[g],l=x.q[g],l.yb=m.wh,l.kf=m.xh,l.ub.L(m.ma),m=l.lb.x=xh.ia[g].x-n.m.B.x,p=l.lb.y=xh.ia[g].y-n.m.B.y,D=l.mb.x=xh.ia[g].x-k.m.B.x,E=l.mb.y=xh.ia[g].y-k.m.B.y,q=m*C-p*B,z=D*C-E*B,q*=q,z*=z,l.Ff=1/(n.J+k.J+n.R*q+k.R*z),A=n.S*n.J+k.S*k.J,A+=n.S*n.R*q+k.S*k.R*z,l.Tt=1/A,z=C,A=-B,q=m*A-p*z,z=D*A-E*z,q*=q,z*=z,l.Bw=1/(n.J+k.J+n.R*q+k.R*z),l.Tj=0,m=x.A.x*(r+-w*E-f- -t*p)+x.A.y*(u+w*D-h-t*m),-1>m&&(l.Tj+=-x.Hg*m);2==x.G&&
(u=x.q[0],r=x.q[1],e=n.J,n=n.R,f=k.J,k=k.R,h=u.lb.x*C-u.lb.y*B,u=u.mb.x*C-u.mb.y*B,t=r.lb.x*C-r.lb.y*B,g=r.mb.x*C-r.mb.y*B,r=e+f+n*h*h+k*u*u,w=e+f+n*t*t+k*g*g,k=e+f+n*h*t+k*u*g,r*r<100*(r*w-k*k)?(x.I.n.Set(r,k),x.I.p.Set(k,w),Bd(x.I,x.Ff)):x.G=1)}}
function Gg(a){for(var c=0;c<a.k;c++){for(var b=a.i[c],d=b.A.x,e=b.A.y,h=0;h<b.G;h++){var f=b,g=b.q[h],l=f.A.y,n=-f.A.x,k=f.ng*g.yb,k=xd(g.kf-g.Bw*((f.k.r.x-f.k.H*g.mb.y-f.i.r.x+f.i.H*g.lb.y)*l+(f.k.r.y+f.k.H*g.mb.x-f.i.r.y-f.i.H*g.lb.x)*n),-k,k),m=k-g.kf,l=m*l,n=m*n;f.i.r.x-=f.i.J*l;f.i.r.y-=f.i.J*n;f.i.H-=f.i.R*(g.lb.x*n-g.lb.y*l);f.k.r.x+=f.k.J*l;f.k.r.y+=f.k.J*n;f.k.H+=f.k.R*(g.mb.x*n-g.mb.y*l);g.kf=k}if(1==b.G)h=b.q[0],f=h.yb-h.Ff*((b.k.r.x-b.k.H*h.mb.y-b.i.r.x+b.i.H*h.lb.y)*d+(b.k.r.y+b.k.H*
h.mb.x-b.i.r.y-b.i.H*h.lb.x)*e-h.Tj),f=0<f?f:0,g=f-h.yb,d=g*d,e=g*e,b.i.r.x-=b.i.J*d,b.i.r.y-=b.i.J*e,b.i.H-=b.i.R*(h.lb.x*e-h.lb.y*d),b.k.r.x+=b.k.J*d,b.k.r.y+=b.k.J*e,b.k.H+=b.k.R*(h.mb.x*e-h.mb.y*d),h.yb=f;else for(h=b.q[0],f=b.q[1],g=h.yb,n=f.yb,k=(b.k.r.x-b.k.H*h.mb.y-b.i.r.x+b.i.H*h.lb.y)*d+(b.k.r.y+b.k.H*h.mb.x-b.i.r.y-b.i.H*h.lb.x)*e-h.Tj,e=(b.k.r.x-b.k.H*f.mb.y-b.i.r.x+b.i.H*f.lb.y)*d+(b.k.r.y+b.k.H*f.mb.x-b.i.r.y-b.i.H*f.lb.x)*e-f.Tj,k-=b.I.n.x*g+b.I.p.x*n,e-=b.I.n.y*g+b.I.p.y*n;;){d=-(b.Ff.n.x*
k+b.Ff.p.x*e);if(0<=d&&(l=-(b.Ff.n.y*k+b.Ff.p.y*e),0<=l)){Ch(b,h,f,d-g,l-n);h.yb=d;f.yb=l;break}d=-h.Ff*k;if(0<=d&&0<=b.I.n.y*d+e){Ch(b,h,f,d-g,-n);h.yb=d;f.yb=0;break}d=-f.Ff*e;if(0<=d&&0<=b.I.p.x*d+k){Ch(b,h,f,-g,d-n);h.yb=0;f.yb=d;break}if(0<=k&&0<=e){Ch(b,h,f,-g,-n);h.yb=0;f.yb=0;break}break}}}
function Ch(a,c,b,d,e){var h=d*a.A.x;d*=a.A.y;var f=e*a.A.x;e*=a.A.y;a.i.r.x-=a.i.J*(h+f);a.i.r.y-=a.i.J*(d+e);a.i.H-=a.i.R*(c.lb.x*d-c.lb.y*h+b.lb.x*e-b.lb.y*f);a.k.r.x+=a.k.J*(h+f);a.k.r.y+=a.k.J*(d+e);a.k.H+=a.k.R*(c.mb.x*d-c.mb.y*h+b.mb.x*e-b.mb.y*f);c.yb=0;b.yb=0}
function Hg(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var e=a.i[d],h=e.i,f=e.k,g=h.S*h.J,l=h.S*h.R,n=f.S*f.J,k=f.S*f.R,m=e,p=Hh;switch(m.type){case 1:var r=m.i.F.u,u=m.ub,t=m.i.F.position.x+(r.n.x*u.x+r.p.x*u.y),w=m.i.F.position.y+(r.n.y*u.x+r.p.y*u.y),r=m.k.F.u,u=m.q[0].ub,q=m.k.F.position.x+(r.n.x*u.x+r.p.x*u.y),r=m.k.F.position.y+(r.n.y*u.x+r.p.y*u.y),u=q-t,v=r-w,x=u*u+v*v;x>od?(x=Math.sqrt(x),p.i.x=u/x,p.i.y=v/x):(p.i.x=1,p.i.y=0);p.ia[0].x=.5*(t+q);p.ia[0].y=.5*(w+r);p.k[0]=u*p.i.x+v*
p.i.y-m.U;break;case 2:p.i.x=m.i.F.u.n.x*m.K.x+m.i.F.u.p.x*m.K.y;p.i.y=m.i.F.u.n.y*m.K.x+m.i.F.u.p.y*m.K.y;t=m.i.F.position.x+(m.i.F.u.n.x*m.ub.x+m.i.F.u.p.x*m.ub.y);w=m.i.F.position.y+(m.i.F.u.n.y*m.ub.x+m.i.F.u.p.y*m.ub.y);for(q=0;q<m.G;q++)r=m.k.F.position.x+(m.k.F.u.n.x*m.q[q].ub.x+m.k.F.u.p.x*m.q[q].ub.y),u=m.k.F.position.y+(m.k.F.u.n.y*m.q[q].ub.x+m.k.F.u.p.y*m.q[q].ub.y),p.k[q]=(r-t)*p.i.x+(u-w)*p.i.y-m.U,p.ia[q].x=r,p.ia[q].y=u;break;case 4:p.i.x=m.k.F.u.n.x*m.K.x+m.k.F.u.p.x*m.K.y;p.i.y=
m.k.F.u.n.y*m.K.x+m.k.F.u.p.y*m.K.y;t=m.k.F.position.x+(m.k.F.u.n.x*m.ub.x+m.k.F.u.p.x*m.ub.y);w=m.k.F.position.y+(m.k.F.u.n.y*m.ub.x+m.k.F.u.p.y*m.ub.y);for(q=0;q<m.G;q++)r=m.i.F.position.x+(m.i.F.u.n.x*m.q[q].ub.x+m.i.F.u.p.x*m.q[q].ub.y),u=m.i.F.position.y+(m.i.F.u.n.y*m.q[q].ub.x+m.i.F.u.p.y*m.q[q].ub.y),p.k[q]=(r-t)*p.i.x+(u-w)*p.i.y-m.U,p.ia[q].Set(r,u);p.i.x*=-1;p.i.y*=-1}p=Hh.i;for(m=0;m<e.G;m++)u=e.q[m],r=Hh.ia[m],v=Hh.k[m],t=r.x-h.m.B.x,w=r.y-h.m.B.y,q=r.x-f.m.B.x,r=r.y-f.m.B.y,b=b<v?b:
v,v=-u.Tt*xd(c*(v+.005),-.2,0),u=v*p.x,v*=p.y,h.m.B.x-=g*u,h.m.B.y-=g*v,h.m.M-=l*(t*v-w*u),Rf(h),f.m.B.x+=n*u,f.m.B.y+=n*v,f.m.M+=k*(q*v-r*u),Rf(f)}return-.0075<b}function fh(a,c){Ug.call(this,a,c)}id(fh,Ug);fh.prototype.Zb=function(a,c){Ug.prototype.Zb.call(this,a,c)};fh.prototype.q=function(){};function dh(a,c){Ug.call(this,a,c)}id(dh,Ug);dh.prototype.Zb=function(a,c){Ug.prototype.Zb.call(this,a,c)};
dh.prototype.q=function(){a:{var a=this.Pd,c=this.Gb.Mb,b=this.Gb.Ka().F,d=this.wb.Mb,e=this.wb.Ka().F;a.xb=0;for(var h=e.position.x+(e.u.n.x*d.Ua.x+e.u.p.x*d.Ua.y)-b.position.x,f=e.position.y+(e.u.n.y*d.Ua.x+e.u.p.y*d.Ua.y)-b.position.y,e=h*b.u.n.x+f*b.u.n.y,b=h*b.u.p.x+f*b.u.p.y,h=0,f=-Number.MAX_VALUE,g=c.Ga+d.Ga,l=0;l<c.Pa;++l){var n=c.Za[l].x*(e-c.O[l].x)+c.Za[l].y*(b-c.O[l].y);if(n>g)break a;n>f&&(f=n,h=l)}n=h+1;n>=c.Pa&&(n=0);var l=c.O[h],k=c.O[n];f<Number.MIN_VALUE?(a.xb=1,a.Ha=2,a.gc.L(c.Za[h]),
a.ma.x=.5*(l.x+k.x),a.ma.y=.5*(l.y+k.y),a.ia[0].ma.L(d.Ua),re(a.ia[0].le,0)):0>=(e-l.x)*(k.x-l.x)+(b-l.y)*(k.y-l.y)?(e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>g*g||(a.xb=1,a.Ha=2,a.gc.x=e-l.x,a.gc.y=b-l.y,he(a.gc),a.ma.L(l),a.ia[0].ma.L(d.Ua),re(a.ia[0].le,0)):0>=(e-k.x)*(l.x-k.x)+(b-k.y)*(l.y-k.y)?(e-k.x)*(e-k.x)+(b-k.y)*(b-k.y)>g*g||(a.xb=1,a.Ha=2,a.gc.x=e-k.x,a.gc.y=b-k.y,he(a.gc),a.ma.L(k),a.ia[0].ma.L(d.Ua),re(a.ia[0].le,0)):(n=.5*(l.x+k.x),l=.5*(l.y+k.y),f=(e-n)*c.Za[h].x+(b-l)*c.Za[h].y,f>g||(a.xb=1,
a.Ha=2,a.gc.x=c.Za[h].x,a.gc.y=c.Za[h].y,he(a.gc),a.ma.Set(n,l),a.ia[0].ma.L(d.Ua),re(a.ia[0].le,0)))}};function gh(a,c){Ug.call(this,a,c)}id(gh,Ug);gh.prototype.Zb=function(a,c){Ug.prototype.Zb.call(this,a,c)};gh.prototype.q=function(){};function eh(a,c){Ug.call(this,a,c)}id(eh,Ug);eh.prototype.Zb=function(a,c){Ug.prototype.Zb.call(this,a,c)};
eh.prototype.q=function(){var a=this.Pd,c=this.Gb.Mb,b=this.Gb.Ka().F,d=this.wb.Mb,e=this.wb.Ka().F;a.xb=0;var h=c.Ga+d.Ga,f=Ae(c,b,d,e),g=f.Uo;if(!(f.Bl>h)){var l=Ae(d,e,c,b);if(!(l.Bl>h)){var n=c,k=d,m=b,p=e,r=0;a.Ha=2;l.Bl>.98*f.Bl+.001&&(n=d,k=c,m=e,p=b,g=l.Uo,a.Ha=4,r=1);c=g;b=k;d=p;k=Ih;void 0===c&&(c=0);for(var f=m.u.n.x*n.Za[c].x+m.u.p.x*n.Za[c].y,l=m.u.n.y*n.Za[c].x+m.u.p.y*n.Za[c].y,e=d.u.n.x*f+d.u.n.y*l,l=d.u.p.x*f+d.u.p.y*l,f=e,e=0,u=Number.MAX_VALUE,t=0;t<b.Pa;t++){var w=f*b.Za[t].x+
l*b.Za[t].y;w<u&&(u=w,e=t)}f=e+1;f>=b.Pa&&(f=0);k[0].Wd.x=d.position.x+(d.u.n.x*b.O[e].x+d.u.p.x*b.O[e].y);k[0].Wd.y=d.position.y+(d.u.n.y*b.O[e].x+d.u.p.y*b.O[e].y);l=k[0].id;l.q=c;l.Db=l.Db&4294967040|l.q&255;l=k[0].id;l.i=e;l.Db=l.Db&4294902015|l.i<<8&65280;e=k[0].id;e.k=0;e.Db=e.Db&4278255615|e.k<<16&16711680;k[1].Wd.x=d.position.x+(d.u.n.x*b.O[f].x+d.u.p.x*b.O[f].y);k[1].Wd.y=d.position.y+(d.u.n.y*b.O[f].x+d.u.p.y*b.O[f].y);b=k[1].id;b.q=c;b.Db=b.Db&4294967040|b.q&255;c=k[1].id;c.i=f;c.Db=c.Db&
4294902015|c.i<<8&65280;c=k[1].id;c.k=1;c.Db=c.Db&4278255615|c.k<<16&16711680;c=n.O[g];g=g+1<n.Pa?n.O[g+1]:n.O[0];Jh.Set(g.x-c.x,g.y-c.y);he(Jh);Kh.x=Jh.y;Kh.y=-Jh.x;Oh.Set(.5*(c.x+g.x),.5*(c.y+g.y));Ph.x=m.u.n.x*Jh.x+m.u.p.x*Jh.y;Ph.y=m.u.n.y*Jh.x+m.u.p.y*Jh.y;Qh.x=-Ph.x;Qh.y=-Ph.y;Rh.x=Ph.y;Rh.y=-Ph.x;Sh.x=m.position.x+(m.u.n.x*c.x+m.u.p.x*c.y);Sh.y=m.position.y+(m.u.n.y*c.x+m.u.p.y*c.y);Th.x=m.position.x+(m.u.n.x*g.x+m.u.p.x*g.y);Th.y=m.position.y+(m.u.n.y*g.x+m.u.p.y*g.y);if(!(2>ye(Uh,Ih,Qh,-Ph.x*
Sh.x-Ph.y*Sh.y+h)||2>ye(Vh,Uh,Ph,Ph.x*Th.x+Ph.y*Th.y+h))){a.gc.L(Kh);a.ma.L(Oh);m=Rh.x*Sh.x+Rh.y*Sh.y;for(n=g=0;2>n;++n)Rh.x*Vh[n].Wd.x+Rh.y*Vh[n].Wd.y-m<=h&&(c=Vh[n].Wd.x-p.position.x,k=Vh[n].Wd.y-p.position.y,a.ia[g].ma.x=c*p.u.n.x+k*p.u.n.y,a.ia[g].ma.y=c*p.u.p.x+k*p.u.p.y,a.ia[g].le.Set(Vh[n].id),c=a.ia[g].le,c.A=r,c.Db=c.Db&16777215|c.A<<24&4278190080,g++);a.xb=g}}}};function Wh(){this.G="Controller"+Xh++;this.pd=null;this.i=new Uf}Wh.prototype.ag=function(){};
Wh.prototype.bk=function(a){this.i.bk(a);a=a.W;var c=this.G,b=a.k[c];if(null!=b){var d=b.i(),b=b.ya();null==d?a.i=b:d.k(b);null==b||b.nf(d);delete a.k[c]}};var Xh=0;function Yh(){Wh.call(this);this.q=Z(0,-1);this.kg=this.offset=0;this.A=Z(0,0);this.k=null}id(Yh,Wh);
Yh.prototype.ag=function(){this.k=this.pd.A.Rb();for(var a=this.i.La(ag);a;a=a.ya()){for(var c=a.body,b=Z(0,0),d=Z(0,0),e=0,h=0,f=c.q.La();f;f=f.ya()){var g=Z(0,0),l=f.fe.Mb.$j(this.q,this.offset,c.gd(),g),e=e+l;b.x+=l*g.x;b.y+=l*g.y;var n=0,n=1,h=h+l*n;d.x+=l*g.x*n;d.y+=l*g.y*n}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=h,d.y/=h,h=this.k.Zf(),h.Ad(this.kg*e),c.Og(h,d),h=Z(c.r.x-c.H*(b.y-c.m.B.y),c.r.y+c.H*(b.x-c.m.B.x)),h.Mo(this.A),h.Ad(-2*e),c.Og(h,b),c.Ul(-c.i/c.S*e*c.H*1),ee(b),ee(d))}};
function Zh(){Wh.call(this);this.k=Z(0,0)}id(Zh,Wh);Zh.prototype.ag=function(a){a=Z(this.k.x*a.ra,this.k.y*a.ra);for(var c=this.i.La(ag);c;c=c.ya()){var b=c.body,d=b.r;Lf(b,Z(d.x+a.x,d.y+a.y))}ee(a)};function $h(){Wh.call(this);this.k=Z(0,0)}id($h,Wh);$h.prototype.ag=function(){for(var a=this.i.La(ag);a;a=a.ya()){var c=a.body;c.Og(this.k,c.m.B)}};function Cf(){this.i=null;this.k={}}Cf.prototype.La=function(){return this.i};function ai(){Wh.call(this)}id(ai,Wh);
ai.prototype.ag=function(){for(var a=null,c=null,b=0,d=null,e=null,h=0,f=0,g=0,h=null,l=this.i.La(Vf);l;l=l.ya())for(var a=l.body,c=a.m.B,b=a.S,n=this.i.La(Vf);n;n=n.ya())if(d=n.body,a.od||d.od)e=d.m.B,h=e.x-c.x,f=e.y-c.y,g=h*h+f*f,g<Number.MIN_VALUE||(h=Z(h,f),h.Ad(1/g/Math.sqrt(g)*b*d.S),a.od&&a.Og(h,c),h.Ad(-1),d.od&&d.Og(h,e),ee(h))};function bi(){Wh.call(this);this.q=new yd;this.k=0}id(bi,Wh);
bi.prototype.ag=function(a){a=a.ra;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.i.La(ag);c;c=c.ya()){var b=c.body,d;d=sd(this.q,td(b.F.u,b.r));d=sd(b.F.u,d);Lf(b,Z(b.r.x+d.x*a,b.r.y+d.y*a))}}};function ci(a){this.Nc=new di;this.Oc=new di;this.Qe=Z(0,0);this.Re=Z(0,0);this.Ha=a.type;this.yg=this.ii=null;this.T=a.i;this.V=a.k;this.qq=a.K}y=ci.prototype;y.ic=function(){return this.Ha};y.Oh=function(){return this.T.Oh()&&this.V.Oh()};y.Ne=function(){};y.Pe=function(){};
y.Oe=function(){return!1};function ei(){this.type=0;this.k=this.i=null;this.K=!1}function di(){}function fi(a){ci.call(this,a);this.fa=Z(0,0);this.ga=Z(0,0);this.i=Z(0,0);this.fa.L(a.I);this.ga.L(a.U);this.G=a.length;this.A=a.G;this.I=a.A;this.K=this.q=this.k=0}id(fi,ci);
fi.prototype.Ne=function(a){var c,b=0,d=this.T,e=this.V;c=d.F.u;var h=this.fa.x-d.m.N.x,f=this.fa.y-d.m.N.y,b=c.n.x*h+c.p.x*f,f=c.n.y*h+c.p.y*f,h=b;c=e.F.u;var g=this.ga.x-e.m.N.x,l=this.ga.y-e.m.N.y,b=c.n.x*g+c.p.x*l,l=c.n.y*g+c.p.y*l,g=b;this.i.x=e.m.B.x+g-d.m.B.x-h;this.i.y=e.m.B.y+l-d.m.B.y-f;b=Math.sqrt(this.i.x*this.i.x+this.i.y*this.i.y);.005<b?this.i.Ad(1/b):this.i.ka();c=h*this.i.y-f*this.i.x;var n=g*this.i.y-l*this.i.x;c=d.J+d.R*c*c+e.J+e.R*n*n;this.S=0!=c?1/c:0;if(0<this.A){var b=b-this.G,
n=2*Math.PI*this.A,k=this.S*n*n;this.q=a.ra*(2*this.S*this.I*n+a.ra*k);this.q=0!=this.q?1/this.q:0;this.K=b*a.ra*k*this.q;this.S=c+this.q;this.S=0!=this.S?1/this.S:0}a.Vf?(this.k*=a.Jb,a=this.k*this.i.x,c=this.k*this.i.y,d.r.x-=d.J*a,d.r.y-=d.J*c,d.H-=d.R*(h*c-f*a),e.r.x+=e.J*a,e.r.y+=e.J*c,e.H+=e.R*(g*c-l*a)):this.k=0};
fi.prototype.Pe=function(){var a=this.fa.x-this.T.m.N.x,c=this.fa.y-this.T.m.N.y,b=this.T.F.u.n.x*a+this.T.F.u.p.x*c,c=this.T.F.u.n.y*a+this.T.F.u.p.y*c,a=b,d=this.ga.x-this.V.m.N.x,e=this.ga.y-this.V.m.N.y,b=this.V.F.u.n.x*d+this.V.F.u.p.x*e,e=this.V.F.u.n.y*d+this.V.F.u.p.y*e,d=b,h=-this.S*(this.i.x*(this.V.r.x-this.V.H*e-(this.T.r.x-this.T.H*c))+this.i.y*(this.V.r.y+this.V.H*d-(this.T.r.y+this.T.H*a))+this.K+this.q*this.k);this.k+=h;b=h*this.i.x;h*=this.i.y;this.T.r.x-=this.T.J*b;this.T.r.y-=this.T.J*
h;this.T.H-=this.T.R*(a*h-c*b);this.V.r.x+=this.V.J*b;this.V.r.y+=this.V.J*h;this.V.H+=this.V.R*(d*h-e*b)};
fi.prototype.Oe=function(){if(0<this.A)return!0;var a=this.fa.x-this.T.m.N.x,c=this.fa.y-this.T.m.N.y,b=this.T.F.u.n.x*a+this.T.F.u.p.x*c,c=this.T.F.u.n.y*a+this.T.F.u.p.y*c,a=b,d=this.ga.x-this.V.m.N.x,e=this.ga.y-this.V.m.N.y,b=this.V.F.u.n.x*d+this.V.F.u.p.x*e,e=this.V.F.u.n.y*d+this.V.F.u.p.y*e,d=b,h=this.V.m.B.x+d-this.T.m.B.x-a,f=this.V.m.B.y+e-this.T.m.B.y-c,g=Math.sqrt(h*h+f*f),b=xd(g-this.G,-.2,.2),l=-this.S*b;this.i.Set(h/g,f/g);h=l*this.i.x;l*=this.i.y;this.T.m.B.x-=this.T.J*h;this.T.m.B.y-=
this.T.J*l;this.T.m.M-=this.T.R*(a*l-c*h);this.V.m.B.x+=this.V.J*h;this.V.m.B.y+=this.V.J*l;this.V.m.M+=this.V.R*(d*l-e*h);Rf(this.T);Rf(this.V);return.005>Math.abs(b)};function gi(){ei.call(this);this.I=Z(0,0);this.U=Z(0,0);this.type=3;this.length=1;this.A=this.G=0}id(gi,ei);gi.prototype.q=function(){return new fi(this)};
function hi(a){ci.call(this,a);this.q=Z(0,0);this.A=Z(0,0);this.K=new yd;this.i=Z(0,0);this.q.L(a.A);this.A.L(a.G);this.K.ka();this.G=0;this.i.ka();this.k=0;this.I=a.I;this.U=a.U}id(hi,ci);
hi.prototype.Ne=function(a){var c,b=0,d=this.T,e=this.V;c=d.F.u;var h=this.q.x-d.m.N.x,f=this.q.y-d.m.N.y,b=c.n.x*h+c.p.x*f,f=c.n.y*h+c.p.y*f,h=b;c=e.F.u;var g=this.A.x-e.m.N.x,l=this.A.y-e.m.N.y,b=c.n.x*g+c.p.x*l,l=c.n.y*g+c.p.y*l,g=b;c=d.J;var b=e.J,n=d.R,k=e.R,m=new yd;m.n.x=c+b;m.p.x=0;m.n.y=0;m.p.y=c+b;m.n.x+=n*f*f;m.p.x+=-n*h*f;m.n.y+=-n*h*f;m.p.y+=n*h*h;m.n.x+=k*l*l;m.p.x+=-k*g*l;m.n.y+=-k*g*l;m.p.y+=k*g*g;Bd(m,this.K);this.G=n+k;0<this.G&&(this.G=1/this.G);a.Vf?(this.i.x*=a.Jb,this.i.y*=a.Jb,
this.k*=a.Jb,a=this.i,d.r.x-=c*a.x,d.r.y-=c*a.y,d.H-=n*(h*a.y-f*a.x+this.k),e.r.x+=b*a.x,e.r.y+=b*a.y,e.H+=k*(g*a.y-l*a.x+this.k)):(this.i.ka(),this.k=0)};
hi.prototype.Pe=function(a){var c,b=0,d=this.T,e=this.V,h=d.r,f=d.H,g=e.r,l=e.H,n=d.J,k=e.J,m=d.R,p=e.R;c=d.F.u;var r=this.q.x-d.m.N.x,u=this.q.y-d.m.N.y,b=c.n.x*r+c.p.x*u,u=c.n.y*r+c.p.y*u,r=b;c=e.F.u;var t=this.A.x-e.m.N.x,w=this.A.y-e.m.N.y,b=c.n.x*t+c.p.x*w,w=c.n.y*t+c.p.y*w,t=b;c=0;var b=-this.G*(l-f),q=this.k;c=a.ra*this.U;this.k=xd(this.k+b,-c,c);b=this.k-q;f-=m*b;l+=p*b;c=sd(this.K,Z(-(g.x-l*w-h.x+f*u),-(g.y+l*t-h.y-f*r)));b=this.i.Rb();this.i.Me(c);c=a.ra*this.I;ge(this.i)>c*c&&(he(this.i),
this.i.Ad(c));c=wd(this.i,b);h.x-=n*c.x;h.y-=n*c.y;f-=m*(r*c.y-u*c.x);g.x+=k*c.x;g.y+=k*c.y;l+=p*(t*c.y-w*c.x);d.H=f;e.H=l};hi.prototype.Oe=function(){return!0};function ii(){ei.call(this);this.A=Z(0,0);this.G=Z(0,0);this.type=9;this.U=this.I=0}id(ii,ei);ii.prototype.q=function(){return new hi(this)};
function ji(a){ci.call(this,a);this.U=Z(0,0);this.X=Z(0,0);this.fa=Z(0,0);this.ga=Z(0,0);this.i=new ki;var c=a.A.Ha,b=a.G.Ha;this.I=this.G=this.K=this.A=null;var d=0,e=0;this.pa=a.A.T;this.T=a.A.V;1==c?(this.A=a.A,this.U.L(this.A.fa),this.fa.L(this.A.ga),d=li(this.A)):(this.K=a.A,this.U.L(this.K.fa),this.fa.L(this.K.ga),d=this.K.Di());this.ta=a.G.T;this.V=a.G.V;1==b?(this.G=a.G,this.X.L(this.G.fa),this.ga.L(this.G.ga),e=li(this.G)):(this.I=a.G,this.X.L(this.I.fa),this.ga.L(this.I.ga),e=this.I.Di());
this.k=a.I;this.W=d+this.k*e;this.q=0}id(ji,ci);
ji.prototype.Ne=function(a){var c=this.pa,b=this.ta,d=this.T,e=this.V,h=0,f=0,g=0,l=0,n=g=0,k=0;this.i.ka();this.A?(this.i.q=-1,k+=d.R):(c=c.F.u,f=this.K.$c,h=c.n.x*f.x+c.p.x*f.y,f=c.n.y*f.x+c.p.y*f.y,c=d.F.u,g=this.fa.x-d.m.N.x,l=this.fa.y-d.m.N.y,n=c.n.x*g+c.p.x*l,l=c.n.y*g+c.p.y*l,g=n*f-l*h,this.i.i.Set(-h,-f),this.i.q=-g,k+=d.J+d.R*g*g);this.G?(this.i.A=-this.k,k+=this.k*this.k*e.R):(c=b.F.u,f=this.I.$c,h=c.n.x*f.x+c.p.x*f.y,f=c.n.y*f.x+c.p.y*f.y,c=e.F.u,g=this.ga.x-e.m.N.x,l=this.ga.y-e.m.N.y,
n=c.n.x*g+c.p.x*l,l=c.n.y*g+c.p.y*l,g=n*f-l*h,this.i.k.Set(-this.k*h,-this.k*f),this.i.A=-this.k*g,k+=this.k*this.k*(e.J+e.R*g*g));this.S=0<k?1/k:0;a.Vf?(d.r.x+=d.J*this.q*this.i.i.x,d.r.y+=d.J*this.q*this.i.i.y,d.H+=d.R*this.q*this.i.q,e.r.x+=e.J*this.q*this.i.k.x,e.r.y+=e.J*this.q*this.i.k.y,e.H+=e.R*this.q*this.i.A):this.q=0};
ji.prototype.Pe=function(){var a=this.T,c=this.V,b=this.i,d=a.r,e=a.H,h=c.r,f=c.H;void 0===e&&(e=0);void 0===f&&(f=0);b=-this.S*(b.i.x*d.x+b.i.y*d.y+b.q*e+(b.k.x*h.x+b.k.y*h.y)+b.A*f);this.q+=b;a.r.x+=a.J*b*this.i.i.x;a.r.y+=a.J*b*this.i.i.y;a.H+=a.R*b*this.i.q;c.r.x+=c.J*b*this.i.k.x;c.r.y+=c.J*b*this.i.k.y;c.H+=c.R*b*this.i.A};
ji.prototype.Oe=function(){var a=this.T,c=this.V,b=0,d=0;this.A?b=li(this.A):b=this.K.Di();this.G?d=li(this.G):d=this.I.Di();b=-this.S*(this.W-(b+this.k*d));a.m.B.x+=a.J*b*this.i.i.x;a.m.B.y+=a.J*b*this.i.i.y;a.m.M+=a.R*b*this.i.q;c.m.B.x+=c.J*b*this.i.k.x;c.m.B.y+=c.J*b*this.i.k.y;c.m.M+=c.R*b*this.i.A;Rf(a);Rf(c);return!0};function mi(){ei.call(this);this.type=6;this.G=this.A=null;this.I=1}id(mi,ei);mi.prototype.q=function(){return new ji(this)};function ki(){this.i=Z(0,0);this.k=Z(0,0)}
ki.prototype.ka=function(){this.i.ka();this.q=0;this.k.ka();this.A=0};ki.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.i.L(a);this.q=c;this.k.L(b);this.A=d};
function ni(a){ci.call(this,a);this.fa=Z(0,0);this.ga=Z(0,0);this.$c=Z(0,0);this.hd=Z(0,0);this.k=Z(0,0);this.I=Z(0,0);this.W=new yd;this.i=Z(0,0);this.fa.L(a.U);this.ga.L(a.X);this.$c.L(a.A);this.hd.x=-this.$c.y;this.hd.y=this.$c.x;this.i.ka();this.ua=this.Xa=0;this.Sb=a.W;this.jc=a.Xa;this.Wl=a.pa;this.Zl=a.ta;this.Tg=a.G;this.Fi=a.I;this.Ja=0;this.k.ka();this.I.ka()}id(ni,ci);
ni.prototype.Di=function(){var a=this.T,c=this.V,b=Nf(a,this.fa),d=Nf(c,this.ga),c=d.x-b.x,b=d.y-b.y,a=sd(a.F.u,this.$c);return a.x*c+a.y*b};
ni.prototype.Ne=function(a){var c=this.T,b=this.V,d,e=0;this.Qe.L(c.m.N);this.Re.L(b.m.N);var h=c.gd();b.gd();d=c.F.u;var f=this.fa.x-this.Qe.x,g=this.fa.y-this.Qe.y,e=d.n.x*f+d.p.x*g,g=d.n.y*f+d.p.y*g,f=e;d=b.F.u;var l=this.ga.x-this.Re.x,n=this.ga.y-this.Re.y,e=d.n.x*l+d.p.x*n,n=d.n.y*l+d.p.y*n,l=e;d=b.m.B.x+l-c.m.B.x-f;e=b.m.B.y+n-c.m.B.y-g;this.U=c.J;this.X=b.J;this.pa=c.R;this.ta=b.R;this.k.L(sd(h.u,this.$c));this.q=(d+f)*this.k.y-(e+g)*this.k.x;this.A=l*this.k.y-n*this.k.x;this.Xa=this.U+this.X+
this.pa*this.q*this.q+this.ta*this.A*this.A;this.Xa=this.Xa>Number.MIN_VALUE?1/this.Xa:0;this.I.L(sd(h.u,this.hd));this.G=(d+f)*this.I.y-(e+g)*this.I.x;this.K=l*this.I.y-n*this.I.x;h=this.U;f=this.X;g=this.pa;l=this.ta;this.W.n.x=h+f+g*this.G*this.G+l*this.K*this.K;this.W.n.y=g*this.G*this.q+l*this.K*this.A;this.W.p.x=this.W.n.y;this.W.p.y=h+f+g*this.q*this.q+l*this.A*this.A;this.Tg?(d=this.k.x*d+this.k.y*e,.01>Math.abs(this.jc-this.Sb)?this.Ja=3:d<=this.Sb?1!=this.Ja&&(this.Ja=1,this.i.y=0):d>=this.jc?
2!=this.Ja&&(this.Ja=2,this.i.y=0):(this.Ja=0,this.i.y=0)):this.Ja=0;0==this.Fi&&(this.ua=0);a.Vf?(this.i.x*=a.Jb,this.i.y*=a.Jb,this.ua*=a.Jb,a=this.i.x*this.I.x+(this.ua+this.i.y)*this.k.x,d=this.i.x*this.I.y+(this.ua+this.i.y)*this.k.y,e=this.i.x*this.G+(this.ua+this.i.y)*this.q,h=this.i.x*this.K+(this.ua+this.i.y)*this.A,c.r.x-=this.U*a,c.r.y-=this.U*d,c.H-=this.pa*e,b.r.x+=this.X*a,b.r.y+=this.X*d,b.H+=this.ta*h):(this.i.ka(),this.ua=0)};
ni.prototype.Pe=function(a){var c=this.T,b=this.V,d=c.r,e=c.H,h=b.r,f=b.H,g=0,l=0,n=0,k=0;this.Fi&&3!=this.Ja&&(k=this.Xa*(this.Zl-(this.k.x*(h.x-d.x)+this.k.y*(h.y-d.y)+this.A*f-this.q*e)),g=this.ua,l=a.ra*this.Wl,this.ua=xd(this.ua+k,-l,l),k=this.ua-g,g=k*this.k.x,l=k*this.k.y,n=k*this.q,k*=this.A,d.x-=this.U*g,d.y-=this.U*l,e-=this.pa*n,h.x+=this.X*g,h.y+=this.X*l,f+=this.ta*k);l=this.I.x*(h.x-d.x)+this.I.y*(h.y-d.y)+this.K*f-this.G*e;this.Tg&&0!=this.Ja?(n=this.k.x*(h.x-d.x)+this.k.y*(h.y-d.y)+
this.A*f-this.q*e,g=this.i.Rb(),a=Cd(this.W,Z(0,0),-l,-n),this.i.Me(a),1==this.Ja?this.i.y=Math.max(this.i.y,0):2==this.Ja&&(this.i.y=Math.min(this.i.y,0)),l=-l-(this.i.y-g.y)*this.W.p.x,n=0,n=0!=this.W.n.x?l/this.W.n.x+g.x:g.x,this.i.x=n,a.x=this.i.x-g.x,a.y=this.i.y-g.y,g=a.x*this.I.x+a.y*this.k.x,l=a.x*this.I.y+a.y*this.k.y,n=a.x*this.G+a.y*this.q,k=a.x*this.K+a.y*this.A):(a=0,a=0!=this.W.n.x?-l/this.W.n.x:0,this.i.x+=a,g=a*this.I.x,l=a*this.I.y,n=a*this.G,k=a*this.K);d.x-=this.U*g;d.y-=this.U*
l;e-=this.pa*n;h.x+=this.X*g;h.y+=this.X*l;f+=this.ta*k;c.r.L(d);c.H=e;b.r.L(h);b.H=f};
ni.prototype.Oe=function(){var a=this.T,c=this.V,b=a.m.B,d=a.m.M,e=c.m.B,h=c.m.M,f,g=0,l=0,n=0,k=0,m=f=0,p=0,l=!1,r=0,u=zd(d),n=zd(h);f=u;var p=this.fa.x-this.Qe.x,t=this.fa.y-this.Qe.y,g=f.n.x*p+f.p.x*t,t=f.n.y*p+f.p.y*t,p=g;f=n;n=this.ga.x-this.Re.x;k=this.ga.y-this.Re.y;g=f.n.x*n+f.p.x*k;k=f.n.y*n+f.p.y*k;n=g;f=e.x+n-b.x-p;g=e.y+k-b.y-t;if(this.Tg){this.k=sd(u,this.$c);this.q=(f+p)*this.k.y-(g+t)*this.k.x;this.A=n*this.k.y-k*this.k.x;var w=this.k.x*f+this.k.y*g;.01>Math.abs(this.jc-this.Sb)?(r=
xd(w,-.2,.2),m=Math.abs(w),l=!0):w<=this.Sb?(r=xd(w-this.Sb+.005,-.2,0),m=this.Sb-w,l=!0):w>=this.jc&&(r=xd(w-this.jc+.005,0,.2),m=w-this.jc,l=!0)}this.I=sd(u,this.hd);this.G=(f+p)*this.I.y-(g+t)*this.I.x;this.K=n*this.I.y-k*this.I.x;u=Z(0,0);t=this.I.x*f+this.I.y*g;m=Math.max(m,Math.abs(t));p=0;l?(l=this.U,n=this.X,k=this.pa,f=this.ta,this.W.n.x=l+n+k*this.G*this.G+f*this.K*this.K,this.W.n.y=k*this.G*this.q+f*this.K*this.A,this.W.p.x=this.W.n.y,this.W.p.y=l+n+k*this.q*this.q+f*this.A*this.A,Cd(this.W,
u,-t,-r)):(l=this.U,n=this.X,k=this.pa,f=this.ta,r=l+n+k*this.G*this.G+f*this.K*this.K,u.x=0!=r?-t/r:0,u.y=0);r=u.x*this.I.x+u.y*this.k.x;l=u.x*this.I.y+u.y*this.k.y;t=u.x*this.G+u.y*this.q;u=u.x*this.K+u.y*this.A;b.x-=this.U*r;b.y-=this.U*l;d-=this.pa*t;e.x+=this.X*r;e.y+=this.X*l;h+=this.ta*u;a.m.M=d;c.m.M=h;Rf(a);Rf(c);return.005>=m&&p<=jd};function oi(){ei.call(this);this.U=Z(0,0);this.X=Z(0,0);this.A=Z(0,0);this.type=7;this.A.Set(1,0);this.G=!1;this.Xa=this.W=0;this.I=!1;this.ta=this.pa=0}
id(oi,ei);oi.prototype.q=function(){return new ni(this)};function pi(a){ci.call(this,a);this.fa=Z(0,0);this.ga=Z(0,0);this.$c=Z(0,0);this.hd=Z(0,0);this.I=Z(0,0);this.W=Z(0,0);this.k=new Dd;this.i=new Ed(0,0,0);this.fa.L(a.U);this.ga.L(a.X);this.$c.L(a.A);this.hd.x=-this.$c.y;this.hd.y=this.$c.x;this.Gs=a.Xa;this.i.ka();this.ua=this.Xa=0;this.Sb=a.W;this.jc=a.ua;this.Wl=a.pa;this.Zl=a.ta;this.Tg=a.G;this.Fi=a.I;this.Ja=0;this.I.ka();this.W.ka()}id(pi,ci);
pi.prototype.Di=function(){var a=this.T,c=this.V,b=Nf(a,this.fa),d=Nf(c,this.ga),c=d.x-b.x,b=d.y-b.y,a=sd(a.F.u,this.$c);return a.x*c+a.y*b};
pi.prototype.Ne=function(a){var c=this.T,b=this.V,d,e=0;this.Qe.L(c.m.N);this.Re.L(b.m.N);var h=c.gd();b.gd();d=c.F.u;var f=this.fa.x-this.Qe.x,g=this.fa.y-this.Qe.y,e=d.n.x*f+d.p.x*g,g=d.n.y*f+d.p.y*g,f=e;d=b.F.u;var l=this.ga.x-this.Re.x,n=this.ga.y-this.Re.y,e=d.n.x*l+d.p.x*n,n=d.n.y*l+d.p.y*n,l=e;d=b.m.B.x+l-c.m.B.x-f;e=b.m.B.y+n-c.m.B.y-g;this.U=c.J;this.X=b.J;this.pa=c.R;this.ta=b.R;this.I.L(sd(h.u,this.$c));this.q=(d+f)*this.I.y-(e+g)*this.I.x;this.A=l*this.I.y-n*this.I.x;this.Xa=this.U+this.X+
this.pa*this.q*this.q+this.ta*this.A*this.A;this.Xa>Number.MIN_VALUE&&(this.Xa=1/this.Xa);this.W.L(sd(h.u,this.hd));this.G=(d+f)*this.W.y-(e+g)*this.W.x;this.K=l*this.W.y-n*this.W.x;h=this.U;f=this.X;g=this.pa;l=this.ta;this.k.n.x=h+f+g*this.G*this.G+l*this.K*this.K;this.k.n.y=g*this.G+l*this.K;this.k.n.z=g*this.G*this.q+l*this.K*this.A;this.k.p.x=this.k.n.y;this.k.p.y=g+l;this.k.p.z=g*this.q+l*this.A;this.k.i.x=this.k.n.z;this.k.i.y=this.k.p.z;this.k.i.z=h+f+g*this.q*this.q+l*this.A*this.A;this.Tg?
(d=this.I.x*d+this.I.y*e,.01>Math.abs(this.jc-this.Sb)?this.Ja=3:d<=this.Sb?1!=this.Ja&&(this.Ja=1,this.i.z=0):d>=this.jc?2!=this.Ja&&(this.Ja=2,this.i.z=0):(this.Ja=0,this.i.z=0)):this.Ja=0;0==this.Fi&&(this.ua=0);a.Vf?(this.i.x*=a.Jb,this.i.y*=a.Jb,this.ua*=a.Jb,a=this.i.x*this.W.x+(this.ua+this.i.z)*this.I.x,d=this.i.x*this.W.y+(this.ua+this.i.z)*this.I.y,e=this.i.x*this.G+this.i.y+(this.ua+this.i.z)*this.q,h=this.i.x*this.K+this.i.y+(this.ua+this.i.z)*this.A,c.r.x-=this.U*a,c.r.y-=this.U*d,c.H-=
this.pa*e,b.r.x+=this.X*a,b.r.y+=this.X*d,b.H+=this.ta*h):(this.i.ka(),this.ua=0)};
pi.prototype.Pe=function(a){var c=this.T,b=this.V,d=c.r,e=c.H,h=b.r,f=b.H,g=0,l=0,n=0,k=0;this.Fi&&3!=this.Ja&&(k=this.Xa*(this.Zl-(this.I.x*(h.x-d.x)+this.I.y*(h.y-d.y)+this.A*f-this.q*e)),g=this.ua,a=a.ra*this.Wl,this.ua=xd(this.ua+k,-a,a),k=this.ua-g,g=k*this.I.x,l=k*this.I.y,n=k*this.q,k*=this.A,d.x-=this.U*g,d.y-=this.U*l,e-=this.pa*n,h.x+=this.X*g,h.y+=this.X*l,f+=this.ta*k);n=this.W.x*(h.x-d.x)+this.W.y*(h.y-d.y)+this.K*f-this.G*e;l=f-e;this.Tg&&0!=this.Ja?(a=this.I.x*(h.x-d.x)+this.I.y*(h.y-
d.y)+this.A*f-this.q*e,g=this.i.Rb(),a=$d(this.k,new Ed(0,0,0),-n,-l,-a),this.i.Me(a),1==this.Ja?this.i.z=Math.max(this.i.z,0):2==this.Ja&&(this.i.z=Math.min(this.i.z,0)),n=-n-(this.i.z-g.z)*this.k.i.x,l=-l-(this.i.z-g.z)*this.k.i.y,l=Fd(this.k,Z(0,0),n,l),l.x+=g.x,l.y+=g.y,this.i.x=l.x,this.i.y=l.y,a.x=this.i.x-g.x,a.y=this.i.y-g.y,a.z=this.i.z-g.z,g=a.x*this.W.x+a.z*this.I.x,l=a.x*this.W.y+a.z*this.I.y,n=a.x*this.G+a.y+a.z*this.q,k=a.x*this.K+a.y+a.z*this.A,d.x-=this.U*g,d.y-=this.U*l,e-=this.pa*
n,h.x+=this.X*g,h.y+=this.X*l,f+=this.ta*k):(a=Fd(this.k,Z(0,0),-n,-l),this.i.x+=a.x,this.i.y+=a.y,g=a.x*this.W.x,l=a.x*this.W.y,n=a.x*this.G+a.y,k=a.x*this.K+a.y,d.x-=this.U*g,d.y-=this.U*l,e-=this.pa*n,h.x+=this.X*g,h.y+=this.X*l,f+=this.ta*k);c.r.L(d);c.H=e;b.r.L(h);b.H=f};
pi.prototype.Oe=function(){var a=this.T,c=this.V,b=a.m.B,d=a.m.M,e=c.m.B,h=c.m.M,f,g=0,l=0,n=0,k=g=f=0,m=0,l=!1,p=0,r=zd(d),u=zd(h);f=r;var m=this.fa.x-this.Qe.x,t=this.fa.y-this.Qe.y,g=f.n.x*m+f.p.x*t,t=f.n.y*m+f.p.y*t,m=g;f=u;u=this.ga.x-this.Re.x;n=this.ga.y-this.Re.y;g=f.n.x*u+f.p.x*n;n=f.n.y*u+f.p.y*n;u=g;f=e.x+u-b.x-m;g=e.y+n-b.y-t;if(this.Tg){this.I=sd(r,this.$c);this.q=(f+m)*this.I.y-(g+t)*this.I.x;this.A=u*this.I.y-n*this.I.x;var w=this.I.x*f+this.I.y*g;.01>Math.abs(this.jc-this.Sb)?(p=xd(w,
-.2,.2),k=Math.abs(w),l=!0):w<=this.Sb?(p=xd(w-this.Sb+.005,-.2,0),k=this.Sb-w,l=!0):w>=this.jc&&(p=xd(w-this.jc+.005,0,.2),k=w-this.jc,l=!0)}this.W=sd(r,this.hd);this.G=(f+m)*this.W.y-(g+t)*this.W.x;this.K=u*this.W.y-n*this.W.x;r=new Ed(0,0,0);t=this.W.x*f+this.W.y*g;u=h-d-this.Gs;k=Math.max(k,Math.abs(t));m=Math.abs(u);l?(l=this.U,n=this.X,f=this.pa,g=this.ta,this.k.n.x=l+n+f*this.G*this.G+g*this.K*this.K,this.k.n.y=f*this.G+g*this.K,this.k.n.z=f*this.G*this.q+g*this.K*this.A,this.k.p.x=this.k.n.y,
this.k.p.y=f+g,this.k.p.z=f*this.q+g*this.A,this.k.i.x=this.k.n.z,this.k.i.y=this.k.p.z,this.k.i.z=l+n+f*this.q*this.q+g*this.A*this.A,$d(this.k,r,-t,-u,-p)):(l=this.U,n=this.X,f=this.pa,g=this.ta,p=f*this.G+g*this.K,w=f+g,this.k.n.Set(l+n+f*this.G*this.G+g*this.K*this.K,p,0),this.k.p.Set(p,w,0),p=Fd(this.k,Z(0,0),-t,-u),r.x=p.x,r.y=p.y,r.z=0);p=r.x*this.W.x+r.z*this.I.x;l=r.x*this.W.y+r.z*this.I.y;t=r.x*this.G+r.y+r.z*this.q;r=r.x*this.K+r.y+r.z*this.A;b.x-=this.U*p;b.y-=this.U*l;d-=this.pa*t;e.x+=
this.X*p;e.y+=this.X*l;h+=this.ta*r;a.m.M=d;c.m.M=h;Rf(a);Rf(c);return.005>=k&&m<=jd};function qi(){ei.call(this);this.U=Z(0,0);this.X=Z(0,0);this.A=Z(0,0);this.type=2;this.A.Set(1,0);this.Xa=0;this.G=!1;this.ua=this.W=0;this.I=!1;this.ta=this.pa=0}id(qi,ei);qi.prototype.q=function(){return new pi(this)};
function ri(a){ci.call(this,a);this.U=Z(0,0);this.X=Z(0,0);this.fa=Z(0,0);this.ga=Z(0,0);this.i=Z(0,0);this.k=Z(0,0);this.G=this.T.pd.Bv;this.U.x=a.A.x-this.G.F.position.x;this.U.y=a.A.y-this.G.F.position.y;this.X.x=a.G.x-this.G.F.position.x;this.X.y=a.G.y-this.G.F.position.y;this.fa.L(a.I);this.ga.L(a.U);this.q=a.X;this.ta=0+0*this.q;this.jc=Math.min(0,this.ta-this.q*si);this.hd=Math.min(0,(this.ta-si)/this.q);this.I=this.K=this.A=0}id(ri,ci);
ri.prototype.Ne=function(a){var c=this.T,b=this.V,d;d=c.F.u;var e=this.fa.x-c.m.N.x,h=this.fa.y-c.m.N.y,f=d.n.x*e+d.p.x*h,h=d.n.y*e+d.p.y*h,e=f;d=b.F.u;var g=this.ga.x-b.m.N.x,l=this.ga.y-b.m.N.y,f=d.n.x*g+d.p.x*l,l=d.n.y*g+d.p.y*l,g=f;d=b.m.B.x+g;var f=b.m.B.y+l,n=this.G.F.position.x+this.X.x,k=this.G.F.position.y+this.X.y;this.i.Set(c.m.B.x+e-(this.G.F.position.x+this.U.x),c.m.B.y+h-(this.G.F.position.y+this.U.y));this.k.Set(d-n,f-k);d=fe(this.i);f=fe(this.k);.005<d?this.i.Ad(1/d):this.i.ka();.005<
f?this.k.Ad(1/f):this.k.ka();0<this.ta-d-this.q*f?this.A=this.Sb=0:this.Sb=2;d<this.jc?this.K=this.ua=0:this.ua=2;f<this.hd?this.I=this.Ja=0:this.Ja=2;d=e*this.i.y-h*this.i.x;f=g*this.k.y-l*this.k.x;this.W=c.J+c.R*d*d;this.pa=b.J+b.R*f*f;this.Xa=this.W+this.q*this.q*this.pa;this.W=1/this.W;this.pa=1/this.pa;this.Xa=1/this.Xa;a.Vf?(this.A*=a.Jb,this.K*=a.Jb,this.I*=a.Jb,a=(-this.A-this.K)*this.i.x,d=(-this.A-this.K)*this.i.y,f=(-this.q*this.A-this.I)*this.k.x,n=(-this.q*this.A-this.I)*this.k.y,c.r.x+=
c.J*a,c.r.y+=c.J*d,c.H+=c.R*(e*d-h*a),b.r.x+=b.J*f,b.r.y+=b.J*n,b.H+=b.R*(g*n-l*f)):this.I=this.K=this.A=0};
ri.prototype.Pe=function(){var a=this.T,c=this.V,b;b=a.F.u;var d=this.fa.x-a.m.N.x,e=this.fa.y-a.m.N.y,h=b.n.x*d+b.p.x*e,e=b.n.y*d+b.p.y*e,d=h;b=c.F.u;var f=this.ga.x-c.m.N.x,g=this.ga.y-c.m.N.y,h=b.n.x*f+b.p.x*g,g=b.n.y*f+b.p.y*g,f=h,l=h=b=0,n=0;b=n=b=n=l=h=b=0;2==this.Sb&&(b=a.r.x+-a.H*e,h=a.r.y+a.H*d,l=c.r.x+-c.H*g,n=c.r.y+c.H*f,b=-(this.i.x*b+this.i.y*h)-this.q*(this.k.x*l+this.k.y*n),n=this.Xa*-b,b=this.A,this.A=Math.max(0,this.A+n),n=this.A-b,b=-n*this.i.x,h=-n*this.i.y,l=-this.q*n*this.k.x,
n=-this.q*n*this.k.y,a.r.x+=a.J*b,a.r.y+=a.J*h,a.H+=a.R*(d*h-e*b),c.r.x+=c.J*l,c.r.y+=c.J*n,c.H+=c.R*(f*n-g*l));2==this.ua&&(b=a.r.x+-a.H*e,h=a.r.y+a.H*d,b=-(this.i.x*b+this.i.y*h),n=-this.W*b,b=this.K,this.K=Math.max(0,this.K+n),n=this.K-b,b=-n*this.i.x,h=-n*this.i.y,a.r.x+=a.J*b,a.r.y+=a.J*h,a.H+=a.R*(d*h-e*b));2==this.Ja&&(l=c.r.x+-c.H*g,n=c.r.y+c.H*f,b=-(this.k.x*l+this.k.y*n),n=-this.pa*b,b=this.I,this.I=Math.max(0,this.I+n),n=this.I-b,l=-n*this.k.x,n=-n*this.k.y,c.r.x+=c.J*l,c.r.y+=c.J*n,c.H+=
c.R*(f*n-g*l))};
ri.prototype.Oe=function(){var a=this.T,c=this.V,b,d=this.G.F.position.x+this.U.x,e=this.G.F.position.y+this.U.y,h=this.G.F.position.x+this.X.x,f=this.G.F.position.y+this.X.y,g=0,l=0,n=0,k=0,m=b=0,p=0,r=0,u=m=r=b=m=b=0;2==this.Sb&&(b=a.F.u,g=this.fa.x-a.m.N.x,l=this.fa.y-a.m.N.y,m=b.n.x*g+b.p.x*l,l=b.n.y*g+b.p.y*l,g=m,b=c.F.u,n=this.ga.x-c.m.N.x,k=this.ga.y-c.m.N.y,m=b.n.x*n+b.p.x*k,k=b.n.y*n+b.p.y*k,n=m,b=a.m.B.x+g,m=a.m.B.y+l,p=c.m.B.x+n,r=c.m.B.y+k,this.i.Set(b-d,m-e),this.k.Set(p-h,r-f),b=fe(this.i),
m=fe(this.k),.005<b?this.i.Ad(1/b):this.i.ka(),.005<m?this.k.Ad(1/m):this.k.ka(),b=this.ta-b-this.q*m,u=Math.max(u,-b),b=xd(b+.005,-.2,0),r=-this.Xa*b,b=-r*this.i.x,m=-r*this.i.y,p=-this.q*r*this.k.x,r=-this.q*r*this.k.y,a.m.B.x+=a.J*b,a.m.B.y+=a.J*m,a.m.M+=a.R*(g*m-l*b),c.m.B.x+=c.J*p,c.m.B.y+=c.J*r,c.m.M+=c.R*(n*r-k*p),Rf(a),Rf(c));2==this.ua&&(b=a.F.u,g=this.fa.x-a.m.N.x,l=this.fa.y-a.m.N.y,m=b.n.x*g+b.p.x*l,l=b.n.y*g+b.p.y*l,g=m,b=a.m.B.x+g,m=a.m.B.y+l,this.i.Set(b-d,m-e),b=fe(this.i),.005<b?
(this.i.x*=1/b,this.i.y*=1/b):this.i.ka(),b=this.jc-b,u=Math.max(u,-b),b=xd(b+.005,-.2,0),r=-this.W*b,b=-r*this.i.x,m=-r*this.i.y,a.m.B.x+=a.J*b,a.m.B.y+=a.J*m,a.m.M+=a.R*(g*m-l*b),Rf(a));2==this.Ja&&(b=c.F.u,n=this.ga.x-c.m.N.x,k=this.ga.y-c.m.N.y,m=b.n.x*n+b.p.x*k,k=b.n.y*n+b.p.y*k,n=m,p=c.m.B.x+n,r=c.m.B.y+k,this.k.Set(p-h,r-f),m=fe(this.k),.005<m?(this.k.x*=1/m,this.k.y*=1/m):this.k.ka(),b=this.hd-m,u=Math.max(u,-b),b=xd(b+.005,-.2,0),r=-this.pa*b,p=-r*this.k.x,r=-r*this.k.y,c.m.B.x+=c.J*p,c.m.B.y+=
c.J*r,c.m.M+=c.R*(n*r-k*p),Rf(c));return.005>u};var si=1;function ti(){ei.call(this);this.A=Z(0,0);this.G=Z(0,0);this.I=Z(0,0);this.U=Z(0,0);this.type=4;this.A.Set(-1,1);this.G.Set(1,1);this.I.Set(-1,0);this.U.Set(1,0);this.X=1;this.K=!0}id(ti,ei);ti.prototype.q=function(){return new ri(this)};
function ui(a){ci.call(this,a);this.W=new yd;this.I=new yd;this.U=new yd;this.X=new yd;this.k=new Ed(0,0,0);this.A=Z(0,0);this.K=Z(0,0);this.fa=Z(0,0);this.ga=Z(0,0);this.i=new Ed(0,0,0);this.S=new Dd;this.fa.L(a.A);this.ga.L(a.G);this.ua=a.U;this.i.ka();this.G=0;this.pa=a.X;this.Ja=a.W;this.hd=a.Xa;this.jc=a.ta;this.ta=a.I;this.Sb=a.pa;this.q=0}id(ui,ci);function li(a){return a.V.m.M-a.T.m.M-a.ua}
ui.prototype.Ne=function(a){var c=this.T,b=this.V,d,e=0;d=c.F.u;var h=this.fa.x-c.m.N.x,f=this.fa.y-c.m.N.y,e=d.n.x*h+d.p.x*f,f=d.n.y*h+d.p.y*f,h=e;d=b.F.u;var g=this.ga.x-b.m.N.x,l=this.ga.y-b.m.N.y,e=d.n.x*g+d.p.x*l,l=d.n.y*g+d.p.y*l,g=e;d=c.J;var e=b.J,n=c.R,k=b.R;this.S.n.x=d+e+f*f*n+l*l*k;this.S.p.x=-f*h*n-l*g*k;this.S.i.x=-f*n-l*k;this.S.n.y=this.S.p.x;this.S.p.y=d+e+h*h*n+g*g*k;this.S.i.y=h*n+g*k;this.S.n.z=this.S.i.x;this.S.p.z=this.S.i.y;this.S.i.z=n+k;this.Xa=1/(n+k);this.Sb||(this.G=0);
if(this.ta){var m=b.m.M-c.m.M-this.ua;Math.abs(this.Ja-this.pa)<2*jd?this.q=3:m<=this.pa?(1!=this.q&&(this.i.z=0),this.q=1):m>=this.Ja?(2!=this.q&&(this.i.z=0),this.q=2):(this.q=0,this.i.z=0)}else this.q=0;a.Vf?(this.i.x*=a.Jb,this.i.y*=a.Jb,this.G*=a.Jb,a=this.i.x,m=this.i.y,c.r.x-=d*a,c.r.y-=d*m,c.H-=n*(h*m-f*a+this.G+this.i.z),b.r.x+=e*a,b.r.y+=e*m,b.H+=k*(g*m-l*a+this.G+this.i.z)):(this.i.ka(),this.G=0)};
ui.prototype.Pe=function(a){var c=this.T,b=this.V,d=0,e=d=0,h=0,f=0,g=0,l=c.r,n=c.H,k=b.r,m=b.H,p=c.J,r=b.J,u=c.R,t=b.R;this.Sb&&3!=this.q&&(e=this.Xa*-(m-n-this.jc),h=this.G,f=a.ra*this.hd,this.G=xd(this.G+e,-f,f),e=this.G-h,n-=u*e,m+=t*e);if(this.ta&&0!=this.q){a=c.F.u;e=this.fa.x-c.m.N.x;h=this.fa.y-c.m.N.y;d=a.n.x*e+a.p.x*h;h=a.n.y*e+a.p.y*h;e=d;a=b.F.u;f=this.ga.x-b.m.N.x;g=this.ga.y-b.m.N.y;d=a.n.x*f+a.p.x*g;g=a.n.y*f+a.p.y*g;f=d;a=k.x+-m*g-l.x- -n*h;var w=k.y+m*f-l.y-n*e;$d(this.S,this.k,-a,
-w,-(m-n));3==this.q?this.i.Me(this.k):1==this.q?(d=this.i.z+this.k.z,0>d&&(Fd(this.S,this.K,-a,-w),this.k.x=this.K.x,this.k.y=this.K.y,this.k.z=-this.i.z,this.i.x+=this.K.x,this.i.y+=this.K.y,this.i.z=0)):2==this.q&&(d=this.i.z+this.k.z,0<d&&(Fd(this.S,this.K,-a,-w),this.k.x=this.K.x,this.k.y=this.K.y,this.k.z=-this.i.z,this.i.x+=this.K.x,this.i.y+=this.K.y,this.i.z=0));l.x-=p*this.k.x;l.y-=p*this.k.y;n-=u*(e*this.k.y-h*this.k.x+this.k.z);k.x+=r*this.k.x;k.y+=r*this.k.y;m+=t*(f*this.k.y-g*this.k.x+
this.k.z)}else a=c.F.u,e=this.fa.x-c.m.N.x,h=this.fa.y-c.m.N.y,d=a.n.x*e+a.p.x*h,h=a.n.y*e+a.p.y*h,e=d,a=b.F.u,f=this.ga.x-b.m.N.x,g=this.ga.y-b.m.N.y,d=a.n.x*f+a.p.x*g,g=a.n.y*f+a.p.y*g,f=d,Fd(this.S,this.A,-(k.x+-m*g-l.x- -n*h),-(k.y+m*f-l.y-n*e)),this.i.x+=this.A.x,this.i.y+=this.A.y,l.x-=p*this.A.x,l.y-=p*this.A.y,n-=u*(e*this.A.y-h*this.A.x),k.x+=r*this.A.x,k.y+=r*this.A.y,m+=t*(f*this.A.y-g*this.A.x);c.r.L(l);c.H=n;b.r.L(k);b.H=m};
ui.prototype.Oe=function(){var a=0,c,b=this.T,d=this.V,e=0,h=c=0,f=0,h=0;if(this.ta&&0!=this.q){var a=d.m.M-b.m.M-this.ua,g=0;3==this.q?(a=xd(a-this.pa,-kd,kd),g=-this.Xa*a,e=Math.abs(a)):1==this.q?(a-=this.pa,e=-a,a=xd(a+jd,-kd,0),g=-this.Xa*a):2==this.q&&(e=a-=this.Ja,a=xd(a-jd,0,kd),g=-this.Xa*a);b.m.M-=b.R*g;d.m.M+=d.R*g;Rf(b);Rf(d)}c=b.F.u;g=this.fa.x-b.m.N.x;a=this.fa.y-b.m.N.y;h=c.n.x*g+c.p.x*a;a=c.n.y*g+c.p.y*a;g=h;c=d.F.u;var l=this.ga.x-d.m.N.x,n=this.ga.y-d.m.N.y,h=c.n.x*l+c.p.x*n,n=c.n.y*
l+c.p.y*n,l=h,f=d.m.B.x+l-b.m.B.x-g,h=d.m.B.y+n-b.m.B.y-a,k=f*f+h*h;c=Math.sqrt(k);var m=b.J,p=d.J,r=b.R,u=d.R;k>.05*.05&&(k=1/(m+p),f=k*-f,h=k*-h,b.m.B.x-=.5*m*f,b.m.B.y-=.5*m*h,d.m.B.x+=.5*p*f,d.m.B.y+=.5*p*h,f=d.m.B.x+l-b.m.B.x-g,h=d.m.B.y+n-b.m.B.y-a);this.I.n.x=m+p;this.I.p.x=0;this.I.n.y=0;this.I.p.y=m+p;this.U.n.x=r*a*a;this.U.p.x=-r*g*a;this.U.n.y=-r*g*a;this.U.p.y=r*g*g;this.X.n.x=u*n*n;this.X.p.x=-u*l*n;this.X.n.y=-u*l*n;this.X.p.y=u*l*l;Ad(this.W,this.I);m=this.W;p=this.U;m.n.Me(p.n);m.p.Me(p.p);
m=this.W;p=this.X;m.n.Me(p.n);m.p.Me(p.p);Cd(this.W,vi,-f,-h);f=vi.x;h=vi.y;b.m.B.x-=b.J*f;b.m.B.y-=b.J*h;b.m.M-=b.R*(g*h-a*f);d.m.B.x+=d.J*f;d.m.B.y+=d.J*h;d.m.M+=d.R*(l*h-n*f);Rf(b);Rf(d);return.005>=c&&e<=jd};var vi=Z(0,0);function wi(){ei.call(this);this.A=Z(0,0);this.G=Z(0,0);this.type=1;this.A.ka();this.G.ka();this.ta=this.Xa=this.W=this.X=this.U=0;this.pa=this.I=!1}id(wi,ei);function xi(a,c,b,d){a.i=c;a.k=b;a.A=vd(a.i.F,d);a.G=vd(a.k.F,d);a.U=a.k.Qg()-a.i.Qg()}wi.prototype.q=function(){return new ui(this)};
function yi(a){ci.call(this,a);this.k=Z(0,0);this.q=Z(0,0);this.i=new Ed(0,0,0);this.S=new Dd;this.k.L(a.A);this.q.L(a.G);this.A=a.I}id(yi,ci);
yi.prototype.Ne=function(a){var c,b=0,d=this.T,e=this.V;c=d.F.u;var h=this.k.x-d.m.N.x,f=this.k.y-d.m.N.y,b=c.n.x*h+c.p.x*f,f=c.n.y*h+c.p.y*f,h=b;c=e.F.u;var g=this.q.x-e.m.N.x,l=this.q.y-e.m.N.y,b=c.n.x*g+c.p.x*l,l=c.n.y*g+c.p.y*l,g=b;c=d.J;var b=e.J,n=d.R,k=e.R;this.S.n.x=c+b+f*f*n+l*l*k;this.S.p.x=-f*h*n-l*g*k;this.S.i.x=-f*n-l*k;this.S.n.y=this.S.p.x;this.S.p.y=c+b+h*h*n+g*g*k;this.S.i.y=h*n+g*k;this.S.n.z=this.S.i.x;this.S.p.z=this.S.i.y;this.S.i.z=n+k;a.Vf?(this.i.x*=a.Jb,this.i.y*=a.Jb,this.i.z*=
a.Jb,d.r.x-=c*this.i.x,d.r.y-=c*this.i.y,d.H-=n*(h*this.i.y-f*this.i.x+this.i.z),e.r.x+=b*this.i.x,e.r.y+=b*this.i.y,e.H+=k*(g*this.i.y-l*this.i.x+this.i.z)):this.i.ka()};
yi.prototype.Pe=function(){var a,c=0,b=this.T,d=this.V,e=b.r,h=b.H,f=d.r,g=d.H,l=b.J,n=d.J,k=b.R,m=d.R;a=b.F.u;var p=this.k.x-b.m.N.x,r=this.k.y-b.m.N.y,c=a.n.x*p+a.p.x*r,r=a.n.y*p+a.p.y*r,p=c;a=d.F.u;var u=this.q.x-d.m.N.x,t=this.q.y-d.m.N.y,c=a.n.x*u+a.p.x*t,t=a.n.y*u+a.p.y*t,u=c;a=new Ed(0,0,0);$d(this.S,a,-(f.x-g*t-e.x+h*r),-(f.y+g*u-e.y-h*p),-(g-h));this.i.Me(a);e.x-=l*a.x;e.y-=l*a.y;h-=k*(p*a.y-r*a.x+a.z);f.x+=n*a.x;f.y+=n*a.y;g+=m*(u*a.y-t*a.x+a.z);b.H=h;d.H=g};
yi.prototype.Oe=function(){var a,c=0,b=this.T,d=this.V;a=b.F.u;var e=this.k.x-b.m.N.x,h=this.k.y-b.m.N.y,c=a.n.x*e+a.p.x*h,h=a.n.y*e+a.p.y*h,e=c;a=d.F.u;var f=this.q.x-d.m.N.x,g=this.q.y-d.m.N.y,c=a.n.x*f+a.p.x*g,g=a.n.y*f+a.p.y*g,f=c;a=b.J;var c=d.J,l=b.R,n=d.R,k=d.m.B.x+f-b.m.B.x-e,m=d.m.B.y+g-b.m.B.y-h,p=d.m.M-b.m.M-this.A,r=Math.sqrt(k*k+m*m),u=Math.abs(p);.05<r&&(l*=1,n*=1);this.S.n.x=a+c+h*h*l+g*g*n;this.S.p.x=-h*e*l-g*f*n;this.S.i.x=-h*l-g*n;this.S.n.y=this.S.p.x;this.S.p.y=a+c+e*e*l+f*f*n;
this.S.i.y=e*l+f*n;this.S.n.z=this.S.i.x;this.S.p.z=this.S.i.y;this.S.i.z=l+n;var t=new Ed(0,0,0);$d(this.S,t,-k,-m,-p);b.m.B.x-=a*t.x;b.m.B.y-=a*t.y;b.m.M-=l*(e*t.y-h*t.x+t.z);d.m.B.x+=c*t.x;d.m.B.y+=c*t.y;d.m.M+=n*(f*t.y-g*t.x+t.z);Rf(b);Rf(d);return.005>=r&&u<=jd};function zi(){ei.call(this);this.A=Z(0,0);this.G=Z(0,0);this.type=8;this.I=0}id(zi,ei);zi.prototype.q=function(){return new yi(this)};
var Ih=[new se,new se],Uh=[new se,new se],Vh=[new se,new se],Jh=Z(0,0),Kh=Z(0,0),Oh=Z(0,0),Rh=Z(0,0),Ph=Z(0,0),Qh=Z(0,0),Sh=Z(0,0),Th=Z(0,0),Kg=0,Qg=0,Rg=0,Og=0,Pg=0,Lg=new xf,Mg=new Fe,rf=new be,sf=new be,kf=new function(){this.ma=Z(0,0);this.i=Z(0,0)},Ng=new Ge,Qf=new be,ig=new gg;new function(){this.position=Z(0,0);Z(0,0);Z(0,0);this.id=new qe};new be;
var Sg=new ae,Tg=new ae,Jg=new yf,xh=new function(){this.i=Z(0,0);this.ia=[];for(var a=this.xb=0;2>a;a++)this.ia[a]=Z(0,0)},Hh=new function(){this.i=Z(0,0);this.k=[];this.ia=[];for(var a=0;2>a;a++)this.ia[a]=Z(0,0)};function Ii(a,c,b,d,e,h){var f;if(f=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=h-.1||d-.1<=c&&c<=h+.1))f=.1<Math.abs(e-b)?.1>Math.abs((h-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}
function Ki(a,c){var b=Li(a),d=[],e,h,f,g,l,n,k,m,p;l=0;for(n=b.length;l<n;l++){h=b[l];e=[];e.length=h.length;k=p=0;for(m=h.length;k<m;k++)f=h[k],g=h[(k+1)%m],p+=f.x*g.y-f.y*g.x,e[k]=Z(f.x,f.y);p=Math.abs(p/2);p>=.001*c&&d.push(e)}return d}
function Li(a){var c=[],b=0,d=0,e=0,h=0,f=0,g=f=0,l=0,n=0,k=0,h=0,m,p,r,u,t,w=h=b=0,q=0,e=[],l=[],v=!1,x=[],D=[];for(D.push(a);D.length;){c=D[0];d=c.length;v=!0;for(b=0;b<d;b++)if(n=b,k=b<d-1?b+1:b+1-d,h=b<d-2?b+2:b+2-d,a=c[n],m=c[k],p=c[h],h=a.x,e=a.y,l=m.x,f=m.y,g=p.x,p=p.y,h=h*f+l*p+g*e-e*l-f*g-p*h,0>h){v=!1;l=1E9;for(e=0;e<d;e++)if(e!==n&&e!==k){b=e;h=e<d-1?e+1:0;r=c[b];u=c[h];g=a.x;p=a.y;var B=m.x,C=m.y,f=r.x;r=r.y;var E=u.x;u=u.y;var z=B-g,A=C-p,J=E-f,F=u-r,J=(J*(r-p)-F*(f-g))/(A*J-z*F),z=g+
J*z,A=p+J*A,g=Ii(B,C,g,p,z,A),f=Ii(z,A,f,r,E,u);if(p=g&&f?Z(z,A):null)f=m.x-p.x,g=m.y-p.y,f=f*f+g*g,f<l&&(q=b,w=h,t=p,l=f)}if(1E9===l)return[];e=[];l=[];b=q;h=w;r=c[b];u=c[h];w=t.y;q=u.y;.1>Math.abs(u.x-t.x)&&.1>Math.abs(q-w)||e.push(t);w=t.y;q=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(q-w)||l.push(t);q=-1;for(w=n;;){if(w!==h)e.push(c[w]);else{if(0>q||q>=d)return[];Ii(u.x,u.y,c[q].x,c[q].y,a.x,a.y)||e.push(c[w]);break}q=w;0>w-1?w=d-1:w--}e.reverse();q=-1;for(w=k;;){if(w!==b)l.push(c[w]);else{if(0>q||
q>=d)return[];w!==b||Ii(r.x,r.y,c[q].x,c[q].y,m.x,m.y)||l.push(c[w]);break}q=w;w+1>d-1?w=0:w++}D.push(e,l);D.shift();break}v&&x.push(D.shift())}return x}
function Oi(a){for(var c=0;4E3>c;c++)de.push(new ce(0,0));this.j=a;this.fd=new ug(Z(0,10),!0);this.tn=-1;a=new gg;a.behavior=this;a.BeginContact=function(a){this.behavior.j.Sq(a.Gb.Ka().Ve.C,a.wb.Ka().Ve.C)};this.fd.i.k=a;a=new dg;a.behavior=this;a.i=function(a,c){if(this.behavior.Us)return!0;var e=a.Ka().Ve.C.type,h=c.Ka().Ve.C.type,f=e.ca.Physics_DisabledCollisions;return f&&f.contains(h)?!1:(f=h.ca.Physics_DisabledCollisions)&&f.contains(e)?!1:!0};this.fd.i.q=a;this.zw=0;this.Uj=8;this.Cj=3;this.Us=
!0}
(function(){function a(){}var c=Oi.prototype;c.ib=function(a){this.behavior=a;this.j=a.j};c.ib.prototype.Ea=function(){};c.Ya=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.j=a.j;this.fd=this.behavior.fd};var b=c.Ya.prototype;b.Ea=function(){this.Vm=0!==this.da[0];this.cp=this.da[1];this.Qn=0!==this.da[2];this.kg=this.da[3];this.ng=this.da[4];this.Hg=this.da[5];this.gi=this.da[6];this.Sh=this.da[7];this.Th=0!==this.da[8];this.enabled=0!==this.da[9];this.body=null;this.C.Qa();this.Vk=
this.C.x;this.Wk=this.C.y;this.$e=this.C.P;this.rn=this.un=0;this.Qq=this.sn=!1;this.nn=null;this.pn=-1;this.qd?(this.qd.length=0,this.ne.length=0,this.Af.clear()):(this.qd=[],this.ne=[],this.Af=new ba);var a=this;this.bd||(this.tq=function(b){a.Mv(b)});this.j.Oo(this.tq)};b.Lq=function(){this.C.Qa();this.um();this.nn=this.C.fb;this.pn=this.C.ea};b.Dg=function(){this.yk();this.ne.length=0;this.Af.clear();this.body&&(yg(this.fd,this.body),this.body=null);this.j.iw(this.tq)};b.rc=function(){var a={e:this.enabled,
im:this.Vm,pr:this.Qn,d:this.kg,fr:this.ng,re:this.Hg,ld:this.gi,ad:this.Sh,b:this.Th,mcj:this.ne};if(this.enabled){var b=Z(0,0);b.L(this.body.r);a.vx=b.x;a.vy=b.y;a.om=this.body.H}return a};b.Mc=function(a){this.yk();this.ne.length=0;this.Af.clear();this.body&&(yg(this.fd,this.body),this.body=null);this.enabled=a.e;this.Vm=a.im;this.Qn=a.pr;this.kg=a.d;this.ng=a.fr;this.Hg=a.re;this.gi=a.ld;this.Sh=a.ad;this.Th=a.b;this.Vk=this.C.x;this.Wk=this.C.y;this.$e=this.C.P;this.un=this.C.width;this.rn=this.C.height;
this.enabled&&(this.um(),Lf(this.body,Z(a.vx,a.vy)),this.body.ck(a.om),0===a.vx&&0===a.vy&&0===a.om||Mf(this.body,!0),this.ne=a.mcj)};b.pf=function(){this.enabled&&this.Vn();this.behavior.tn=this.j.Vd-1};b.Mv=function(a){var b,c,d,l=a.uid;d=b=0;for(c=this.ne.length;b<c;b++)this.ne[d]=this.ne[b],d<this.qd.length&&(this.qd[d]=this.qd[b]),this.ne[b].Fe[1]==l?zg(this.fd,this.qd[b]):d++;this.ne.length=d;d<this.qd.length&&(this.qd.length=d);this.Af.remove(a)};b.yk=function(){var a,b;a=0;for(b=this.qd.length;a<
b;a++)zg(this.fd,this.qd[a]);this.qd.length=0};b.Vn=function(){var a,b,c;a=0;for(b=this.ne.length;a<b;a++)switch(c=this.ne[a],c.type){case 0:this.yt(c.Fe[0],c.Fe[1],c.Fe[2],c.Fe[3],c.Fe[4]);break;case 1:this.At(c.Fe[0],c.Fe[1]);break;case 2:this.zt(c.Fe[0],c.Fe[1],c.Fe[2],c.Fe[3])}};b.ot=function(){this.body&&(this.yk(),yg(this.fd,this.body),this.body=null,this.C.ca.ae=null)};var d=[];b.um=function(){if(this.enabled){var a=this.C,b=!1,c=null,g=null,l,n,k,m,p,r,u,t,w,q,v,x,D;if(this.body){b=!0;c=Z(0,
0);c.L(this.body.r);g=this.body.H;t=this.Af.Xd();l=0;for(n=t.length;l<n;l++)w=t[l].ca.ae.Ve,w.yk();this.ot()}w=new og;w.kg=this.kg;w.ng=this.ng;w.Hg=this.Hg;l=new Tf;l.type=this.Vm?0:2;a.Qa();l.position.x=.02*a.ab.Bg();l.position.y=.02*a.ab.Cg();l.P=a.P;l.i=this.Qn;l.gi=this.gi;l.Sh=this.Sh;l.Th=this.Th;t=this.C.Aa&&!this.C.Aa.mh();this.body=wg(this.fd,l);this.body.Ve=this;l=this.cp;t||this.C.Rf||0!==this.cp||(l=1);n=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);q=0>a.width;v=0>a.height;
if(0===l)if(a.Rf)for(x=a.ab.Bg()-a.x,u=a.ab.Cg()-a.y,a.Bu(d),t=[],l=0,n=d.length;l<n;++l){q=d[l];v=q.Ta;if(q.Pc){if(!q.Pc.rk){p=q.Pc.Wa;m=q.Pc.Qc;for(k=0;k<m;++k)t.push(Z(p[2*k],p[2*k+1]));k=q.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&t.reverse();q.Pc.rk=Ki(t,(v.right-v.left)*(v.bottom-v.top));k=0;for(m=t.length;k<m;++k)ee(t[k]);t.length=0}k=0;for(m=q.Pc.rk.length;k<m;++k){D=q.Pc.rk[k];p=0;for(r=D.length;p<r;++p)t.push(Z(.02*(v.left+
D[p].x-x),.02*(v.top+D[p].y-u)));w.i=new me;oe(w.i,t);Ef(this.body,w);p=0;for(r=t.length;p<r;++p)ee(t[p]);t.length=0}}else t.push(Z(.02*(v.left-x),.02*(v.top-u))),t.push(Z(.02*(v.right-x),.02*(v.top-u))),t.push(Z(.02*(v.right-x),.02*(v.bottom-u))),t.push(Z(.02*(v.left-x),.02*(v.bottom-u))),w.i=new me,oe(w.i,t),Ef(this.body,w);k=0;for(m=t.length;k<m;++k)ee(t[k]);t.length=0}else{l=a.P;a.P=0;a.la();a.Qa();x=a.ab.Bg()-a.x;u=a.ab.Cg()-a.y;a.P=l;a.la();a.Aa.gg(q?-n:n,v?-k:k,0);p=a.Aa.Wa;m=a.Aa.Qc;t=[];
t.length=m;for(l=0;l<m;l++)t[l]=Z(p[2*l]-x,p[2*l+1]-u);q!==v&&t.reverse();x=Ki(t,n*k);for(l=0;l<m;l++)ee(t[l]);if(x.length)for(l=0,n=x.length;l<n;l++){t=x[l];k=0;for(m=t.length;k<m;k++)u=t[k],u.x*=.02,u.y*=.02;w.i=new me;oe(w.i,t);Ef(this.body,w);k=0;for(m=t.length;k<m;k++)ee(t[k])}else w.i=new me,pe(w.i,.01*n,.01*k),Ef(this.body,w)}else 1===l?(w.i=new me,pe(w.i,.01*n,.01*k)):w.i=new je(.01*Math.min(n,k)),Ef(this.body,w);a.ca.ae=this.body;this.un=a.width;this.rn=a.height;if(b)for(Lf(this.body,c),
this.body.ck(g),ee(c),this.Vn(),t=this.Af.Xd(),l=0,n=t.length;l<n;l++)w=t[l].ca.ae.Ve,w.Vn();d.length=0}};b.wd=function(){if(this.enabled){var a=this.C,b;0===this.behavior.zw?b=this.j.Ih/60:(b=this.j.Zh(this.C),b>1/30&&(b=1/30));if(this.j.Vd>this.behavior.tn&&0<this.j.Ih){this.fd.ag(b,this.behavior.Uj,this.behavior.Cj);for(b=this.fd.Pg.La(Xf);b;b=b.ya())b.body.k.ka(),b.body.A=0;this.behavior.tn=this.j.Vd}if(this.Qq||a.width!==this.un||a.height!==this.rn||a.fb!==this.nn||a.ea!==this.pn||a.Rf&&a.Bh)this.um(),
this.Qq=!1,this.nn=a.fb,this.pn=a.ea,a.Rf&&a.Bh&&(a.Bh=!1);b=a.P!==this.$e;if(a.x!==this.Vk||a.y!==this.Wk){a.Qa();var c=a.ab.Bg(),d=a.ab.Cg(),l=c-this.Vk,n=d-this.Wk,k=this.body,c=Z(.02*c,.02*d);If(k,c,k.Qg());Lf(this.body,Z(l,n));this.sn=!0;Mf(this.body,!0)}else this.sn&&(this.sn=!1,Lf(this.body,Z(0,0)),l=this.body,n=Z(.02*a.ab.Bg(),.02*a.ab.Cg()),If(l,n,l.Qg()));b&&(this.body.$l(a.P),Mf(this.body,!0));l=this.body.F.position;b=l.x/.02;l=l.y/.02;n=this.body.Qg();if(b!==a.x||l!==a.y||n!==a.P)if(a.x=
b,a.y=l,a.P=n,a.la(),a.Qa(),b=a.ab.Bg()-a.x,l=a.ab.Cg()-a.y,0!==b||0!==l)a.x-=b,a.y-=l,a.la();this.Vk=a.x;this.Wk=a.y;this.$e=a.P}};b.Kk=function(a){return-1!==a&&this.C.he?0===a&&this.body?(this.body.F.position.x+this.body.m.N.x)/.02:this.C.he(a,!0):this.C.x};b.Lk=function(a){return-1!==a&&this.C.he?0===a&&this.body?(this.body.F.position.y+this.body.m.N.y)/.02:this.C.he(a,!1):this.C.y};c.aa=new function(){};a.prototype.Og=function(a,b,c){if(this.enabled){var d=this.Kk(c);c=this.Lk(c);this.body.Og(Z(a,
b),Z(.02*d,.02*c))}};a.prototype.Ul=function(a){this.enabled&&this.body.Ul(Ja(a))};a.prototype.ck=function(a){this.enabled&&(this.body.ck(Ja(a)),Mf(this.body,!0))};b.yt=function(a,b,c,d,l){if(this.enabled){var n=this.j.$i(b);if(n&&n!=this.C&&n.ca.ae){n.ca.ae.Ve.Af.add(this.C);var k=this.Kk(a),m=this.Lk(a),p,r;n.he?(p=n.he(c,!0),r=n.he(c,!1)):(p=n.x,r=n.y);c=k-p;a=m-r;b=new gi;n=n.ca.ae;k=Z(.02*k,.02*m);p=Z(.02*p,.02*r);b.i=this.body;b.k=n;b.I.L(vd(b.i.F,k));b.U.L(vd(b.k.F,p));n=p.x-k.x;k=p.y-k.y;
b.length=Math.sqrt(n*n+k*k);b.G=0;b.A=0;b.length=.02*Math.sqrt(c*c+a*a);b.A=d;b.G=l;this.qd.push(Ag(this.fd,b))}}};b.At=function(a,b){if(this.enabled){var c=this.j.$i(b);if(c&&c!=this.C&&c.ca.ae){c.ca.ae.Ve.Af.add(this.C);var d=this.Kk(a),l=this.Lk(a),n=new wi;xi(n,this.body,c.ca.ae,Z(.02*d,.02*l));this.qd.push(Ag(this.fd,n))}}};b.zt=function(a,b,c,d){if(this.enabled&&(b=this.j.$i(b))&&b!=this.C&&b.ca.ae){b.ca.ae.Ve.Af.add(this.C);var l=this.Kk(a);a=this.Lk(a);var n=new wi;xi(n,this.body,b.ca.ae,
Z(.02*l,.02*a));n.I=!0;n.X=Ja(c);n.W=Ja(d);this.qd.push(Ag(this.fd,n))}};c.$a=new a;c.ec=new function(){}})();function Pi(a){this.j=a}
(function(){var a=Pi.prototype;a.ib=function(a){this.behavior=a;this.j=a.j};a.ib.prototype.Ea=function(){};a.Ya=function(a,c){this.type=a;this.behavior=a.behavior;this.C=c;this.j=a.j};var c=a.Ya.prototype;c.Ea=function(){this.speed=Ja(this.da[0]);this.of=Ja(this.da[1])};c.rc=function(){return{speed:this.speed,acc:this.of}};c.Mc=function(a){this.speed=a.speed;this.of=a.acc};c.wd=function(){var a=this.j.Zh(this.C);0!==a&&(0!==this.of&&(this.speed+=this.of*a),0!==this.speed&&(this.C.P=Oa(this.C.P+this.speed*
a),this.C.la()))};a.aa=new function(){};a.$a=new function(){};a.ec=new function(){}})();function Qi(a){this.j=a}
(function(){var a=Qi.prototype;a.ib=function(a){this.behavior=a;this.j=a.j};a.ib.prototype.Ea=function(){};a.Ya=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.j=a.j;this.mode=0};a=a.Ya.prototype;a.Ea=function(){this.mode=this.da[0]};a.wd=function(){};a.no=function(){this.C.Qa();var a=this.C.pb,b=this.C.Q.Lb,d=!1;0===this.mode?(0>this.C.x&&(this.C.x=0,d=!0),0>this.C.y&&(this.C.y=0,d=!0),this.C.x>b.width&&(this.C.x=b.width,d=!0),this.C.y>b.height&&(this.C.y=b.height,d=!0)):(0>a.left&&
(this.C.x-=a.left,d=!0),0>a.top&&(this.C.y-=a.top,d=!0),a.right>b.width&&(this.C.x-=a.right-b.width,d=!0),a.bottom>b.height&&(this.C.y-=a.bottom-b.height,d=!0));d&&this.C.la()}})();function Ri(a){this.j=a}
(function(){var a=Ri.prototype;a.ib=function(a){this.behavior=a;this.j=a.j};a.ib.prototype.Ea=function(){};a.Ya=function(a,b){this.type=a;this.behavior=a.behavior;this.C=b;this.j=a.j};a=a.Ya.prototype;a.Ea=function(){};a.wd=function(){this.C.Qa();var a=this.C.pb,b=this.C.Q.Lb;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.j.Yf(this.C)}})();
function $c(){return[bd,ad,cd,dd,ed,gd,Qi,Ri,fd,hd,Pi,Oi,G.prototype.aa.ks,G.prototype.aa.es,G.prototype.$a.bs,G.prototype.ec.random,ad.prototype.aa.us,ad.prototype.$a.Jc,G.prototype.$a.Vr,ad.prototype.$a.Ls,G.prototype.aa.as,ad.prototype.aa.$r,ad.prototype.$a.$l,G.prototype.$a.Ns,ad.prototype.$a.Js,ad.prototype.$a.Ms,ad.prototype.aa.Ho,ad.prototype.$a.Ko,cd.prototype.$a.Ko,cd.prototype.$a.Is,G.prototype.aa.gs,ad.prototype.$a.Lo,G.prototype.aa.Io,ad.prototype.aa.ls,ad.prototype.ec.Rs,ad.prototype.ec.Ss,
ad.prototype.$a.Hs,G.prototype.$a.Ks]};
